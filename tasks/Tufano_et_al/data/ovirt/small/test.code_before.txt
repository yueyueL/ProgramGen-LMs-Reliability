void vdsNotResponding ( org.ovirt.engine.core.common.businessentities.VDS vds , boolean executeSshSoftFencing ) ;
public java.lang.Object runInTransaction ( ) { org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getStoragePoolIsoMapDAO ( ) . remove ( new org.ovirt.engine.core.common.businessentities.StoragePoolIsoMapId ( domainInDb.getId ( ) , _storagePoolId ) ) ; return null ; }
public native void removeItem ( com.google.gwt.user.cellview.client.Column < T , ? > column ) ;
public void validateInvalidFileToBlock ( ) { validateInvalidDestinationAndSourceDomainOfDifferentStorageSubtypes ( StorageType.NFS , StorageType.ISCSI , false ) ; }
public void getAllForVmForUnprivilegedUser ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.VmGuestAgentInterface > interfaces = dao.getAllForVm ( org.ovirt.engine.core.dao.VmGuestAgentInterfaceDaoTest.EXISTING_VM_ID , org.ovirt.engine.core.dao.UNPRIVILEGED_USER_ID , true ) ; org.junit.Assert.assertTrue ( interfaces.isEmpty ( ) ) ; }
public void setSearchString ( java.lang.String value ) { if ( ( value == null ) || ( ! ( containsTokens ( value , SyntaxObjectType.SORTBY , SyntaxObjectType.PAGE , SyntaxObjectType.SORT_DIRECTION ) ) ) ) { setSearchString ( value , true ) ; } }
protected void executeQuery ( ) { org.ovirt.engine.core.common.businessentities.LdapUser user = org.ovirt.engine.core.bll.adbroker.InternalBrokerUtils.getUserByUserGuid ( getUserId ( ) ) ; if ( user != null ) { setSucceeded ( true ) ; setReturnValue ( user ) ; } else { setSucceeded ( false ) ; } }
public void clearCache ( ) { org.ovirt.engine.core.vdsbroker.irsbroker.IrsProxyData.log.info ( ( "clearing cache for problematic entities in pool " + ( _storagePoolId ) ) ) ; _timers.clear ( ) ; _domainsInProblem.clear ( ) ; }
public java.lang.String toString ( ) { return ( "HostDevice[" + ( getId ( ) . toString ( ) ) ) + "]" ; }
public org.ovirt.engine.api.resource.AssignedCpuProfilesResource getCpuProfilesResource ( ) { return inject ( new org.ovirt.engine.api.restapi.resource.BackendAssignedCpuProfilesResource ( id ) ) ; }
public void nameIsNotNullForUpdate ( ) throws java.lang.Exception { assertNicValidation ( createNic ( org.ovirt.engine.core.common.businessentities.network.VmNetworkInterfaceValidationTest.VALID_MAC_ADDRESS , org.ovirt.engine.core.common.businessentities.network.VmNetworkInterfaceValidationTest.VALID_NIC_NAME , org.ovirt.engine.core.common.businessentities.network.VmNetworkInterfaceValidationTest.VALID_NIC_TYPE ) , org.ovirt.engine.core.common.validation.group.UpdateEntity.class , false , VmNetworkInterface.VALIDATION_MESSAGE_NAME_NOT_NULL ) ; }
protected java.util.List < org.ovirt.engine.core.common.businessentities.storage.DiskImage > getImages ( ) { return null ; }
protected void removeVmSnapshots ( ) { org.ovirt.engine.core.compat.Guid vmId = getVmId ( ) ; java.util.Set < java.lang.String > memoryStates = snapshotsManager.removeSnapshots ( vmId ) ; for ( java.lang.String memoryState : memoryStates ) { removeMemoryVolumes ( memoryState , vmId ) ; } }
public static org.ovirt.engine.core.dal.dbbroker.DbFacade getDbFacade ( ) { return org.ovirt.engine.core.dal.dbbroker.DbFacadeLocator.dbFacade ; }
private org.ovirt.engine.core.common.businessentities.VDS createHost ( final org.ovirt.engine.core.common.businessentities.VDSGroup vdsGroup ) { org.ovirt.engine.core.common.businessentities.VDS vds = new org.ovirt.engine.core.common.businessentities.VDS ( ) ; vds.setId ( org.ovirt.engine.core.compat.Guid.newGuid ( ) ) ; vds.setVdsGroupId ( vdsGroup.getId ( ) ) ; return vds ; }
public boolean evaluate ( java.lang.Object networkType ) { return ! ( NetworkType.VLAN.equals ( networkType ) ) ; }
private void updateLUNConnectionsInfo ( org.ovirt.engine.core.common.businessentities.LUNs lun ) { lun.setLunConnections ( new java.util.ArrayList < org.ovirt.engine.core.common.businessentities.StorageServerConnections > ( org.ovirt.engine.core.bll.AbstractDiskVmCommand.getDbFacade ( ) . getStorageServerConnectionDao ( ) . getAllForLun ( lun.getLUN_id ( ) ) ) ) ; }
protected org.ovirt.engine.api.model.Network addParents ( org.ovirt.engine.api.model.Network model ) { org.ovirt.engine.api.model.QoS qos = model.getQos ( ) ; if ( qos != null ) { qos.setDataCenter ( model.getDataCenter ( ) ) ; } return model ; }
private java.util.List < org.ovirt.engine.core.common.businessentities.network.Network > getClusterNetworks ( org.ovirt.engine.core.common.businessentities.VDS host ) { return networkDao.getAllForCluster ( host.getVdsGroupId ( ) ) ; }
org.ovirt.engine.core.bll.validator.NetworkValidator createNetworkValidator ( ) { return new org.ovirt.engine.core.bll.validator.NetworkValidator ( getNetwork ( ) ) ; }
public void setSelectedProtocol ( org.ovirt.engine.ui.uicommonweb.models.ConsoleProtocol selectedProtocol ) { setSelectedProtocol ( selectedProtocol , this ) ; }
public org.ovirt.engine.ui.uicommonweb.models.storage.SanStorageModelBase flush ( ) { return org.ovirt.engine.ui.common.widget.uicommon.storage.AbstractSanStorageView.Driver.driver.flush ( ) ; }
public void executed ( org.ovirt.engine.ui.uicompat.FrontendActionAsyncResult result ) { org.ovirt.engine.core.common.action.VdcReturnValueBase returnValue = result.getReturnValue ( ) ; StopProgress ( ) ; if ( ( returnValue != null ) && ( returnValue.getSucceeded ( ) ) ) { cancel ( ) ; postOnSave ( ) ; } }
private boolean activateDeactivateVmNicAllowed ( org.ovirt.engine.core.common.businessentities.VMStatus vmStatus ) { return ( vmStatus == ( org.ovirt.engine.core.common.businessentities.VMStatus.Up ) ) || ( vmStatus == ( org.ovirt.engine.core.common.businessentities.VMStatus.Down ) ) ; }
public void addColumnWithHtmlHeader ( com.google.gwt.user.cellview.client.Column < T , ? > column , java.lang.String headerHtml ) { addColumn ( column , getHeader ( column , headerHtml , true ) ) ; }
private boolean isUpdatedToShareable ( org.ovirt.engine.core.common.businessentities.Disk oldDisk , org.ovirt.engine.core.common.businessentities.Disk newDisk ) { return ( newDisk.isShareable ( ) ) && ( ! ( oldDisk.isShareable ( ) ) ) ; }
protected org.ovirt.engine.core.compat.Guid getStoragePoolIdFromSourceImageContainer ( ) { return org.ovirt.engine.core.bll.AddVmCommand.getVmTemplate ( ) . getStoragePoolId ( ) ; }
protected org.ovirt.engine.api.model.Host doPopulate ( org.ovirt.engine.api.model.Host model , org.ovirt.engine.core.common.businessentities.VDS entity ) { return model ; }
public void onSuccess ( java.lang.Object model , java.lang.Object ReturnValue ) { setItems ( ( ( java.util.List < org.ovirt.engine.core.common.businessentities.Provider > ) ( ( ( org.ovirt.engine.core.common.queries.VdcQueryReturnValue ) ( ReturnValue ) ) . getReturnValue ( ) ) ) ) ; }
public org.ovirt.engine.sdk.web.HttpProxy build ( ) { return new org.ovirt.engine.sdk.web.HttpProxy ( pool , persistentAuth , filter , debug ) ; }
public java.lang.Object Convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { return source != null ? new java.util.ArrayList < > ( ( ( java.util.ArrayList < org.ovirt.engine.core.compat.RpmVersion > ) ( source ) ) ) : new java.util.ArrayList < org.ovirt.engine.core.compat.RpmVersion > ( ) ; }
protected void onReveal ( ) { super . onReveal ( ) ; getView ( ) . recalculateSize ( ) ; getView ( ) . showScrollButtons ( ) ; }
public void versionDecreaseWithHost ( ) { createCommandWithOlderVersion ( ) ; setupCpu ( ) ; VdsExist ( ) ; canDoActionFailedWithReason ( VdcBllMessages.ACTION_TYPE_FAILED_CANNOT_DECREASE_COMPATIBILITY_VERSION ) ; }
protected void setImagesWithStoragePoolId ( org.ovirt.engine.core.compat.Guid storagePoolId , java.util.List < org.ovirt.engine.core.common.businessentities.DiskImage > diskImages ) { for ( org.ovirt.engine.core.common.businessentities.DiskImage diskImage : diskImages ) { diskImage.setStoragePoolId ( storagePoolId ) ; } }
private java.lang.String getValueText ( org.ovirt.api.metamodel.concepts.EnumValue value ) { return value.getName ( ) . words ( ) . collect ( java.util.stream.Collectors.joining ( "_" ) ) ; }
org.ovirt.engine.core.vdsbroker.irsbroker.OneUuidReturnForXmlRpc glusterVolumeCreate ( java.lang.String volumeName , java.lang.String [ ] brickList , int replicaCount , int stripeCount , java.lang.String [ ] transportList , boolean force ) ;
static void verifyModelSpecific ( org.ovirt.engine.api.model.CdRom model , int index ) { org.ovirt.engine.api.restapi.resource.AbstractBackendCdRomsResourceTest.verifyModelWithIso ( model , org.ovirt.engine.api.restapi.resource.AbstractBackendCdRomsResourceTest.ISO_PATH ) ; }
public void testValidModifiedBondsFailsWhenBondIsUnnamed ( ) throws java.lang.Exception { doTestValidModifiedBonds ( new org.ovirt.engine.core.common.businessentities.network.Bond ( ) , new org.ovirt.engine.core.bll.ValidationResult ( org.ovirt.engine.core.common.errors.EngineMessage.HOST_NETWORK_INTERFACE_NOT_EXIST ) , ValidationResult.VALID , new org.ovirt.engine.core.bll.ValidationResult ( org.ovirt.engine.core.common.errors.EngineMessage.HOST_NETWORK_INTERFACE_NOT_EXIST ) , ValidationResult.VALID ) ; }
public void update ( int index , org.ovirt.engine.ui.uicommonweb.models.clusters.ClusterNetworkModel clusterNetworkModel , java.lang.Boolean value ) { networks.asEditor ( ) . flush ( ) . setMigrationNetwork ( clusterNetworkModel , value ) ; refreshNetworksTable ( ) ; }
public java.lang.Short getStorage_type ( ) { return this . storage_type ; }
public int getnum_of_monitors ( ) { return this . mVmStatic.getnum_of_monitors ( ) ; }
public static boolean CanRemoveVmPoolWithoutReasons ( org.ovirt.engine.core.compat.Guid vmPoolId ) { java.util.ArrayList < java.lang.String > reasons = new java.util.ArrayList < java.lang.String > ( ) ; return org.ovirt.engine.core.bll.RemoveVmPoolCommand.CanRemoveVmPool ( vmPoolId , reasons ) ; }
public abstract java.util.Map < org.ovirt.engine.core.compat.Guid , org.ovirt.engine.core.common.businessentities.VmDevice > getManagedVmDeviceMap ( ) ;
public void setTitle ( java.lang.String title ) { this . title = title ; }
private static void addSoundCard ( org.ovirt.engine.core.common.businessentities.VmBase vmBase ) { org.ovirt.engine.core.bll.utils.VmDeviceUtils.addSoundCard ( vmBase , org.ovirt.engine.core.bll.utils.ClusterUtils.getCompatilibilyVersion ( vmBase ) ) ; }
protected org.ovirt.engine.core.common.action.VdcReturnValueBase checkAndPerformRollbackUsingCommand ( org.ovirt.engine.core.common.action.VdcActionType commandType , org.ovirt.engine.core.common.action.VdcActionParametersBase params ) { return attemptRollback ( commandType , params ) ; }
public void validateFailsOnSnapshotNotExists ( ) { org.mockito.Mockito.when ( snapshotDao.exists ( org.mockito.Matchers.any ( org.ovirt.engine.core.compat.Guid.class ) , org.mockito.Matchers.any ( org.ovirt.engine.core.compat.Guid.class ) ) ) . thenReturn ( false ) ; org.ovirt.engine.core.bll.ValidateTestUtils.runAndAssertValidateFailure ( spyCommand , EngineMessage.ACTION_TYPE_FAILED_VM_SNAPSHOT_DOES_NOT_EXIST ) ; }
protected void configure ( ) { super . configure ( ) ; bind ( org.ovirt.engine.ui.webadmin.widget.tab.WebadminMenuLayout.class ) . in ( com.google.inject.Singleton.class ) ; bind ( org.ovirt.engine.ui.common.widget.tab.MenuLayout.class ) . in ( com.google.inject.Singleton.class ) ; }
public java.lang.String getNewParentTagName ( ) { org.ovirt.engine.core.common.businessentities.Tags newParent = org.ovirt.engine.core.bll.TagsDirector.getInstance ( ) . getTagById ( org.ovirt.engine.core.bll.MoveTagCommand.getParameters ( ) . getNewParentId ( ) ) ; if ( newParent != null ) { return newParent.getTagName ( ) ; } return "[null]" ; }
private org.ovirt.engine.core.common.businessentities.VmTemplate getTemplateByName ( org.ovirt.engine.api.model.VM vm ) { return lookupTemplateByName ( vm.getTemplate ( ) . getName ( ) ) ; }
private boolean isNetworkChanged ( org.ovirt.engine.core.common.businessentities.VmNetworkInterface iface ) { return ! ( getNetworkName ( ) . equals ( iface.getNetworkName ( ) ) ) ; }
public org.ovirt.engine.api.model.Role update ( org.ovirt.engine.api.model.Role role ) { validateEnums ( org.ovirt.engine.api.model.Role.class , role ) ; return performUpdate ( role , new org.ovirt.engine.api.restapi.resource.QueryIdResolver < org.ovirt.engine.core.compat.Guid > ( org.ovirt.engine.core.common.queries.VdcQueryType.GetRoleById , org.ovirt.engine.core.common.queries.MultilevelAdministrationByRoleIdParameters.class ) , VdcActionType.UpdateRole , new org.ovirt.engine.api.restapi.resource.BackendRoleResource.UpdateParametersProvider ( ) ) ; }
java.util.List < org.ovirt.engine.core.common.utils.Pair < org.ovirt.engine.core.compat.Guid , org.ovirt.engine.core.common.businessentities.VmNumaNode > > getVmNumaNodeInfoByClusterId ( org.ovirt.engine.core.compat.Guid cluster ) ;
private org.ovirt.engine.core.vdsbroker.VmsMonitoring getVmsMonitoring ( org.ovirt.engine.core.vdsbroker.VmsListFetcher fetcher , long fetchTime ) { return new org.ovirt.engine.core.vdsbroker.VmsMonitoring ( manager , fetcher.getChangedVms ( ) , fetcher.getVmsWithChangedDevices ( ) , auditLogDirector , fetchTime , getRefreshStatistics ( ) ) ; }
public void execute ( ) { org.ovirt.engine.ui.uicommonweb.models.SearchableListModel.logger.fine ( ( ( this . getClass ( ) . getName ( ) ) + ": Executing search" ) ) ; if ( getIsAsync ( ) ) { AsyncSearch ( ) ; } else { SyncSearch ( ) ; } }
protected void setUpQueryExpectations ( java.lang.String query , java.lang.Object failure ) throws java.lang.Exception { setUpEntityQueryExpectations ( VdcQueryType.GetErrataForEngine , org.ovirt.engine.core.common.queries.VdcQueryParametersBase.class , new java.lang.String [ ] { } , new java.lang.Object [ ] { } , getErrata ( ) , failure ) ; control.replay ( ) ; }
public int hashCode ( ) { return java.util.Objects.hash ( id , appList , creationDate , description , memoryVolume , status , type , vmConfiguration , vmId , diskImages ) ; }
public void testInterfaceAlreadyLabeledWithWhenInterfaceIsLabeledByDifferentLabel ( ) { org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface vdsNetworkInterface = createVdsNetworkInterfaceWithName ( ) ; vdsNetworkInterface.setLabels ( java.util.Collections.singleton ( "labelB" ) ) ; org.junit.Assert.assertThat ( new org.ovirt.engine.core.bll.validator.HostInterfaceValidator ( vdsNetworkInterface ) . interfaceAlreadyLabeledWith ( "labelA" ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.isValid ( ) ) ; }
public org.ovirt.vdsmfake.domain.Host getActiveHostByName ( java.lang.String serverName ) { return org.ovirt.vdsmfake.domain.VdsmManager.getInstance ( ) . getHostByName ( serverName ) ; }
public void edit ( final org.ovirt.engine.ui.uicommonweb.models.storage.SanStorageModelBase object ) { org.ovirt.engine.ui.common.widget.uicommon.storage.IscsiLunToTargetView.Driver.driver.edit ( object ) ; initLists ( object ) ; }
private boolean destinationHasSpace ( java.util.Collection < org.ovirt.engine.core.common.businessentities.DiskImage > diskImages ) { return validate ( new org.ovirt.engine.core.bll.validator.StorageDomainValidator ( org.ovirt.engine.core.bll.MoveVmCommand.getStorageDomain ( ) ) . isDomainHasSpaceForRequest ( ( ( long ) ( org.ovirt.engine.core.bll.ImagesHandler.sumImagesTotalSizeWithSnapshotSize ( diskImages ) ) ) ) ) ; }
public org.ovirt.engine.core.common.businessentities.CommandEntity createCommandEntity ( org.ovirt.engine.core.compat.Guid cmdId , org.ovirt.engine.core.common.action.ActionType actionType , org.ovirt.engine.core.common.action.ActionParametersBase params ) { org.ovirt.engine.core.common.businessentities.CommandEntity cmdEntity = new org.ovirt.engine.core.common.businessentities.CommandEntity ( ) ; cmdEntity.setId ( cmdId ) ; cmdEntity.setCommandType ( actionType ) ; cmdEntity.setCommandParameters ( params ) ; return cmdEntity ; }
public void getUsbPolicyIsSetDisabled ( ) { org.ovirt.engine.api.model.Usb usb = new org.ovirt.engine.api.model.Usb ( ) ; org.ovirt.engine.core.common.businessentities.VDSGroup vdsGroup = new org.ovirt.engine.core.common.businessentities.VDSGroup ( ) ; assertEquals ( org.ovirt.engine.api.restapi.types.VmMapper.getUsbPolicyOnCreate ( usb , vdsGroup ) , UsbPolicy.DISABLED ) ; }
public boolean eval ( org.ovirt.engine.core.common.businessentities.StorageDomain storageDomain ) { return ! ( sdToReject.equals ( storageDomain ) ) ; }
protected org.ovirt.engine.core.common.businessentities.StorageType getEnum ( org.ovirt.engine.core.common.businessentities.StoragePool storage ) { return storage.getstorage_pool_type ( ) ; }
public void setLabels ( org.ovirt.engine.ui.uicommonweb.models.ListModel < java.lang.String > labels ) { this . labels = labels ; }
public void testGetIscsiBondByIscsiBondId ( ) { org.ovirt.engine.core.common.businessentities.IscsiBond iscsiBond = dao.get ( iscsiBondId ) ; junit.framework.Assert.assertNotNull ( iscsiBond ) ; }
public void executeCommand ( org.ovirt.engine.ui.uicommonweb.UICommand uiCommand ) { setWindow ( null ) ; setWindow ( model ) ; }
public void testLoginNameAtDirectoryWhenDirectorySet ( ) { org.ovirt.engine.core.common.businessentities.aaa.DbUser user = new org.ovirt.engine.core.common.businessentities.aaa.DbUser ( ) ; user.setLoginName ( "Legolas" ) ; user.setDomain ( "MiddleEarth.com" ) ; command.setCurrentUser ( user ) ; org.junit.Assert.assertEquals ( "Legolas@MiddleEarth.com" , command.getConsoleUserName ( ) ) ; }
protected void updateCurrentCd ( java.lang.String cdPath ) { cdPath = ( org.apache.commons.lang.StringUtils.isEmpty ( cdPath ) ) ? null : cdPath ; vmHandler.updateCurrentCd ( org.ovirt.engine.core.bll.RunVmCommand.getVdsId ( ) , org.ovirt.engine.core.bll.RunVmCommand.getVm ( ) , cdPath ) ; }
public void setvds_name ( java.lang.String value ) { this . name = value ; }
public java.lang.String getText ( org.ovirt.engine.core.common.businessentities.DbUser user ) { return user.getsurname ( ) ; }
public void execute ( ) { if ( ( canInvokePlugins ) && ( plugin.isInState ( PluginState.IN_USE ) ) ) { invokePlugin ( plugin , functionName , functionArgs ) ; } }
public java.lang.Object convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { return source != null ? ( ( java.lang.String ) ( source ) ) : "" ; }
protected void executeQueryCommand ( ) { org.ovirt.engine.core.dao.VmDeviceDAO dao = org.ovirt.engine.core.bll.IsBalloonEnabledQuery.getDbFacade ( ) . getVmDeviceDAO ( ) ; org.ovirt.engine.core.bll.IsBalloonEnabledQuery.getQueryReturnValue ( ) . setReturnValue ( dao.isMemBalloonEnabled ( org.ovirt.engine.core.bll.IsBalloonEnabledQuery.getParameters ( ) . getId ( ) ) ) ; }
public org.ovirt.engine.core.common.businessentities.ArchitectureType convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { return ( ( org.ovirt.engine.core.common.businessentities.ArchitectureType ) ( source ) ) ; }
private static org.ovirt.engine.core.common.businessentities.DiskImage createSparseDiskImage ( ) { org.ovirt.engine.core.common.businessentities.DiskImage image = new org.ovirt.engine.core.common.businessentities.DiskImage ( ) ; image.setVolumeType ( VolumeType.Sparse ) ; image.setDiskInterface ( DiskInterface.IDE ) ; return image ; }
public org.ovirt.engine.core.vdsbroker.gluster.StorageDeviceListReturnForXmlRpc getStorageDeviceList ( ) { org.ovirt.vdsm.jsonrpc.client.JsonRpcRequest request = new org.ovirt.vdsm.jsonrpc.client.RequestBuilder ( "GlusterHost.storageDevicesList" ) . build ( ) ; java.util.Map < java.lang.String , java.lang.Object > response = new org.ovirt.engine.core.vdsbroker.jsonrpc.FutureMap ( this . client , request ) . withResponseKey ( "deviceInfo" ) ; return new org.ovirt.engine.core.vdsbroker.gluster.StorageDeviceListReturnForXmlRpc ( response ) ; }
public static boolean IsMatch ( java.lang.String searchString , java.lang.String pageStringRegex , int ignorecase ) { throw new org.ovirt.engine.core.compat.NotImplementedException ( ) ; }
public void updateFCPUnsupportedConnectionType ( ) { org.ovirt.engine.core.common.businessentities.StorageServerConnections dummyFCPConn = createISCSIConnection ( "10.35.16.25" , StorageType.FCP , "" , "user1" , "mypassword123" ) ; parameters.setStorageServerConnection ( dummyFCPConn ) ; org.ovirt.engine.core.bll.CanDoActionTestUtils.runAndAssertCanDoActionFailure ( command , VdcBllMessages.ACTION_TYPE_FAILED_STORAGE_CONNECTION_UNSUPPORTED_ACTION_FOR_STORAGE_TYPE ) ; }
private org.ovirt.engine.api.model.Label getModel ( int i ) { org.ovirt.engine.api.model.Label model = new org.ovirt.engine.api.model.Label ( ) ; model.setId ( org.ovirt.engine.api.restapi.resource.BackendHostNicLabelsResourceTest.LABELS [ i ] ) ; return model ; }
public void networkNotInUseByVms ( ) throws java.lang.Exception { networkNotUsedByVmsTest ( ValidationResult.VALID , java.util.Collections.< org.ovirt.engine.core.common.businessentities.VM > emptyList ( ) ) ; }
public java.lang.String getValue ( org.ovirt.engine.core.common.businessentities.network.Network object ) { return object.getName ( ) ; }
public org.ovirt.engine.core.common.queries.VdcQueryReturnValue runQuery ( org.ovirt.engine.core.common.queries.QueryType actionType , org.ovirt.engine.core.common.queries.VdcQueryParametersBase parameters ) { return runQueryImpl ( actionType , parameters , true , null ) ; }
public void ExecuteCommand ( org.ovirt.engine.ui.uicommonweb.UICommand uiCommand , java.lang.Object ... parameters ) { ExecuteCommand ( uiCommand ) ; }
public void onClick ( com.google.gwt.event.dom.client.ClickEvent event ) { executeCommand ( getShutdownCommand ( ) ) ; }
public void spiceConnect ( ) { try { getspice ( ) . connect ( ) ; } catch ( java.lang.RuntimeException ex ) { getLogger ( ) . error ( "Exception on Spice connect" , ex ) ; } }
protected void verifyModel ( org.ovirt.engine.api.model.ExternalDiscoveredHost model , int index ) { assertEquals ( NAMES [ index ] , model.getName ( ) ) ; verifyLinks ( model ) ; }
public org.ovirt.engine.core.bll.ValidationResult portMirroringNotSetIfExternalNetwork ( org.ovirt.engine.core.common.businessentities.network.Network network ) { return ( ! ( nic.isPortMirroring ( ) ) ) || ( ( network.getProvidedBy ( ) ) == null ) ? org.ovirt.engine.core.bll.ValidationResult.VALID : new org.ovirt.engine.core.bll.ValidationResult ( org.ovirt.engine.core.common.errors.VdcBllMessages.ACTION_TYPE_FAILED_EXTERNAL_NETWORK_CANNOT_BE_PORT_MIRRORED ) ; }
private void markCurrentCmdlineAsStored ( ) { final org.ovirt.engine.core.common.businessentities.VdsStatic vdsStatic = org.ovirt.engine.core.bll.hostdeploy.InstallVdsInternalCommand.getVds ( ) . getStaticData ( ) ; org.ovirt.engine.core.bll.hostdeploy.InstallVdsInternalCommand.getVdsStaticDao ( ) . updateLastStoredKernelCmdline ( vdsStatic.getId ( ) , vdsStatic.getCurrentKernelCmdline ( ) ) ; }
public boolean remove ( int index ) { throw new org.ovirt.engine.core.compat.NotImplementedException ( ) ; }
public void setInfo ( java.lang.String value ) { setinfo ( value ) ; OnPropertyChanged ( new org.ovirt.engine.ui.uicompat.PropertyChangedEventArgs ( "Info" ) ) ; }
protected org.ovirt.engine.core.bll.validator.storage.MultipleStorageDomainsValidator createMultipleStorageDomainsValidator ( java.util.Collection < org.ovirt.engine.core.common.businessentities.storage.DiskImage > diskImages ) { return new org.ovirt.engine.core.bll.validator.storage.MultipleStorageDomainsValidator ( org.ovirt.engine.core.bll.storage.export.MoveOrCopyTemplateCommand.getStoragePoolId ( ) , org.ovirt.engine.core.bll.storage.disk.image.ImagesHandler.getAllStorageIdsForImageIds ( diskImages ) ) ; }
protected org.ovirt.engine.api.model.Disk getUpdate ( ) { org.ovirt.engine.api.model.Disk update = new org.ovirt.engine.api.model.Disk ( ) ; update.setWipeAfterDelete ( false ) ; return update ; }
protected boolean canDoAction ( ) { if ( ! ( super . canDoAction ( ) ) ) { return false ; } if ( ( getGeoRepSession ( ) . getStatus ( ) ) == ( org.ovirt.engine.core.common.businessentities.gluster.GeoRepSessionStatus.PASSIVE ) ) { return failCanDoAction ( VdcBllMessages.ACTION_TYPE_FAILED_GEOREP_SESSION_ALREADY_PAUSED ) ; } return true ; }
protected javax.ws.rs.core.UriInfo setUpRestoreExpectations ( ) { return setUpActionExpectations ( VdcActionType.RestoreAllSnapshots , org.ovirt.engine.core.common.action.RestoreAllSnapshotsParameters.class , new java.lang.String [ ] { "VmId" , "SnapshotAction" } , new java.lang.Object [ ] { org.ovirt.engine.api.restapi.resource.BackendSnapshotResourceTest.VM_ID , org.ovirt.engine.core.common.businessentities.SnapshotActionEnum.COMMIT } , true , true , null ) ; }
private org.ovirt.engine.core.bll.snapshots.RemoveSnapshotSingleDiskLiveCommand < org.ovirt.engine.core.common.action.RemoveSnapshotSingleDiskParameters > getCommand ( org.ovirt.engine.core.compat.Guid cmdId ) { return org.ovirt.engine.core.bll.tasks.CommandCoordinatorUtil.retrieveCommand ( cmdId ) ; }
public void testGetByName ( ) { org.ovirt.engine.core.common.businessentities.VdsStatic result = dao.get ( existingVds.getvds_name ( ) ) ; assertNotNull ( result ) ; assertEquals ( existingVds.getvds_name ( ) , result.getvds_name ( ) ) ; }
public void AddError ( java.lang.String error ) { }
public void addOrUpdateTaskInDB ( final org.ovirt.engine.core.common.businessentities.AsyncTasks asyncTask ) { persistCommand ( copyToCommandEntity ( asyncTask , commandsCache.get ( asyncTask.getCommandId ( ) ) ) ) ; org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getAsyncTaskDao ( ) . saveOrUpdate ( asyncTask ) ; }
protected java.util.Map < java.lang.String , org.ovirt.engine.core.common.utils.Pair < java.lang.String , java.lang.String > > getExclusiveLocks ( ) { return java.util.Collections.singletonMap ( org.ovirt.engine.core.bll.storage.export.RemoveVmFromImportExportCommand.getVmId ( ) . toString ( ) , org.ovirt.engine.core.bll.LockMessagesMatchUtil.makeLockingPair ( LockingGroup.REMOTE_VM , getVmIsBeingRemovedFromExportDomainMessage ( ) ) ) ; }
protected boolean isVirtioScsiEnabled ( ) { java.lang.Boolean virtioScsiEnabled = org.ovirt.engine.core.bll.UpdateVmCommand.getParameters ( ) . isVirtioScsiEnabled ( ) ; return virtioScsiEnabled != null ? virtioScsiEnabled : org.ovirt.engine.core.bll.utils.VmDeviceUtils.isVirtioScsiControllerAttached ( getVmId ( ) ) ; }
public java.lang.String getValue ( org.ovirt.engine.core.common.businessentities.VmTemplate object ) { return java.lang.String.valueOf ( object.getDiskMap ( ) . size ( ) ) ; }
public void testCanDoActionImageHasParent ( ) { getDiskImage ( ) . setParentId ( org.ovirt.engine.core.compat.Guid.newGuid ( ) ) ; org.ovirt.engine.core.bll.CanDoActionTestUtils.runAndAssertCanDoActionFailure ( cmd , EngineMessage.ACTION_TYPE_FAILED_DISK_CONFIGURATION_NOT_SUPPORTED ) ; }
public void testSetup ( ) { mockQuotaDao ( ) ; }
public org.ovirt.engine.core.utils.lock.LockManager getLockManager ( ) { return org.ovirt.engine.core.di.Injector.get ( org.ovirt.engine.core.utils.lock.LockManager.class ) ; }
org.ovirt.engine.core.vdsbroker.vdsbroker.OneLUNReturnForXmlRpc getDeviceInfo ( java.lang.String devGUID ) ;
private org.ovirt.engine.core.common.scheduling.AffinityGroup createAffinityGroup ( ) { affinityGroup = new org.ovirt.engine.core.common.scheduling.AffinityGroup ( ) ; affinityGroup.setName ( org.ovirt.engine.core.bll.scheduling.commands.EditAffinityGroupCommandTest.AFFINITY_GROUP_NAME ) ; affinityGroup.setClusterId ( clusterId ) ; affinityGroup.setEntityIds ( new java.util.ArrayList < > ( ) ) ; return affinityGroup ; }
org.ovirt.engine.core.vdsbroker.vdsbroker.StatusOnlyReturnForXmlRpc extendImageTransferSession ( java.lang.String ticketId , long expiration ) ;
public com.google.gwt.user.client.ui.Widget getValueWidget ( ) { return valueWidget ; }
public void testValidModifiedBondsFailsWhenBondIsUnnamed ( ) throws java.lang.Exception { doTestValidModifiedBonds ( new org.ovirt.engine.core.common.businessentities.network.Bond ( ) , new org.ovirt.engine.core.bll.ValidationResult ( org.ovirt.engine.core.common.errors.EngineMessage.HOST_NETWORK_INTERFACE_NOT_EXIST ) , ValidationResult.VALID , new org.ovirt.engine.core.bll.ValidationResult ( org.ovirt.engine.core.common.errors.EngineMessage.HOST_NETWORK_INTERFACE_NOT_EXIST ) , ValidationResult.VALID ) ; }
java.util.concurrent.Future < java.util.Map < java.lang.String , java.lang.Object > > setupNetworks ( org.ovirt.engine.core.vdsbroker.xmlrpc.XmlRpcStruct networks , org.ovirt.engine.core.vdsbroker.xmlrpc.XmlRpcStruct bonding , org.ovirt.engine.core.vdsbroker.xmlrpc.XmlRpcStruct options ) ;
protected org.ovirt.engine.core.common.businessentities.ArchitectureType getArchitecture ( org.ovirt.engine.core.common.businessentities.VDSGroup group ) { if ( org.apache.commons.lang.StringUtils.isNotEmpty ( group.getcpu_name ( ) ) ) { return org.ovirt.engine.core.bll.CpuFlagsManagerHandler.getArchitectureByCpuName ( group.getcpu_name ( ) , group.getcompatibility_version ( ) ) ; } return group.getArchitecture ( ) ; }
private void cancel ( ) { cancelConfirmation ( ) ; setWindow ( null ) ; updateActionAvailability ( ) ; }
public void validateFailsWithEmptyBricksList ( ) { cmd.getParameters ( ) . setBricks ( java.util.Collections.emptyList ( ) ) ; org.junit.Assert.assertFalse ( cmd.validate ( ) ) ; }
public boolean isSetValue ( ) { return ( this . value ) != null ; }
public void setHasAdditionalConsoleModel ( boolean value ) { if ( ( hasAdditionalConsoleModel ) != value ) { hasAdditionalConsoleModel = value ; OnPropertyChanged ( new org.ovirt.engine.core.compat.PropertyChangedEventArgs ( "HasAdditionalConsoleModel" ) ) ; } }
void localize ( org.ovirt.engine.ui.webadmin.ApplicationConstants constants , org.ovirt.engine.ui.webadmin.ApplicationDynamicMessages dynamicMessages ) { closeButton.setText ( constants.closeButtonLabel ( ) ) ; titleLabel.setText ( constants.aboutPopupCaption ( ) ) ; copyrightNotice.setText ( dynamicMessages.copyRightNotice ( ) ) ; }
public void executeCommand ( org.ovirt.engine.ui.uicommonweb.UICommand command ) { test ( ) ; }
private java.lang.String ipv6 ( ) { return org.ovirt.engine.core.common.utils.ValidationUtils.IPV6_PATTERN ; }
public static boolean IsVmInPool ( org.ovirt.engine.core.compat.Guid vmId ) { org.ovirt.engine.core.common.businessentities.VM vm = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getVmDAO ( ) . get ( vmId ) ; return ( vm != null ) && ( ( vm.getVmPoolId ( ) ) != null ) ; }
public java.util.Map < java.lang.String , java.lang.Object > startSpice ( java.lang.String vdsIp , int port , java.lang.String ticket ) ;
public void setConsole_current_user_name ( java.lang.String console_cur_user_name ) { this . consoleCurUserName = console_cur_user_name ; }
public int hashCode ( ) { return java.util.Objects.hash ( addr , description , gateway , id , name , dataCenterId , stp , subnet , type , vlanId , mtu , vmNetwork , providedBy , label , qosId ) ; }
private void runAndAssertCanDoActionSuccess ( ) { boolean canDoAction = command.canDoAction ( ) ; java.lang.System.out.println ( command.getReturnValue ( ) . getCanDoActionMessages ( ) ) ; org.junit.Assert.assertTrue ( canDoAction ) ; }
public org.ovirt.engine.core.aaa.DirectoryGroup findGroup ( org.ovirt.engine.core.common.utils.ExternalId id ) { return null ; }
public java.lang.Boolean getKsmState ( ) { return this . mVdsStatistics.getksm_state ( ) ; }
public void setCloseCommand ( org.ovirt.engine.ui.uicommonweb.UICommand closeCommand ) { this . closeCommand = closeCommand ; }
public void testAddValueGuid ( ) { org.ovirt.engine.core.compat.Guid guid = new org.ovirt.engine.core.compat.Guid ( java.util.UUID.randomUUID ( ) ) ; paramSource.addValue ( paramName , guid ) ; org.junit.Assert.assertEquals ( "wrong value returned from parameter source" , guid.toString ( ) , paramSource.getValue ( paramName ) ) ; }
public void onSelectionChange ( com.google.gwt.view.client.SelectionChangeEvent event ) { button.setEnabled ( ( ! ( selectionModel.getSelectedSet ( ) . isEmpty ( ) ) ) ) ; }
private static org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface createVdsNetworkInterfaceWithStaticIp ( java.lang.String ip ) { org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface networkInterface = new org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface ( ) ; networkInterface.setIpv4Address ( ip ) ; networkInterface.setIpv4BootProtocol ( NetworkBootProtocol.STATIC_IP ) ; return networkInterface ; }
public void testValidateBondOptionsForNewAttachementWithNonVmNetwork ( ) { validateValidBonds ( true , false , true , false ) ; }
private void assertPostZeroValue ( org.ovirt.engine.core.bll.storage.domain.PostDeleteActionHandlerTest.ParametersWithPostDeleteAction parameters , boolean postZeroExpectedValue ) { org.junit.Assert.assertEquals ( java.text.MessageFormat.format ( "Wrong VDS command parameters: 'postZero' should be {0}." , postZeroExpectedValue ) , parameters.getPostZero ( ) , postZeroExpectedValue ) ; }
public javax.ws.rs.core.Response activate ( org.ovirt.engine.api.model.Action action ) { org.ovirt.engine.core.common.action.HotPlugDiskToVmParameters params = new org.ovirt.engine.core.common.action.HotPlugDiskToVmParameters ( new org.ovirt.engine.core.common.businessentities.storage.DiskVmElement ( guid , vmId ) ) ; return doAction ( VdcActionType.HotPlugDiskToVm , params , action ) ; }
public void UpdateDynamicData ( org.ovirt.engine.core.common.businessentities.VdsDynamic dynamicData ) { org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getVdsDynamicDAO ( ) . update ( dynamicData ) ; }
private void initializeCommand ( org.ovirt.engine.core.common.action.UpdateVmDiskParameters params ) { initializeCommand ( params , java.util.Collections.singletonList ( createVmStatusDown ( ) ) ) ; }
public org.ovirt.engine.api.v3.servers.V3GraphicsConsolesServer getGraphicsConsolesResource ( ) { return new org.ovirt.engine.api.v3.servers.V3GraphicsConsolesServer ( delegate.getGraphicsConsolesResource ( ) ) ; }
public void shouldDetectDifferentOs ( ) { org.hamcrest.MatcherAssert.assertThat ( new org.ovirt.engine.core.bll.scheduling.OS ( "os1" , new org.ovirt.engine.core.compat.Version ( "6.3" ) ) . isSameOs ( new org.ovirt.engine.core.bll.scheduling.OS ( "os2" , new org.ovirt.engine.core.compat.Version ( "6.3" ) ) ) , org.hamcrest.core.Is.is ( false ) ) ; }
protected org.ovirt.engine.core.common.asynctasks.AsyncTaskType getCreatedTaskType ( ) { return org.ovirt.engine.core.common.asynctasks.AsyncTaskType.uploadImageFromStream ; }
protected void setHostPort ( org.ovirt.engine.core.common.businessentities.VDS vds ) { if ( ( vds.getPort ( ) ) == 0 ) { getPort ( ) . setEntity ( org.ovirt.engine.ui.uicommonweb.models.hosts.NewHostModel.NewHostDefaultPort ) ; } }
private void UpdateVmTemplate ( ) { org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getVmTemplateDao ( ) . update ( org.ovirt.engine.core.bll.UpdateVmTemplateCommand.getVmTemplate ( ) ) ; }
public static java.util.Map < org.ovirt.engine.core.common.EventNotificationEntity , java.util.HashSet < org.ovirt.engine.core.common.AuditLogType > > getAvailableNotificationEvents ( ) { return org.ovirt.engine.core.common.VdcEventNotificationUtils.GetNotificationEvents ( ) ; }
public void testMethodAllowsConcurrent ( ) { org.junit.Assert.assertFalse ( org.ovirt.engine.core.utils.timer.JobWrapper.methodAllowsConcurrent ( new org.ovirt.engine.core.utils.timer.JobWrapperTest.Dummy ( ) , "serialOnly" ) ) ; org.junit.Assert.assertTrue ( org.ovirt.engine.core.utils.timer.JobWrapper.methodAllowsConcurrent ( new org.ovirt.engine.core.utils.timer.JobWrapperTest.Dummy ( ) , "normalJob" ) ) ; }
public static org.ovirt.engine.core.common.action.VdcActionParametersBase eqActionParams ( java.lang.Class < ? extends org.ovirt.engine.core.common.action.VdcActionParametersBase > clz , java.lang.String [ ] names , java.lang.Object [ ] values ) { org.easymock.EasyMock.reportMatcher ( new org.ovirt.engine.api.restapi.test.util.TestHelper.ActionParametersEquals ( clz , names , values ) ) ; return null ; }
private void cpuIsNotUpdatable ( ) { org.mockito.Mockito.doReturn ( false ) . when ( cmd ) . isCpuUpdatable ( org.mockito.Matchers.any ( org.ovirt.engine.core.common.businessentities.Cluster.class ) ) ; }
public org.ovirt.engine.core.bll.tasks.interfaces.CommandCallback getCallback ( ) { return new org.ovirt.engine.core.bll.StorageJobCallback ( ) ; }
private org.ovirt.engine.core.vdsbroker.monitoring.VdsmVm createVdsmVm ( org.ovirt.engine.core.compat.Guid vmId , java.util.Map < java.lang.String , java.lang.Object > xmlRpcStruct , java.lang.Double notifyTime ) { org.ovirt.engine.core.common.businessentities.VmDynamic fakeVm = new org.ovirt.engine.core.common.businessentities.VmDynamic ( ) ; fakeVm.setId ( vmId ) ; return createVdsmVm ( fakeVm , xmlRpcStruct , notifyTime ) ; }
private void initSpyCommand ( ) { org.mockito.Mockito.doReturn ( true ) . when ( command ) . validateDestDomainsSpaceRequirements ( ) ; org.mockito.Mockito.doReturn ( true ) . when ( command ) . setAndValidateDiskProfiles ( ) ; org.mockito.Mockito.doReturn ( true ) . when ( command ) . validateCreateAllSnapshotsFromVmCommand ( ) ; }
public java.lang.Object convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery asyncQuery ) { if ( source == null ) { return new java.util.ArrayList < org.ovirt.engine.core.common.businessentities.VmTemplate > ( ) ; } return source ; }
public static org.ovirt.engine.core.common.businessentities.storage_domains setUpStorageDomain ( org.ovirt.engine.core.common.businessentities.StorageDomainType domainType ) { org.ovirt.engine.core.common.businessentities.storage_domains entity = new org.ovirt.engine.core.common.businessentities.storage_domains ( ) ; entity.setId ( org.ovirt.engine.api.restapi.resource.BackendStorageDomainTemplatesResourceTest.STORAGE_DOMAIN_ID ) ; entity.setstorage_domain_type ( domainType ) ; return entity ; }
public org.ovirt.engine.api.resource.AssignedPermissionsResource getPermissionsResource ( ) { return inject ( new org.ovirt.engine.api.restapi.resource.BackendAssignedPermissionsResource ( guid , org.ovirt.engine.core.common.queries.VdcQueryType.GetPermissionsForObject , new org.ovirt.engine.core.common.queries.GetPermissionsForObjectParameters ( guid ) , org.ovirt.engine.api.model.Vm.class , org.ovirt.engine.core.common.VdcObjectType.VM ) ) ; }
public java.lang.Void runInTransaction ( ) { for ( org.ovirt.engine.core.compat.Guid diskId : diskIds ) { org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getImageDao ( ) . updateStatusOfImagesByImageGroupId ( diskId , status ) ; } compensationContext.stateChanged ( ) ; return null ; }
public void validateSucceedsOnVolumeWithRemoveBricksTaskCompleted ( ) { cmd = org.mockito.Mockito.spy ( new org.ovirt.engine.core.bll.gluster.StopRemoveGlusterVolumeBricksCommand ( new org.ovirt.engine.core.common.action.gluster.GlusterVolumeRemoveBricksParameters ( volumeWithRemoveBricksTaskCompleted , getBricks ( volumeWithRemoveBricksTaskCompleted ) ) , null ) ) ; prepareMocks ( cmd ) ; org.junit.Assert.assertTrue ( cmd.validate ( ) ) ; }
private static void translateErrors ( java.util.List < org.ovirt.engine.core.common.action.VdcReturnValueBase > errors ) { for ( org.ovirt.engine.core.common.action.VdcReturnValueBase retVal : errors ) { retVal.setCanDoActionMessages ( org.ovirt.engine.ui.frontend.Frontend.canDoActionErrorsTranslator.translateErrorText ( retVal.getCanDoActionMessages ( ) ) ) ; } }
org.ovirt.engineextensions.aaa.ldap.ASN1OctetString decode ( java.lang.String value ) ;
public org.ovirt.engine.api.v3.servers.V3TemplateDisksServer getDisksResource ( ) { return new org.ovirt.engine.api.v3.servers.V3TemplateDisksServer ( ( ( org.ovirt.engine.api.restapi.resource.BackendTemplateResource ) ( getDelegate ( ) ) ) . getDisksResource ( ) ) ; }
public void testAdd ( ) { try { javax.ws.rs.core.UriInfo uriInfo = mockUri ( "vms" , "00000001-0001-0001-0001-000000000011" , "disks" ) ; javax.ws.rs.core.Request request = mockRequest ( "POST" ) ; control.replay ( ) ; org.ovirt.engine.api.model.Fault fault = usageFinder.getUsageMessage ( uriInfo , request ) ; assertEquals ( "For correct usage, see: http://localhost:8080/ovirt-engine/api/model#services/vm-disks/methods/add" , fault.getDetail ( ) ) ; } catch ( java.lang.ClassNotFoundException | java.io.IOException | java.net.URISyntaxException e ) { fail ( ) ; } }
public org.ovirt.engine.core.compat.Guid persistAsyncTaskPlaceHolder ( java.lang.String taskKey ) { return super . persistAsyncTaskPlaceHolder ( getActionType ( ) , taskKey ) ; }
public java.lang.Void runInTransaction ( ) { getPermissionDAO ( ) . save ( paramPermission ) ; getCompensationContext ( ) . snapshotNewEntity ( paramPermission ) ; getCompensationContext ( ) . stateChanged ( ) ; return null ; }
public void clearError ( ) { getImportSourceValid ( ) . setMessage ( "" ) ; getImportSourceValid ( ) . setEntity ( true ) ; }
public void testGetAll ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.network.Network > result = dao.getAll ( ) ; org.junit.Assert.assertNotNull ( result ) ; org.junit.Assert.assertEquals ( 3 , result.size ( ) ) ; }
private void localize ( org.ovirt.engine.ui.webadmin.ApplicationConstants constants ) { numOfVfs.setLabel ( constants.numOfVfs ( ) ) ; allowedNetworksLabel.setText ( constants.allowedNetworks ( ) ) ; }
public void testValidateDefaultFlagIsNotChangedWhenFlagNotChanged ( ) { final org.ovirt.engine.core.common.businessentities.MacPool macPool1 = new org.ovirt.engine.core.common.businessentities.MacPool ( ) ; final org.ovirt.engine.core.common.businessentities.MacPool macPool2 = new org.ovirt.engine.core.common.businessentities.MacPool ( ) ; org.junit.Assert.assertThat ( org.ovirt.engine.core.bll.UpdateMacPoolCommand.validateDefaultFlagIsNotChanged ( macPool1 , macPool2 ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.isValid ( ) ) ; }
private org.ovirt.engine.core.common.businessentities.VDS getServerOfCluster ( org.ovirt.engine.core.compat.Guid clusterId , java.util.List < org.ovirt.engine.core.common.businessentities.VDS > servers ) { for ( org.ovirt.engine.core.common.businessentities.VDS server : servers ) { if ( server.getvds_group_id ( ) . equals ( clusterId ) ) { return server ; } } return null ; }
protected void testVdsPowerManagementStatus ( org.ovirt.engine.core.common.businessentities.VdsStatic vdsStatic ) { if ( vdsStatic.isPmEnabled ( ) ) { runInternalQuery ( VdcQueryType.GetVdsFenceStatus , new org.ovirt.engine.core.common.queries.VdsIdParametersBase ( vdsStatic.getId ( ) ) ) ; } }
public void closeQuery ( java.lang.String opaque ) { org.ovirt.engine.extension.aaa.jdbc.core.datasource.Sql.Cursor < java.util.Collection < org.ovirt.engine.api.extensions.ExtMap > > remove = openSelects.remove ( opaque ) ; remove.close ( ) ; }
public void testGetTagIdAndChildrenIdsNotExists ( ) { org.ovirt.engine.core.common.businessentities.Tags tag = createTag ( "tag1" , "desc1" ) ; java.lang.String idsStr = tagsDirector.GetTagIdAndChildrenIds ( tag.gettag_id ( ) ) ; org.junit.Assert.assertEquals ( StringUtils.EMPTY , idsStr ) ; }
public void setGetSessionUserServletURL ( java.lang.String getSessionUserGetSessionUserServletURL ) { this . getSessionUserGetSessionUserServletURL = getSessionUserGetSessionUserServletURL ; }
public java.lang.Object Convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { return source != null ? source : java.util.Collections.emptyList ( ) ; }
private org.ovirt.engine.core.common.businessentities.network.VnicProfile getOldVnicProfile ( ) { if ( ( oldVnicProfile ) == null ) { oldVnicProfile = org.ovirt.engine.core.bll.network.vm.UpdateVnicProfileCommand.getDbFacade ( ) . getVnicProfileDao ( ) . get ( org.ovirt.engine.core.bll.network.vm.UpdateVnicProfileCommand.getVnicProfile ( ) . getId ( ) ) ; } return oldVnicProfile ; }
public java.lang.Boolean getAlignRight ( ) { return getValueAsBoolean ( "alignRight" , false ) ; }
public java.lang.Object Convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { java.util.ArrayList < org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface > siblingVlanInterfaces = ( ( java.util.ArrayList < org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface > ) ( source ) ) ; return ! ( siblingVlanInterfaces.isEmpty ( ) ) ; }
private void logException ( java.lang.RuntimeException ex ) { log.errorFormat ( "Command {0} execution failed. Exception: {1}" , org.ovirt.engine.core.vdsbroker.VDSCommandBase.getCommandName ( ) , org.apache.commons.lang.exception.ExceptionUtils.getMessage ( ex ) ) ; }
public boolean eval ( org.ovirt.engine.core.common.businessentities.HostDevice vf ) { return ( isVfFree ( vf ) ) == shouldBeFree ; }
public void test2 ( ) throws java.lang.Exception { java.lang.String encoded = "eyJhcnRpZmFjdCI6IkVudmVsb3BlUEJFIiwiaXRlcmF0aW9ucyI6IjQwMDAiLCJzZWNyZXQiOiJNWE5nZVlwNUxSWFNRZmRMYzNDOHRVNWRINFZOODExb0czNjlrU0FLOHAwPSIsInNhbHQiOiJudXFaa2M3dlMrNUNkRzVQaEMvWE5ycDMzd0luTnNnZGZIVXlQRE5RS05rPSIsImFsZ29yaXRobSI6IlBCS0RGMldpdGhIbWFjU0hBMSIsInZlcnNpb24iOiIxIn0=" ; org.junit.Assert.assertTrue ( org.ovirt.engine.core.uutils.crypto.EnvelopePBE.check ( encoded , "password" ) ) ; org.junit.Assert.assertFalse ( org.ovirt.engine.core.uutils.crypto.EnvelopePBE.check ( encoded , "bad" ) ) ; }
private void logHostCannotBeProxy ( java.lang.String hostName ) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBase logable = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBase ( ) ; logable.addCustomValue ( "VdsName" , hostName ) ; org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogDirector.log ( logable , AuditLogType.IMPORTEXPORT_HOST_CANNOT_SERVE_AS_PROXY ) ; }
public java.util.Map < java.lang.String , java.lang.Object > monitorCommand ( java.lang.String vmId , java.lang.String monitorCommand ) ;
public void getCustomValueFromEmptyMap ( ) { final org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBase b = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBaseTest.TestAuditLogableBase ( ) ; final java.lang.String s = b.GetCustomValue ( org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBaseTest.NAME ) ; org.junit.Assert.assertEquals ( "" , s ) ; }
public void testGetWithNotExistingDiskId ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.storage.UnregisteredDisk > unregisteredDisk = dao.getByDiskIdAndStorageDomainId ( org.ovirt.engine.core.compat.Guid.newGuid ( ) , FixturesTool.STORAGE_DOAMIN_NFS2_1 ) ; org.junit.Assert.assertTrue ( "Disk should not exists in the UnregisteredDisks table" , unregisteredDisk.isEmpty ( ) ) ; }
protected void doInit ( ) { oldNumaNodeIds = org.ovirt.engine.core.common.businessentities.Entities.getIds ( org.ovirt.engine.core.bll.numa.vm.SetVmNumaNodesCommand.getVmNumaNodesForValidation ( ) ) ; setVmNumaNodesForValidation ( org.ovirt.engine.core.bll.numa.vm.SetVmNumaNodesCommand.getParameters ( ) . getVmNumaNodeList ( ) ) ; }
public void lowerVersionMgmtNetworkAndRegularNetworks ( ) { storagePoolWithLowerVersion ( ) ; addNonDefaultClusterToPool ( ) ; addManagementNetworkToPool ( ) ; addNonManagementNetworksToPool ( 2 ) ; setupNetworkValidator ( true ) ; canDoActionFailed ( VdcBllMessages.ACTION_TYPE_FAILED_CANNOT_DECREASE_COMPATIBILITY_VERSION ) ; }
public boolean isVisible ( ) { if ( ( getDetailModel ( ) . getEntity ( ) ) == null ) { return false ; } return ! ( ( ( org.ovirt.engine.core.common.businessentities.DbUser ) ( getDetailModel ( ) . getEntity ( ) ) ) . getIsGroup ( ) ) ; }
public org.ovirt.engine.core.vdsbroker.vdsbroker.StatusOnlyReturnForXmlRpc glusterVolumeRemoveBrickForce ( java.lang.String volumeName , java.lang.String [ ] brickDirectories ) { try { return new org.ovirt.engine.core.vdsbroker.vdsbroker.StatusOnlyReturnForXmlRpc ( vdsServer.glusterVolumeRemoveBrickForce ( volumeName , brickDirectories ) ) ; } catch ( java.lang.reflect.UndeclaredThrowableException ute ) { throw new org.ovirt.engine.core.vdsbroker.xmlrpc.XmlRpcRunTimeException ( ute ) ; } }
protected org.ovirt.engine.api.common.invocation.Current getCurrent ( ) { return org.ovirt.engine.api.common.invocation.CurrentManager.get ( ) ; }
protected java.lang.String renderNullSafe ( java.util.List < T > list ) { assert ( list.size ( ) ) == 1 ; return renderer.render ( list.get ( 0 ) ) ; }
public void testParseEmpty ( ) { java.util.List < org.ovirt.engine.api.model.Agent > ret = org.ovirt.engine.api.restapi.util.FenceOptionsParser.parse ( "" , "" ) ; org.junit.Assert.assertNotNull ( ret ) ; org.junit.Assert.assertEquals ( 0 , ret.size ( ) ) ; }
private org.ovirt.engine.core.utils.hostinstall.Credentials prepareCredentials ( java.lang.String rootPassword ) { org.ovirt.engine.core.utils.hostinstall.Credentials creds = new org.ovirt.engine.core.utils.hostinstall.Credentials ( ) ; creds.setPassword ( rootPassword ) ; creds.setUsername ( "root" ) ; return creds ; }
public boolean hasBricks ( org.ovirt.engine.core.compat.Guid serverId ) { return ( getGlusterBrickDao ( ) . getGlusterVolumeBricksByServerId ( serverId ) . size ( ) ) > 0 ; }
private void initListBoxEditors ( ) { serverEditor = new org.ovirt.engine.ui.common.widget.editor.ListModelListBoxEditor ( new org.ovirt.engine.ui.common.widget.renderer.NullSafeRenderer < org.ovirt.engine.core.common.businessentities.VDS > ( ) { @ java.lang.Override public java.lang.String renderNullSafe ( org.ovirt.engine.core.common.businessentities.VDS vds ) { return vds.getHostName ( ) ; } } ) ; }
public java.lang.Integer getProgressValue ( org.ovirt.engine.core.common.businessentities.VM object ) { return object.getMigrationProgressPercent ( ) ; }
protected org.ovirt.engine.api.model.VmPool populate ( org.ovirt.engine.api.model.VmPool pool , org.ovirt.engine.core.common.businessentities.vm_pools entity ) { return parent.populate ( pool , entity ) ; }
private void updateLUNConnectionsInfo ( org.ovirt.engine.core.common.businessentities.LUNs lun ) { lun.setLunConnections ( new java.util.ArrayList < org.ovirt.engine.core.common.businessentities.StorageServerConnections > ( org.ovirt.engine.core.bll.AbstractDiskVmCommand.getDbFacade ( ) . getStorageServerConnectionDao ( ) . getAllForLun ( lun.getLUN_id ( ) ) ) ) ; }
private void createUpVds ( ) { org.mockito.Mockito.when ( vdsDao.getAllForStoragePoolAndStatus ( org.mockito.Matchers.any ( org.ovirt.engine.core.compat.Guid.class ) , org.mockito.Matchers.eq ( VDSStatus.Up ) ) ) . thenReturn ( java.util.Collections.singletonList ( new org.ovirt.engine.core.common.businessentities.VDS ( ) ) ) ; }
protected void doChangeDefautlHost ( org.ovirt.engine.core.compat.Guid hostGuid ) { }
public java.lang.String getValue ( org.ovirt.engine.core.common.businessentities.Cluster object ) { if ( ( object.getGroupHostsAndVms ( ) ) == null ) { return "" ; } return ( object.getGroupHostsAndVms ( ) . getVms ( ) ) + "" ; }
private java.util.List < org.ovirt.engine.core.common.businessentities.aaa.DbUser > lookupUsers ( ) { org.ovirt.engine.core.common.queries.VdcQueryParametersBase queryParams = new org.ovirt.engine.core.common.queries.VdcQueryParametersBase ( ) ; queryParams.setFiltered ( isFiltered ( ) ) ; return getBackendCollection ( org.ovirt.engine.core.common.businessentities.aaa.DbUser.class , QueryType.GetAllDbUsers , queryParams ) ; }
public org.ovirt.engine.core.common.businessentities.ArchitectureType Convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { return ( ( org.ovirt.engine.core.common.businessentities.ArchitectureType ) ( source ) ) ; }
public java.util.List < org.ovirt.engine.core.common.businessentities.StorageServerConnections > getStorageServerConnectionsByDomain ( org.ovirt.engine.core.common.businessentities.StorageDomainStatic storageDomain ) { return org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getStorageServerConnectionDao ( ) . getAllForVolumeGroup ( storageDomain.getstorage ( ) ) ; }
public void testGetSuggestedDiskAliasNotNullAliasDisk ( ) { disk.setDiskAlias ( "someAlias" ) ; org.junit.Assert.assertEquals ( "a new alias was generated instead of returning the pre-difined one" , disk.getDiskAlias ( ) , org.ovirt.engine.core.bll.ImagesHandler.getSuggestedDiskAlias ( disk , org.ovirt.engine.core.bll.ImagesHandlerTest.prefix , 1 ) ) ; }
protected java.lang.String getVmLockMessage ( ) { java.lang.StringBuilder builder = new java.lang.StringBuilder ( VdcBllMessages.ACTION_TYPE_FAILED_VM_IS_BEING_MIGRATED.name ( ) ) ; builder.append ( java.lang.String.format ( "$VmName %1$s" , org.ovirt.engine.core.bll.MigrateVmCommand.getVmName ( ) ) ) ; return builder.toString ( ) ; }
public void setCandidates ( java.util.List < org.ovirt.engine.core.common.businessentities.storage_domains > value ) { if ( ( candidates ) != value ) { candidates = value ; OnPropertyChanged ( new org.ovirt.engine.core.compat.PropertyChangedEventArgs ( "Candidates" ) ) ; getCandidatesList ( ) . setItems ( ToEntityModelList ( candidates ) ) ; } }
protected org.ovirt.engine.core.common.businessentities.Disk.DiskStorageType getDiskType ( ) { return getDisk ( ) . getDiskStorageType ( ) ; }
public void setUpdateWatchdog ( boolean updateWatchdog ) { this . updateWatchdog = updateWatchdog ; }
protected java.util.Map < java.lang.String , org.ovirt.engine.core.common.utils.Pair < java.lang.String , java.lang.String > > getExclusiveLocks ( ) { return org.ovirt.engine.core.bll.pm.FenceVdsBaseCommand.createFenceExclusiveLocksMap ( getProblematicVdsId ( ) ) ; }
public void testGet ( ) { java.lang.String result = dao.get ( FixturesTool.PROVIDER_BINDING_HOST_ID_HOST_ID , FixturesTool.PROVIDER_BINDING_HOST_ID_PLUGIN_TYPE ) ; org.junit.Assert.assertEquals ( FixturesTool.PROVIDER_BINDING_HOST_PLUGIN_ID , result ) ; }
protected void ExecuteVdsBrokerCommand ( ) { status = org.ovirt.engine.core.vdsbroker.vdsbroker.VmMonitorCommandVDSCommand.getBroker ( ) . monitorCommand ( mVmId.toString ( ) , mMonitorCommand ) ; org.ovirt.engine.core.vdsbroker.vdsbroker.VmMonitorCommandVDSCommand.ProceedProxyReturnValue ( ) ; }
public void configure ( org.ovirt.engine.ui.uicommonweb.models.vms.ISpice spice ) { super . configure ( spice ) ; spice.setWANDisableEffects ( new java.util.ArrayList < org.ovirt.engine.ui.uicommonweb.models.vms.WANDisableEffects > ( ) ) ; spice.setWanOptionsEnabled ( false ) ; spice.setSpiceProxyEnabled ( isSpiceProxyDefined ( ) ) ; }
public void init ( javax.servlet.ServletConfig config ) throws javax.servlet.ServletException { ssoContext = org.ovirt.engine.core.sso.utils.SSOUtils.getSsoContext ( config.getServletContext ( ) ) ; }
protected java.util.Date getRawValue ( org.ovirt.engine.core.common.businessentities.Disk object ) { return ( object.getDiskStorageType ( ) ) == ( org.ovirt.engine.core.common.businessentities.Disk.DiskStorageType.IMAGE ) ? ( ( org.ovirt.engine.core.common.businessentities.DiskImage ) ( object ) ) . getcreation_date ( ) : null ; }
protected org.ovirt.engine.core.dao.ImageStorageDomainMapDao getImageStorageDomainMapDao ( ) { return org.ovirt.engine.core.bll.storage.disk.AbstractDiskVmCommand.getDbFacade ( ) . getImageStorageDomainMapDao ( ) ; }
public void testGetAllNetworkLabelsForDataCenter ( ) { java.util.Set < java.lang.String > result = dao.getAllNetworkLabelsForDataCenter ( FixturesTool.DATA_CENTER ) ; org.junit.Assert.assertNotNull ( result ) ; org.junit.Assert.assertFalse ( result.isEmpty ( ) ) ; }
public static org.ovirt.engine.api.model.NetworkStatus map ( org.ovirt.engine.api.model.NetworkStatus modelStatus , org.ovirt.engine.api.model.NetworkStatus template ) { if ( modelStatus == null ) { return null ; } else { switch ( modelStatus ) { case NON_OPERATIONAL : return org.ovirt.engine.api.model.org.ovirt.engine.core.common.businessentities.network.NetworkStatus ; case OPERATIONAL : return org.ovirt.engine.api.model.org.ovirt.engine.core.common.businessentities.network.NetworkStatus ; default : return null ; } } }
public int getMinimumRam ( int osId , org.ovirt.engine.core.compat.Version version ) ;
public void onSuccess ( java.lang.Object target , java.lang.Object returnValue ) { setReportBaseUrl ( ( ( java.lang.String ) ( returnValue ) ) ) ; }
protected void executeCommand ( ) { org.ovirt.engine.core.common.businessentities.pm.FenceAgent agent = org.ovirt.engine.core.bll.UpdateFenceAgentCommand.getParameters ( ) . getAgent ( ) ; org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getFenceAgentDao ( ) . update ( agent ) ; org.ovirt.engine.core.bll.UpdateFenceAgentCommand.setSucceeded ( true ) ; }
static com.gwtplatform.mvp.client.TabData getTabData ( org.ovirt.engine.ui.webadmin.gin.ClientGinjector ginjector ) { return new org.ovirt.engine.ui.common.widget.tab.ModelBoundTabData ( ginjector.getApplicationConstants ( ) . dataCenterPermissionSubTabLabel ( ) , 4 , ginjector.getSubTabDataCenterPermissionModelProvider ( ) ) ; }
public void checkEmptyStringNotAllowedFromConstructor ( ) { underTest = new org.ovirt.engine.ui.uicommonweb.validation.KeyValueFormatValidation ( mockConstantsManager , false ) ; org.ovirt.engine.ui.uicommonweb.validation.ValidationResult validationResult = underTest.validate ( "" ) ; org.junit.Assert.assertEquals ( org.ovirt.engine.ui.uicommonweb.validation.KeyValueFormatValidationTest.failureValidationResultEmptyNotAllowed , validationResult ) ; }
public void checkValidIpConfigurationStaticBootProtocol ( ) { initIpConfigurationDetails ( Ipv4BootProtocol.STATIC_IP , true , true ) ; org.ovirt.engine.core.bll.ValidationResult actual = underTest.validateNetworkAttachmentIpConfiguration ( networkAttachments ) ; org.junit.Assert.assertEquals ( ValidationResult.VALID , actual ) ; }
public void updateDocumentationPathFile ( ) { fetchFile ( ( ( getDocumentationBaseURL ( ) ) + "DocumentationPath.csv" ) , documentationFileFetchedEvent ) ; }
public void execute ( ) { doGridTimerExecute ( ) ; }
public void Initialize ( ) { super . Initialize ( ) ; StartProgress ( null ) ; initMessages ( ) ; }
public java.lang.Object Convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { return source ; }
public static void updateBootOrderInVmDeviceAndStoreToDB ( org.ovirt.engine.core.common.businessentities.VmBase vmBase ) { java.util.List < org.ovirt.engine.core.common.businessentities.VmDevice > devices = org.ovirt.engine.core.bll.utils.VmDeviceUtils.updateBootOrderInVmDevice ( vmBase ) ; org.ovirt.engine.core.bll.utils.VmDeviceUtils.dao.updateBootOrderInBatch ( devices ) ; }
public void shouldDetectCpuPinning ( ) { invalidVM.setCpuPinning ( "i am pinned" ) ; org.assertj.core.api.Assertions.assertThat ( validator.checkVmReadyForUpgrade ( invalidVM ) ) . contains ( UpgradeError.VM_CPUS_PINNED ) ; }
public static void GetGlusterHosts ( org.ovirt.engine.ui.frontend.AsyncQuery aQuery , java.lang.String hostAddress , java.lang.String rootPassword , java.lang.String fingerprint ) { org.ovirt.engine.core.common.queries.gluster.GlusterServersQueryParameters parameters = new org.ovirt.engine.core.common.queries.gluster.GlusterServersQueryParameters ( hostAddress , rootPassword ) ; parameters.setFingerprint ( fingerprint ) ; org.ovirt.engine.ui.frontend.Frontend.RunQuery ( VdcQueryType.GetGlusterServersForImport , parameters , aQuery ) ; }
public void canDoActionSucceedsOnVolumeWithRemoveBricksTaskCompleted ( ) { cmd = org.mockito.Mockito.spy ( new org.ovirt.engine.core.bll.gluster.StopRemoveGlusterVolumeBricksCommand ( new org.ovirt.engine.core.common.action.gluster.GlusterVolumeRemoveBricksParameters ( volumeWithRemoveBricksTaskCompleted , getBricks ( volumeWithRemoveBricksTaskCompleted , 2 ) ) ) ) ; prepareMocks ( cmd ) ; org.junit.Assert.assertTrue ( cmd.canDoAction ( ) ) ; }
private boolean isPoolUp ( ) { return validate ( new org.ovirt.engine.core.bll.validator.storage.StoragePoolValidator ( org.ovirt.engine.core.bll.storage.domain.UpdateStorageDomainCommand.getStoragePool ( ) ) . isUp ( ) ) ; }
public void setUp ( ) throws java.lang.Exception { super . setUp ( ) ; dao = dbFacade.getQuotaDAO ( ) ; }
protected org.ovirt.engine.core.common.businessentities.VDSGroup setUpVDSGroup ( org.ovirt.engine.core.compat.Guid id ) { org.ovirt.engine.core.common.businessentities.VDSGroup cluster = control.createMock ( org.ovirt.engine.core.common.businessentities.VDSGroup.class ) ; org.easymock.classextension.EasyMock.expect ( cluster.getId ( ) ) . andReturn ( id ) . anyTimes ( ) ; return cluster ; }
private java.util.List < org.ovirt.engine.core.common.businessentities.ExternalOperatingSystem > getOperationSystems ( ) { org.apache.commons.httpclient.HttpMethod method = new org.apache.commons.httpclient.methods.GetMethod ( org.ovirt.engine.core.bll.host.provider.foreman.ForemanHostProviderProxy.OPERATION_SYSTEM_QUERY ) ; return runOperationSystemMethod ( method ) ; }
private static org.ovirt.engine.core.common.businessentities.VDSGroup createVdsGroupWithOlderVersion ( ) { org.ovirt.engine.core.common.businessentities.VDSGroup group = org.ovirt.engine.core.bll.UpdateVdsGroupCommandTest.createNewVdsGroup ( ) ; group.setcompatibility_version ( org.ovirt.engine.core.bll.UpdateVdsGroupCommandTest.VERSION_1_0 ) ; group.setStoragePoolId ( org.ovirt.engine.core.bll.UpdateVdsGroupCommandTest.STORAGE_POOL_ID ) ; return group ; }
public void log ( org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBase auditLogable ) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogDirector.log ( auditLogable ) ; }
public static java.util.Set < java.lang.String > getPresetDisplayStrings ( ) { return org.ovirt.engine.ui.uicommonweb.models.providers.NeutronPluginTranslator.pluginForDisplay.keySet ( ) ; }
public static java.util.List Concat ( java.util.List ... lists ) { java.util.List result = new java.util.ArrayList < java.lang.Object > ( ) ; for ( java.util.List list : lists ) { for ( java.lang.Object item : list ) { result.add ( item ) ; } } return result ; }
private org.ovirt.engine.core.common.businessentities.VDSGroup mockVdsGroup ( ) { org.ovirt.engine.core.common.businessentities.VDSGroup group = new org.ovirt.engine.core.common.businessentities.VDSGroup ( ) ; group.setvds_group_id ( vdsGroupId ) ; group.setcompatibility_version ( new org.ovirt.engine.core.compat.Version ( ) ) ; group.setstorage_pool_id ( storagePoolId ) ; return group ; }
public org.ovirt.engine.ui.uicommonweb.models.vms.ConsoleModel determineAdditionalConsoleModelForVm ( org.ovirt.engine.core.common.businessentities.VM vm ) { if ( org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncDataProvider.IsWindowsOsType ( vm.getVmOs ( ) ) ) { return cachedConsoleModels.get ( vm.getId ( ) ) . get ( org.ovirt.engine.ui.uicommonweb.models.ConsoleModelsCache.RDP_INDEX ) ; } return null ; }
private void mockStatistics ( ) { org.mockito.Mockito.when ( vmStatisticsDao.get ( ( ( org.ovirt.engine.core.compat.Guid ) ( org.mockito.Matchers.anyObject ( ) ) ) ) ) . thenReturn ( org.mockito.Mockito.mock ( org.ovirt.engine.core.common.businessentities.VmStatistics.class ) ) ; }
protected boolean ValidateTag ( java.lang.String tagName ) { boolean retValue = true ; org.ovirt.engine.core.common.businessentities.Tags tag = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getTagDao ( ) . getByName ( tagName ) ; if ( tag == null ) { addCanDoActionMessage ( VdcBllMessages.EN_UNKNOWN_TAG_NAME ) ; retValue = false ; } return retValue ; }
public java.lang.String getManagmentIp ( ) { return this . mVdsStatic.getManagmentIp ( ) ; }
public void testGetRootTag ( ) { org.ovirt.engine.core.common.businessentities.Tags tags = tagsDirector.GetRootTag ( ) ; org.junit.Assert.assertNotNull ( tags ) ; }
public java.lang.Integer getDisplay ( ) { return this . display ; }
private void assertValidationFailure ( org.ovirt.engine.core.bll.ValidationResult validationResult , org.ovirt.engine.core.common.errors.EngineMessage engineMessage ) { org.junit.Assert.assertThat ( validationResult , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( engineMessage ) ) ; }
public boolean isManagedVm ( ) { return ( ! ( isHostedEngine ( ) ) ) && ( ! ( isExternalVm ( ) ) ) ; }
public javax.ws.rs.core.Response remove ( ) { get ( ) ; return performAction ( VdcActionType.RemoveDisk , new org.ovirt.engine.core.common.action.RemoveDiskParameters ( guid , asGuid ( storageDomainId ) ) ) ; }
public java.lang.Integer getvm_pid ( ) { return this . vm_pid ; }
protected java.lang.String getTitle ( org.ovirt.engine.ui.uicommonweb.models.userportal.UserPortalItemModel value ) { return constants.rebootVm ( ) ; }
public static java.util.List < org.ovirt.engine.core.common.businessentities.VmDevice > getWatchdogs ( org.ovirt.engine.core.compat.Guid vmId ) { return org.ovirt.engine.core.bll.utils.VmDeviceUtils.dao.getVmDeviceByVmIdAndType ( vmId , VmDeviceGeneralType.WATCHDOG ) ; }
public void validateGenerateVmNameWithoutMask1 ( ) { junit.framework.Assert.assertEquals ( "mypool-1" , org.ovirt.engine.core.utils.NameForVmInPoolGenerator.generateVmName ( "mypool" , 1 ) ) ; }
protected void verifyModel ( org.ovirt.engine.api.model.User model , int index ) { assertEquals ( GUIDS [ index ] . toString ( ) , model.getId ( ) ) ; assertEquals ( NAMES [ index ] , model.getName ( ) ) ; }
private void setUpMockUser ( ) { userID = new org.ovirt.engine.core.compat.Guid ( java.util.UUID.randomUUID ( ) ) ; user = org.ovirt.engine.core.bll.AbstractUserQueryTest.mock ( org.ovirt.engine.core.common.users.VdcUser.class ) ; org.mockito.Mockito.when ( user.getUserId ( ) ) . thenReturn ( userID ) ; }
public void shouldDetectCpuPinning ( ) { invalidVM.setCpuPinning ( "i am pinned" ) ; org.assertj.core.api.Assertions.assertThat ( validator.isVmReadyForUpgrade ( invalidVM ) ) . contains ( UPGRADE_ERROR.VM_CPUS_PINNED ) ; }
boolean StorageDomainRemoved ( org.ovirt.engine.core.common.businessentities.storage_domain_static storageDomain ) ;
public void bufferReset_sizeLowerBound ( ) { tested.reset ( 1 , ( - 1 ) ) ; }
public void setPmOptionsMap ( java.util.HashMap < java.lang.String , java.lang.String > value ) { mVdsStatic.setPmOptionsMap ( value ) ; }
public org.ovirt.engine.core.bll.ValidationResult notLabeled ( ) { return org.ovirt.engine.core.bll.ValidationResult.failWith ( VdcBllMessages.ACTION_TYPE_FAILED_NETWORK_ALREADY_LABELED ) . when ( org.ovirt.engine.core.utils.NetworkUtils.isLabeled ( network ) ) ; }
public void hasDomains ( ) { org.mockito.Mockito.when ( sdDao.getAllForStoragePool ( org.mockito.Matchers.any ( org.ovirt.engine.core.compat.Guid.class ) ) ) . thenReturn ( java.util.Collections.singletonList ( new org.ovirt.engine.core.common.businessentities.StorageDomainStatic ( ) ) ) ; canDoActionFailed ( EngineMessage.ERROR_CANNOT_CHANGE_STORAGE_POOL_TYPE_WITH_DOMAINS ) ; }
protected void OnEntityChanged ( ) { super . OnEntityChanged ( ) ; getSearchCommand ( ) . Execute ( ) ; UpdateActionAvailability ( ) ; }
public void logVolumeMessage ( final org.ovirt.engine.core.common.businessentities.gluster.GlusterVolumeEntity volume , final org.ovirt.engine.core.common.AuditLogType logType ) { logAuditMessage ( volume.getClusterId ( ) , volume , null , logType , java.util.Collections.emptyMap ( ) ) ; }
protected org.ovirt.engine.core.common.vdscommands.DeleteImageGroupVDSCommandParameters buildDeleteMemoryImageParams ( java.util.List < org.ovirt.engine.core.compat.Guid > guids ) { return org.ovirt.engine.core.bll.storage.PostZeroHandler.fixParametersWithPostZero ( new org.ovirt.engine.core.common.vdscommands.DeleteImageGroupVDSCommandParameters ( guids.get ( 1 ) , guids.get ( 0 ) , guids.get ( 2 ) , isPostZero ( ) , false ) ) ; }
public void nonInternalMaintenanceAllowed ( ) { testExecution ( StorageDomainStatus.Maintenance ) ; canDoActionSucceeds ( ) ; noIllegalStatusMessage ( ) ; }
public java.lang.Object Convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { return source != null ? ( ( java.lang.Integer ) ( source ) ) . intValue ( ) : 1 ; }
public java.util.List < org.ovirt.engine.core.common.businessentities.storage_server_connections > getAllForConnection ( org.ovirt.engine.core.common.businessentities.storage_server_connections connection ) { return findByCriteria ( org.hibernate.criterion.Restrictions.eq ( "connection" , connection ) ) ; }
public java.lang.Void runInTransaction ( ) { AddVdsStaticToDb ( ) ; AddVdsDynamicToDb ( ) ; AddVdsStatisticsToDb ( ) ; getCompensationContext ( ) . stateChanged ( ) ; return null ; }
public void setvmt_guid ( org.ovirt.engine.core.compat.Guid value ) { this . mVmStatic.setvmt_guid ( value ) ; OnPropertyChanged ( new org.ovirt.engine.core.compat.PropertyChangedEventArgs ( "vmt_guid" ) ) ; }
public void getUsbPolicySetDisabled ( ) { org.ovirt.engine.api.model.Usb usb = new org.ovirt.engine.api.model.Usb ( ) ; usb.setEnabled ( false ) ; assertEquals ( UsbPolicy.DISABLED , org.ovirt.engine.api.restapi.types.VmMapper.getUsbPolicyOnCreate ( usb ) ) ; }
protected boolean matchEntity ( org.ovirt.engine.core.common.businessentities.VmWatchdog entity , java.lang.String name ) { return true ; }
private org.ovirt.engine.core.dao.VdsDAO getVdsDao ( ) { return org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getVdsDao ( ) ; }
public org.ovirt.engine.core.common.AuditLogType getAuditLogTypeValue ( ) { if ( getSucceeded ( ) ) { return org.ovirt.engine.core.common.AuditLogType.GLUSTER_VOLUME_OPTION_SET ; } else { return ( errorType ) == null ? org.ovirt.engine.core.common.AuditLogType.GLUSTER_VOLUME_OPTION_SET_FAILED : errorType ; } }
private int getTotalStorageDomainsStat ( ) { return org.ovirt.engine.core.bll.GetSystemStatisticsQuery.getDbFacade ( ) . getSystemStatisticsValue ( org.ovirt.engine.core.bll.GetSystemStatisticsQuery.TOTAL_STORAGE_DOMAIN_ENTITY_NAME ) ; }
public void parametersWithSecureDeletionAreNotFixedOnBlockDomainWhenPostZeroIsFalse ( ) { org.ovirt.engine.core.bll.storage.domain.PostDeleteActionHandlerTest.ParametersWithPostDeleteAction parameters = postDeleteActionHandler.fixParameters ( new org.ovirt.engine.core.bll.storage.domain.PostDeleteActionHandlerTest.ParametersWithPostDeleteAction ( false ) , false ) ; assertPostZeroValue ( parameters , false ) ; }
public void getUsbPolicyOnUpdateCurrentlyDisabledGotEnabledNativePolicyUsb ( ) { org.ovirt.engine.api.model.Usb usb = new org.ovirt.engine.api.model.Usb ( ) ; usb.setEnabled ( true ) ; usb.setType ( "native" ) ; assertEquals ( org.ovirt.engine.api.restapi.types.VmMapper.getUsbPolicyOnUpdate ( usb , UsbPolicy.DISABLED , null ) , UsbPolicy.ENABLED_NATIVE ) ; }
public void validateFailureOnMovingCinderDisk ( ) { initializeCommand ( new org.ovirt.engine.core.common.businessentities.storage.CinderDisk ( ) ) ; org.ovirt.engine.core.bll.ValidateTestUtils.runAndAssertValidateFailure ( command , EngineMessage.ACTION_TYPE_FAILED_NOT_SUPPORTED_DISK_STORAGE_TYPE ) ; }
public void warnOnActiveVm ( ) { if ( activeVmAttachedToClusterPredicate.test ( networkCluster.getClusterId ( ) ) ) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBase loggable = createLoggable ( ) ; auditLogDirector.log ( loggable , AuditLogType.NETWORK_UPDATE_DISPLAY_FOR_CLUSTER_WITH_ACTIVE_VM ) ; } }
public void testNetworkIpAddressWasSameAsHostnameAndChangedWhenIpConfigurationIsNull ( ) throws java.lang.Exception { org.ovirt.engine.core.common.businessentities.network.NetworkAttachment attachment = new org.ovirt.engine.core.common.businessentities.network.NetworkAttachment ( ) ; attachment.setIpConfiguration ( null ) ; org.junit.Assert.assertThat ( new org.ovirt.engine.core.bll.validator.NetworkAttachmentValidator ( attachment , null ) . networkIpAddressWasSameAsHostnameAndChanged ( null ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.isValid ( ) ) ; }
public void refreshHostIfAnyVmHasHostDevices ( java.util.List < org.ovirt.engine.core.compat.Guid > vmIds , org.ovirt.engine.core.compat.Guid hostId ) { org.ovirt.engine.core.bll.hostdev.HostDeviceManager hostDeviceManager = org.ovirt.engine.core.di.Injector.get ( org.ovirt.engine.core.bll.hostdev.HostDeviceManager.class ) ; hostDeviceManager.refreshHostIfAnyVmHasHostDevices ( vmIds , hostId ) ; }
public void testRemoveNotFound ( ) { setUpEntityQueryExpectations ( 1 , 0 , true ) ; try { resource.remove ( ) ; org.junit.Assert.fail ( "expected WebApplicationException" ) ; } catch ( javax.ws.rs.WebApplicationException wae ) { verifyNotFoundException ( wae ) ; } }
public void Executed ( org.ovirt.engine.ui.uicompat.FrontendMultipleActionAsyncResult result ) { org.ovirt.engine.ui.uicommonweb.models.ConfirmationModel localModel = ( ( org.ovirt.engine.ui.uicommonweb.models.ConfirmationModel ) ( result.getState ( ) ) ) ; localModel.StopProgress ( ) ; cancelConfirmation ( ) ; }
private org.ovirt.engine.core.common.businessentities.Quota mockVCPUQuotaGlobalNotExceeded ( ) { org.ovirt.engine.core.common.businessentities.Quota quota = mockBasicQuota ( ) ; quota.setGlobalQuotaVdsGroup ( getQuotaVdsGroup ( 100 , 18 , org.ovirt.engine.core.bll.quota.QuotaManagerTest.UNLIMITED_MEM , 0 ) ) ; return quota ; }
private void cacheNewValues ( org.ovirt.engine.core.common.businessentities.QuotaVdsGroup quotaVdsGroup , long newMemory , int newVcpu ) { quotaVdsGroup.setVirtualCpuUsage ( newVcpu ) ; quotaVdsGroup.setMemSizeMBUsage ( newMemory ) ; }
public void shouldCreateLessNumaNodesAsVirtualCores ( ) { vm.setNumOfSockets ( 1 ) ; vm.setCpuPerSocket ( 3 ) ; org.junit.Assert.assertTrue ( underTest.checkVmNumaNodesIntegrity ( vm , vm.getvNumaNodeList ( ) ) . isValid ( ) ) ; }
private void setUpGetEntityExpectations ( org.ovirt.engine.core.compat.Guid entityId , java.lang.Boolean returnNull ) throws java.lang.Exception { setUpGetEntityExpectations ( VdcQueryType.GetVdsGroupById , org.ovirt.engine.core.common.queries.GetVdsGroupByIdParameters.class , new java.lang.String [ ] { "VdsId" } , new java.lang.Object [ ] { entityId } , ( returnNull ? null : getEntity ( 0 ) ) ) ; }
public void setOrder ( org.ovirt.engine.core.common.businessentities.FenceAgentOrder order ) { this . order = order ; }
public void testGetWithRunningVms ( ) { org.ovirt.engine.core.common.businessentities.VDSGroup result = dao.getWithRunningVms ( existingVdsGroup.getId ( ) ) ; org.junit.Assert.assertNotNull ( result ) ; }
public void updateGlusterHookInSync ( org.ovirt.engine.core.compat.Guid id , boolean inSync ) { getCallsHandler ( ) . executeModification ( "UpdateGlusterHookInsync" , getCustomMapSqlParameterSource ( ) . addValue ( "id" , id ) . addValue ( "in_sync" , inSync ) ) ; }
public Q resolve ( org.ovirt.engine.core.compat.Guid id ) throws org.ovirt.engine.api.restapi.resource.BackendFailureException { Q entity = lookupEntity ( id ) ; if ( entity == null ) { throw new org.ovirt.engine.api.restapi.resource.EntityNotFoundException ( id.toString ( ) ) ; } return entity ; }
public void serializeVdsNetworkInterface ( ) { org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface nic = new org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface ( ) ; org.ovirt.engine.core.utils.serialization.json.JsonObjectSerializer serialezer = new org.ovirt.engine.core.utils.serialization.json.JsonObjectSerializer ( ) ; junit.framework.Assert.assertTrue ( ( ( serialezer.serialize ( nic ) . length ( ) ) > 0 ) ) ; }
public boolean storageDomainRemoved ( org.ovirt.engine.core.common.businessentities.storage_domain_static storageDomain ) { return true ; }
protected void updateDisksFromDB ( org.ovirt.engine.core.common.businessentities.VM vm ) { org.ovirt.engine.core.bll.VmHandler.updateDisksFromDb ( vm ) ; }
public java.lang.Integer getProgressValue ( org.ovirt.engine.core.common.businessentities.VDS object ) { return object.getusage_mem_percent ( ) ; }
public boolean checkIfJobHasTasks ( org.ovirt.engine.core.compat.Guid jobId ) { org.springframework.jdbc.core.namedparam.MapSqlParameterSource parameterSource = getCustomMapSqlParameterSource ( ) . addValue ( "job_id" , jobId ) ; return getCallsHandler ( ) . executeRead ( "CheckIfJobHasTasks" , createBooleanMapper ( ) , parameterSource ) ; }
public void updateStorageDomain ( org.ovirt.vdsmfake.domain.StorageDomain storageDomain ) { org.ovirt.vdsmfake.domain.VdsmManager.getInstance ( ) . updateStorageDomain ( storageDomain ) ; }
void removeMemoryFromSnapshot ( org.ovirt.engine.core.compat.Guid snapshotId ) ;
public void setUp ( ) throws java.lang.Exception { underTest = new org.ovirt.engine.core.bll.validator.network.VlanUntaggedNetworkExclusivenessValidator ( mockUntaggedNetworkPredicate ) ; org.mockito.Mockito.when ( mockUntaggedNetworkPredicate.evaluate ( org.ovirt.engine.core.bll.validator.network.NetworkType.VLAN ) ) . thenReturn ( false ) ; org.mockito.Mockito.when ( mockUntaggedNetworkPredicate.evaluate ( org.ovirt.engine.core.bll.validator.network.NetworkType.VM ) ) . thenReturn ( true ) ; }
public void existsForExistingVmDevice ( ) { org.junit.Assert.assertTrue ( dao.exists ( new org.ovirt.engine.core.common.businessentities.VmDeviceId ( org.ovirt.engine.core.dao.VmDeviceDaoTest.EXISTING_DEVICE_ID , org.ovirt.engine.core.dao.VmDeviceDaoTest.EXISTING_VM_ID ) ) ) ; }
protected org.ovirt.engine.ui.uicommonweb.UICommand resolveCommand ( ) { return getModel ( ) . getRemoveCommand ( ) ; }
protected boolean interfaceNameUnique ( java.util.List < org.ovirt.engine.core.common.businessentities.network.VmNic > interfaces ) { return org.ovirt.engine.core.bll.VmHandler.isNotDuplicateInterfaceName ( interfaces , getInterfaceName ( ) , org.ovirt.engine.core.bll.network.template.VmTemplateInterfaceCommandBase.getReturnValue ( ) . getCanDoActionMessages ( ) ) ; }
public java.lang.String getValue ( org.ovirt.engine.core.common.scheduling.PolicyUnit object ) { if ( ! ( object.isEnabled ( ) ) ) { return constants.removePolicyUnit ( ) ; } return null ; }
com.google.gwt.safehtml.shared.SafeHtml iconWithTextAndTitle ( com.google.gwt.safehtml.shared.SafeHtml icon , java.lang.String text , java.lang.String title ) ;
public void testGetLunsThatBreakDiscardAfterDeleteSupportDiscardAfterDeleteBreaks ( ) { storageDomain.setDiscardAfterDelete ( true ) ; org.ovirt.engine.core.common.businessentities.storage.LUNs lunThatBreaksDiscardSupport = createLunWithDiscardFunctionality ( 0L , true ) ; assertGetLunsThatBreakDiscardAfterDeleteSupportContainsExpectedLuns ( java.util.Arrays.asList ( createLunWithDiscardFunctionality ( 1024L , true ) , lunThatBreaksDiscardSupport ) , java.util.Collections.singletonList ( lunThatBreaksDiscardSupport ) ) ; }
private java.util.List < org.ovirt.engine.core.common.businessentities.DbUser > lookupUsers ( ) { org.ovirt.engine.core.common.queries.VdcQueryParametersBase queryParams = new org.ovirt.engine.core.common.queries.VdcQueryParametersBase ( ) ; queryParams.setFiltered ( isFiltered ( ) ) ; return getBackendCollection ( org.ovirt.engine.core.common.businessentities.DbUser.class , VdcQueryType.GetAllDbUsers , queryParams ) ; }
public void isNotSameStorageType ( ) { domain.setStorageType ( StorageType.NFS ) ; org.junit.Assert.assertEquals ( EngineMessage.ACTION_TYPE_FAILED_STORAGE_CONNECTION_UNSUPPORTED_ACTION_NOT_SAME_STORAGE_TYPE , validator.isSameStorageType ( domain ) . getMessage ( ) ) ; }
public void getUsbPolicyOnUpdateCurrentlyNativeGotNullUsb ( ) { org.ovirt.engine.api.model.Usb usb = null ; org.ovirt.engine.core.common.businessentities.UsbPolicy currentPolicy = org.ovirt.engine.core.common.businessentities.UsbPolicy.ENABLED_NATIVE ; org.junit.Assert.assertEquals ( org.ovirt.engine.api.restapi.types.VmMapper.getUsbPolicyOnUpdate ( usb , currentPolicy ) , currentPolicy ) ; }
private java.lang.String getSearchPattern ( ) { java.lang.String user_defined_pattern = org.ovirt.engine.api.common.util.QueryHelper.getConstraint ( httpHeaders , uriInfo , "" , modelType ) ; return user_defined_pattern.equals ( "Users : " ) ? user_defined_pattern + ( org.ovirt.engine.api.restapi.resource.aaa.BackendUsersResource.USERS_SEARCH_PATTERN ) : ( user_defined_pattern + ( org.ovirt.engine.api.restapi.resource.aaa.BackendUsersResource.AND_SEARCH_PATTERN ) ) + ( org.ovirt.engine.api.restapi.resource.aaa.BackendUsersResource.USERS_SEARCH_PATTERN ) ; }
public boolean eval ( org.ovirt.engine.core.common.businessentities.gluster.GlusterVolumeEntity slaveVolume ) { org.ovirt.engine.core.compat.Guid slaveUpserverId = getUpServerId ( slaveVolume.getClusterId ( ) ) ; if ( slaveUpserverId == null ) { return false ; } return true ; }
public void onClick ( com.google.gwt.event.dom.client.ClickEvent event ) { expanderContent.getStyle ( ) . setDisplay ( ( expander.isDown ( ) ? Style.Display.BLOCK : Style.Display.NONE ) ) ; }
public boolean eval ( org.ovirt.engine.core.common.businessentities.VM v ) { return ( ( v.getMigrationSupport ( ) ) == ( org.ovirt.engine.core.common.businessentities.MigrationSupport.MIGRATABLE ) ) && ( ! ( hostId.equals ( v.getDedicatedVmForVds ( ) ) ) ) ; }
org.ovirt.engine.core.vdsbroker.gluster.GlusterVolumeGeoRepStatusDetailForXmlRpc glusterVolumeGeoRepSessionStatus ( java.lang.String volumeName , java.lang.String slaveHost , java.lang.String slaveVolumeName ) ;
public boolean checkVmHostDeviceAvailability ( org.ovirt.engine.core.compat.Guid vmId , org.ovirt.engine.core.compat.Guid hostId ) { return getCallsHandler ( ) . executeRead ( "CheckVmHostDeviceAvailability" , createBooleanMapper ( ) , getCustomMapSqlParameterSource ( ) . addValue ( "vm_id" , vmId ) . addValue ( "host_id" , hostId ) ) ; }
protected void onMouseOver ( ) { dragImage.setVisible ( true ) ; org.ovirt.engine.ui.webadmin.section.main.view.popup.host.panels.NetworkItemPanel.infoPopup.showItem ( item , this ) ; }
public void OnSuccess ( java.lang.Object model , java.lang.Object ReturnValue ) { this . setItems ( ( ( java.util.List < org.ovirt.engine.core.common.utils.PairQueryable < org.ovirt.engine.core.common.businessentities.VDSGroup , org.ovirt.engine.core.common.businessentities.NetworkCluster > > ) ( ( ( org.ovirt.engine.core.common.queries.VdcQueryReturnValue ) ( ReturnValue ) ) . getReturnValue ( ) ) ) ) ; }
public java.lang.String render ( java.lang.String object ) { if ( object == null ) { return messages.globalVncKeyboardLayoutCaption ( globalLayout ) ; } else { return object ; } }
public void testIsNetworkInSyncWhenGatewayEqual ( ) { initIpConfigurationBootProtocolGateway ( NetworkBootProtocol.STATIC_IP , true ) ; org.junit.Assert.assertThat ( createTestedInstance ( ) . isNetworkInSync ( ) , org.hamcrest.CoreMatchers.is ( true ) ) ; }
private java.lang.String renderGigabyteSize ( long size ) { long sizeInGB = ( ( unit ) == ( org.ovirt.engine.ui.uicommonweb.models.SizeConverter.SizeUnit.GB ) ) ? size : org.ovirt.engine.ui.uicommonweb.models.SizeConverter.convert ( size , unit , SizeUnit.GB ) . longValue ( ) ; return sizeInGB >= 1 ? sizeInGB + " GB" : "< 1 GB" ; }
protected java.lang.String getJsonDiskDescription ( java.lang.String diskAlias , java.lang.String diskDescription ) { try { return org.ovirt.engine.core.bll.ImagesHandler.getJsonDiskDescription ( diskAlias , diskDescription ) ; } catch ( java.io.IOException e ) { log.error ( "Exception while generating json for disk. ERROR: '{}'" , e ) ; return org.apache.commons.lang.StringUtils.EMPTY ; } }
public java.lang.Void runInTransaction ( ) { getCompensationContext ( ) . snapshotEntity ( getStoragePool ( ) ) ; org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getStoragePoolDAO ( ) . remove ( getStoragePool ( ) . getId ( ) ) ; getCompensationContext ( ) . stateChanged ( ) ; return null ; }
public javax.ws.rs.core.Response ticket ( org.ovirt.engine.api.model.Action action ) { org.ovirt.engine.core.common.businessentities.GraphicsType graphicsType = deriveGraphicsType ( ) ; java.lang.String consoleId = org.ovirt.engine.api.restapi.resource.BackendGraphicsConsoleHelper.asConsoleId ( graphicsType ) ; return getGraphicsConsolesResource ( ) . getConsoleResource ( consoleId ) . ticket ( action ) ; }
public void testExistingDiscardAfterDeleteFunctionalityPreservedDiscardAfterDeleteFunctionalityBreaks ( ) { storageDomain.setDiscardAfterDelete ( true ) ; org.junit.Assert.assertFalse ( discardHelper.isExistingDiscardAfterDeleteFunctionalityPreserved ( java.util.Arrays.asList ( createLunWithDiscardFunctionality ( 1024L , false ) , createLunWithDiscardFunctionality ( 0L , true ) ) , storageDomain ) ) ; }
private boolean validateDestStorage ( org.ovirt.engine.core.common.businessentities.StorageDomain destDomain ) { org.ovirt.engine.core.bll.validator.StorageDomainValidator validator = new org.ovirt.engine.core.bll.validator.StorageDomainValidator ( destDomain ) ; return ( validate ( validator.isDomainExistAndActive ( ) ) ) && ( validate ( validator.domainIsValidDestination ( ) ) ) ; }
public static org.hamcrest.Matcher < org.ovirt.engine.core.bll.ValidationResult > failsWith ( org.ovirt.engine.core.dal.VdcBllMessages expectedError ) { return new org.ovirt.engine.core.bll.validator.ValidationResultMatchers.Fails ( expectedError ) ; }
public java.lang.String getText ( org.ovirt.engine.core.common.businessentities.gluster.ServiceInfo entity ) { return entity.getStatus ( ) . name ( ) ; }
protected org.ovirt.engine.api.model.Group mapAdGroup ( org.ovirt.engine.core.common.businessentities.ad_groups entity ) { return getMapper ( org.ovirt.engine.core.common.businessentities.ad_groups.class , org.ovirt.engine.api.model.Group.class ) . map ( entity , null ) ; }
public static void addDiskImageWithNoVmDevice ( org.ovirt.engine.core.common.businessentities.DiskImage image ) { org.ovirt.engine.core.bll.ImagesHandler.addDiskImageWithNoVmDevice ( image , image.getactive ( ) , new org.ovirt.engine.core.common.businessentities.image_storage_domain_map ( image.getImageId ( ) , image.getstorage_ids ( ) . get ( 0 ) ) ) ; }
protected java.util.function.Predicate < org.ovirt.engine.core.common.businessentities.StorageDomain > getPredicate ( java.util.List < org.ovirt.engine.core.common.businessentities.storage.DiskImage > memoryDisks ) { return ( storageDomain ) -> storageDomain.getStorageDomainType ( ) . isDataDomain ( ) ; }
protected abstract void executeNetworkCommand ( org.ovirt.engine.ui.uicommonweb.models.hosts.network.NetworkItemModel < ? > op1 , org.ovirt.engine.ui.uicommonweb.models.hosts.network.NetworkItemModel < ? > op2 , java.util.List < org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface > allNics , java.lang.Object ... params ) ;
public javax.ws.rs.core.Response allocatevm ( org.ovirt.engine.api.model.Action action ) { return doAction ( VdcActionType.AttachUserToVmFromPoolAndRun , new org.ovirt.engine.core.common.action.VmPoolUserParameters ( guid , getCurrent ( ) . get ( org.ovirt.engine.core.common.users.VdcUser.class ) , false ) , action , new org.ovirt.engine.api.restapi.resource.BackendVmPoolResource.VmQueryIdResolver ( org.ovirt.engine.core.common.queries.VdcQueryType.GetVmByVmId , org.ovirt.engine.core.common.queries.GetVmByVmIdParameters.class ) ) ; }
public abstract void onLogout ( ) ;
public java.lang.Object Convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncDataProvider.cachedCommandsCompatibilityVersions = ( ( java.util.HashMap < org.ovirt.engine.core.common.action.VdcActionType , org.ovirt.engine.core.common.queries.CommandVersionsInfo > ) ( source ) ) ; return org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncDataProvider.isCommandCompatible ( vdcActionType , cluster , dc ) ; }
public java.lang.String getValue ( org.ovirt.engine.ui.uicommonweb.models.EntityModel object ) { org.ovirt.engine.core.common.businessentities.LunDisk disk = ( ( org.ovirt.engine.core.common.businessentities.LunDisk ) ( ( ( org.ovirt.engine.ui.uicommonweb.models.vms.DiskModel ) ( object.getEntity ( ) ) ) . getDisk ( ) ) ) ; return disk.getLun ( ) . getProductId ( ) ; }
public void validateVmMemoryCantStartOnVdsBecauseOfGuestOverhead ( ) { vds.setGuestOverhead ( 256 ) ; boolean vmPassedMemoryRequirement = org.ovirt.engine.core.bll.scheduling.SlaValidator.getInstance ( ) . hasPhysMemoryToRunVM ( vds , vm , 0 ) ; org.junit.Assert.assertEquals ( vmPassedMemoryRequirement , false ) ; }
public static < T > boolean objectsEqual ( T obj1 , T obj2 ) { if ( obj1 == null ) { return obj2 == null ; } else { return obj1.equals ( obj2 ) ; } }
public void useDefaultMTU ( ) { java.util.Set < javax.validation.ConstraintViolation < org.ovirt.engine.core.common.utils.MTUValidatorTest.MtuContainer > > validate = validate ( new org.ovirt.engine.core.common.utils.MTUValidatorTest.MtuContainer ( 0 ) ) ; org.junit.Assert.assertTrue ( validate.isEmpty ( ) ) ; }
public void setRebalanceCommand ( org.ovirt.engine.ui.uicommonweb.UICommand rebalanceCommand ) { this . rebalanceCommand = rebalanceCommand ; }
protected org.ovirt.engine.api.model.StorageDomain getEntity ( int index , org.ovirt.engine.core.common.businessentities.StorageType storageType ) { org.ovirt.engine.api.model.StorageDomain entity = control.createMock ( org.ovirt.engine.api.model.StorageDomain.class ) ; return org.ovirt.engine.api.restapi.resource.BackendAttachedStorageDomainsResourceTest.setUpEntityExpectations ( entity , index , storageType ) ; }
public java.util.Map getOKStatusNotImplemented ( ) { log.warn ( "The method is not fully implemented!" , new java.lang.Exception ( ) ) ; return getStatusMap ( "OK" , 0 ) ; }
protected void performLogout ( ) { getLoginModel ( ) . resetAfterLogout ( ) ; user.onUserLogout ( ) ; org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncDataProvider.clearCache ( ) ; org.ovirt.engine.ui.common.uicommon.model.CleanupModelEvent.fire ( eventBus ) ; }
public void testExecuteCommand ( ) throws java.lang.Exception { org.ovirt.engine.core.bll.RemoveQuotaCommand removeQuotaCommand = createCommand ( ) ; removeQuotaCommand.executeCommand ( ) ; }
public static void addDiskToVmIfNotExists ( org.ovirt.engine.core.common.businessentities.storage.BaseDisk disk , org.ovirt.engine.core.compat.Guid vmId ) { if ( ! ( org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getBaseDiskDao ( ) . exists ( disk.getId ( ) ) ) ) { org.ovirt.engine.core.bll.storage.disk.image.ImagesHandler.addDiskToVm ( disk , vmId ) ; } }
public void setHighUtilization ( int value ) { this . highUtilization = value ; }
public java.lang.String encode ( org.ovirt.engineextensions.aaa.ldap.ASN1OctetString value ) { return conversion.encode ( value , conversionProps ) ; }
public void testValidModifiedBonds_failsWhenSlavesValidationFails ( ) throws java.lang.Exception { org.ovirt.engine.core.common.businessentities.network.Bond bond = new org.ovirt.engine.core.common.businessentities.network.Bond ( ) ; bond.setSlaves ( java.util.Arrays.asList ( "slaveA" , "slaveB" ) ) ; doTestValidModifiedBonds ( bond , ValidationResult.VALID , ValidationResult.VALID , null , false , false ) ; }
public org.ovirt.engine.core.common.AuditLogType getAuditLogTypeValue ( ) { return org.ovirt.engine.core.bll.ClearAllAuditLogEventsCommand.getSucceeded ( ) ? org.ovirt.engine.core.common.AuditLogType.USER_CLEAR_ALL_AUDIT_LOG : org.ovirt.engine.core.common.AuditLogType.USER_CLEAR_ALL_AUDIT_LOG_FAILED ; }
public void nameIsNullForUpdate ( ) throws java.lang.Exception { assertNicValidation ( createNic ( org.ovirt.engine.core.common.businessentities.network.VmNetworkInterfaceValidationTest.VALID_MAC_ADDRESS , null , org.ovirt.engine.core.common.businessentities.network.VmNetworkInterfaceValidationTest.VALID_NIC_TYPE ) , org.ovirt.engine.core.common.validation.group.CreateEntity.class , true , VmNetworkInterface.VALIDATION_MESSAGE_NAME_NOT_NULL ) ; }
public boolean isMigrationNetwork ( ) { return getEntity ( ) . getCluster ( ) . isMigration ( ) ; }
public static org.ovirt.engine.api.model.DisplayType map ( org.ovirt.engine.api.model.DisplayType type , org.ovirt.engine.api.model.DisplayType incoming ) { switch ( type ) { case VNC : return org.ovirt.engine.api.model.org.ovirt.engine.core.common.businessentities.DisplayType ; case SPICE : return org.ovirt.engine.api.model.org.ovirt.engine.core.common.businessentities.DisplayType ; default : return null ; } }
public void testGetEventNotificationMethodsById ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.EventNotificationMethod > result = dao.getEventNotificationMethodsById ( 1 ) ; assertNotNull ( result ) ; assertFalse ( result.isEmpty ( ) ) ; assertEquals ( 1 , result.size ( ) ) ; }
public java.lang.String getRoleName ( ) { org.ovirt.engine.core.common.businessentities.Role role = org.ovirt.engine.core.bll.PermissionsCommandBase.getRoleDao ( ) . get ( org.ovirt.engine.core.bll.PermissionsCommandBase.getParameters ( ) . getPermission ( ) . getrole_id ( ) ) ; return role == null ? null : role.getName ( ) ; }
public void update ( org.ovirt.engine.core.common.businessentities.storage_server_connections connection ) { getCallsHandler ( ) . executeModification ( "Updatestorage_server_connections" , getFullParameterSource ( connection ) ) ; }
private void handleInterruptException ( org.ovirt.engine.core.bll.adbroker.LdapSearchExceptionHandlingResponse response , java.lang.Throwable cause ) { response.setServerScore ( Score.HIGH ) . setTranslatedException ( ( ( java.lang.Exception ) ( cause ) ) ) . setTryNextServer ( false ) ; }
protected org.ovirt.engine.core.bll.adbroker.Domain mockDomainObject ( java.util.List < java.net.URI > urls ) { final org.ovirt.engine.core.bll.adbroker.Domain domain = new org.ovirt.engine.core.bll.adbroker.Domain ( "" ) ; domain.setLdapServers ( urls ) ; domain.setLdapServers ( urls ) ; domain.setLdapProviderType ( LdapProviderType.general ) ; return domain ; }
public void testRemove ( ) { dao.remove ( existingVdsSpmIdMap.getId ( ) ) ; org.ovirt.engine.core.common.businessentities.vds_spm_id_map result = dao.get ( existingVdsSpmIdMap.getId ( ) ) ; assertNull ( result ) ; }
public void updateFCPUnsupportedConnectionType ( ) { org.ovirt.engine.core.common.businessentities.StorageServerConnections dummyFCPConn = createISCSIConnection ( "10.35.16.25" , StorageType.FCP , "" , "3260" , "user1" , "mypassword123" ) ; parameters.setStorageServerConnection ( dummyFCPConn ) ; org.ovirt.engine.core.bll.CanDoActionTestUtils.runAndAssertCanDoActionFailure ( command , EngineMessage.ACTION_TYPE_FAILED_STORAGE_CONNECTION_UNSUPPORTED_ACTION_FOR_STORAGE_TYPE ) ; }
public void setPmSecondaryType ( java.lang.String value ) { mVdsStatic.setPmSecondaryType ( value ) ; }
public void Cancel ( ) { setWindow ( null ) ; }
protected void endWithFailure ( ) { org.ovirt.engine.core.bll.RemoveDiskSnapshotsCommand.setSucceeded ( true ) ; }
public void logVolumeMessage ( final org.ovirt.engine.core.common.businessentities.gluster.GlusterVolumeEntity volume , final org.ovirt.engine.core.common.AuditLogType logType ) { logAuditMessage ( volume.getClusterId ( ) , volume , null , logType , null ) ; }
public boolean isNetworkExclusive ( java.util.List < org.ovirt.engine.core.bll.validator.network.NetworkType > networksOnIface ) { final int untaggedNetworkCount = org.apache.commons.collections.CollectionUtils.countMatches ( networksOnIface , untaggedNetworkPredicate ) ; return untaggedNetworkCount <= 1 ; }
private void setUpGetBallooningExpectations ( ) throws java.lang.Exception { setUpGetEntityExpectations ( VdcQueryType.IsBalloonEnabled , org.ovirt.engine.core.common.queries.IdQueryParameters.class , new java.lang.String [ ] { "Id" } , new java.lang.Object [ ] { GUIDS [ 0 ] } , true ) ; }
public org.ovirt.engine.core.common.businessentities.StoragePool getByName ( java.lang.String name ) { org.springframework.jdbc.core.namedparam.MapSqlParameterSource parameterSource = getCustomMapSqlParameterSource ( ) . addValue ( "name" , name ) ; return getCallsHandler ( ) . executeRead ( "Getstorage_poolByName" , org.ovirt.engine.core.dao.StoragePoolDAODbFacadeImpl.mapper , parameterSource ) ; }
public java.lang.Integer getguest_requested_memory ( ) { return this . guest_requested_memory ; }
private void InitHandlers ( ) { mTagsHandler = org.ovirt.engine.core.bll.HandlersFactory.createTagsHandler ( ) ; org.ovirt.engine.core.searchbackend.BaseConditionFieldAutoCompleter.TagsHandler = mTagsHandler ; org.ovirt.engine.core.bll.VmHandler.Init ( ) ; org.ovirt.engine.core.bll.VdsHandler.Init ( ) ; org.ovirt.engine.core.bll.VmTemplateHandler.Init ( ) ; org.ovirt.engine.core.bll.Backend.log.info ( "Completed initializing handlers" ) ; }
protected void executeQueryCommand ( ) { org.ovirt.engine.core.bll.GetJobByJobIdQuery.getQueryReturnValue ( ) . setReturnValue ( org.ovirt.engine.core.bll.job.JobRepositoryFactory.getJobRepository ( ) . getJob ( org.ovirt.engine.core.bll.GetJobByJobIdQuery.getParameters ( ) . getId ( ) ) ) ; }
protected void connectAllHostsToPool ( ) { runSynchronizeOperation ( new org.ovirt.engine.core.bll.storage.ConnectSingleAsyncOperationFactory ( ) ) ; }
public int hashCode ( ) { return java.util.Objects.hash ( getBootProtocol ( ) , getAddress ( ) , getNetmask ( ) , getGateway ( ) ) ; }
public void testGetMessageNullKey ( ) { java.lang.String testKey = null ; java.lang.String result = testManager.getMessage ( testKey ) ; org.junit.Assert.assertEquals ( "The result should be a blank string" , "" , result ) ; }
protected org.ovirt.engine.core.common.businessentities.Tags getRootTag ( ) { return getEntity ( org.ovirt.engine.core.common.businessentities.Tags.class , QueryType.GetRootTag , new org.ovirt.engine.core.common.queries.VdcQueryParametersBase ( ) , "root" ) ; }
protected void saveImage ( org.ovirt.engine.core.common.businessentities.DiskImage disk ) { org.ovirt.engine.core.bll.BaseImagesCommand.saveImage ( disk ) ; }
public void testInstanceTypes ( ) { testValidSql ( "instancetype: " , "SELECT * FROM ((SELECT instance_types_view.* FROM instance_types_view ) ORDER BY name ASC ) as T1 OFFSET (1 -1) LIMIT 0" ) ; }
private org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBase createLoggable ( ) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBase loggable = org.ovirt.engine.core.di.Injector.injectMembers ( new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBase ( ) ) ; loggable.setClusterId ( networkCluster.getClusterId ( ) ) ; loggable.addCustomValue ( "NetworkName" , networkName ) ; return loggable ; }
protected java.lang.String getJsonDiskDescription ( org.ovirt.engine.core.common.businessentities.storage.Disk disk ) { try { return org.ovirt.engine.core.bll.MetadataDiskDescriptionHandler.getInstance ( ) . getJsonDiskDescription ( disk ) ; } catch ( java.io.IOException e ) { log.error ( "Exception while generating json for disk. ERROR: '{}'" , e ) ; return org.apache.commons.lang.StringUtils.EMPTY ; } }
public org.ovirt.engine.api.model.Clusters list ( ) { return mapCollection ( getBackendCollection ( SearchType.Cluster ) ) ; }
private org.ovirt.engine.core.common.businessentities.VmTemplate mockVmTemplate ( ) { org.ovirt.engine.core.common.businessentities.VmTemplate vmTemplate = new org.ovirt.engine.core.common.businessentities.VmTemplate ( ) ; vmTemplate.setId ( vmTemplateId ) ; vmTemplate.setstorage_pool_id ( storagePoolId ) ; setDiskList ( vmTemplate ) ; return vmTemplate ; }
public org.ovirt.engine.api.model.InstanceTypes list ( ) { if ( isFiltered ( ) ) { return mapCollection ( getBackendCollection ( QueryType.GetAllInstanceTypes , new org.ovirt.engine.core.common.queries.VdcQueryParametersBase ( ) ) ) ; } else { return mapCollection ( getBackendCollection ( SearchType.InstanceType ) ) ; } }
private java.util.List < org.ovirt.engine.core.common.businessentities.AuditLog > searchAuditLogEvents ( ) { return genericSearch ( org.ovirt.engine.core.bll.SearchQuery.getDbFacade ( ) . getAuditLogDao ( ) , false ) ; }
public void log ( org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBase auditLogable ) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogDirector.log ( auditLogable ) ; }
public void testExtractProperIpv6AddressWithPrefix ( ) { org.junit.Assert.assertThat ( org.ovirt.engine.core.vdsbroker.vdsbroker.VdsBrokerObjectsBuilder.extractIpv6Address ( "::/123" ) , org.hamcrest.Matchers.is ( "::" ) ) ; }
public void poolUpdateOvfStoreOnAnyDomainSupported ( ) throws java.lang.Exception { org.mockito.Mockito.doReturn ( true ) . when ( ovfDataUpdater ) . ovfOnAnyDomainSupported ( org.mockito.Matchers.any ( org.ovirt.engine.core.common.businessentities.StoragePool.class ) ) ; ovfDataUpdater.ovfUpdate_timer ( ) ; verify ( java.lang.Boolean.TRUE ) ; }
public void testRemoveBadGuid ( ) throws java.lang.Exception { control.replay ( ) ; try { collection.remove ( "foo" ) ; fail ( "expected WebApplicationException" ) ; } catch ( javax.ws.rs.WebApplicationException wae ) { verifyNotFoundException ( wae ) ; } }
public void testUpdateFieldsQutoaDefault ( ) { vm.setIsQuotaDefault ( true ) ; vmStatic.setQuotaDefault ( false ) ; junit.framework.Assert.assertTrue ( "Quota default should be updatable" , command.areUpdatedFieldsLegal ( ) ) ; }
protected void updateCurrentCd ( java.lang.String cdPath ) { cdPath = ( org.apache.commons.lang.StringUtils.isEmpty ( cdPath ) ) ? null : cdPath ; org.ovirt.engine.core.bll.VmHandler.updateCurrentCd ( org.ovirt.engine.core.bll.RunVmCommand.getVdsId ( ) , org.ovirt.engine.core.bll.RunVmCommand.getVm ( ) , cdPath ) ; }
private void adjustRemoveExternalOptions ( java.util.Set < org.ovirt.engine.core.compat.Guid > externalProviderIds ) { if ( externalProviderIds.isEmpty ( ) ) { return ; } org.ovirt.engine.ui.frontend.Frontend.getInstance ( ) . runQuery ( VdcQueryType.GetAllProviders , new org.ovirt.engine.core.common.queries.GetAllProvidersParameters ( org.ovirt.engine.core.common.businessentities.ProviderType.EXTERNAL_NETWORK ) , createProviderReadOnlyCallback ( externalProviderIds ) ) ; }
public org.ovirt.engine.api.resource.WatchdogsResource getWatchdogsResource ( ) { return inject ( new org.ovirt.engine.api.restapi.resource.BackendTemplateWatchdogsResource ( guid , org.ovirt.engine.core.common.queries.VdcQueryType.GetWatchdog , new org.ovirt.engine.core.common.queries.IdQueryParameters ( guid ) ) ) ; }
private org.ovirt.engine.core.common.queries.VdcQueryReturnValue getCACertificate ( ) { return org.ovirt.engine.core.bll.ConfigureConsoleOptionsQuery.getBackend ( ) . runInternalQuery ( VdcQueryType.GetCACertificate , new org.ovirt.engine.core.common.queries.VdcQueryParametersBase ( ) ) ; }
public void testGetVdsSpmIdMapForStoragePoolAndVdsId ( ) { org.ovirt.engine.core.common.businessentities.vds_spm_id_map result = dao.get ( existingVdsSpmIdMap.getstorage_pool_id ( ) , existingVdsSpmIdMap.getvds_spm_id ( ) ) ; assertNotNull ( result ) ; assertEquals ( existingVdsSpmIdMap , result ) ; }
protected void logErrorOneOrMoreActiveDomainsAreMissing ( ) { log.errorFormat ( "Can not found any default active domain for one of the disks of snapshot with id : {0}" , oldVmId ) ; }
protected org.ovirt.engine.api.model.StorageDomain getStorageDomainEntity ( ) { org.ovirt.engine.api.model.StorageDomain entity = control.createMock ( org.ovirt.engine.api.model.StorageDomain.class ) ; return org.ovirt.engine.api.restapi.resource.BackendTemplateDiskResourceTest.setUpStorageDomainEntityExpectations ( entity , StorageType.NFS ) ; }
private void discover ( ) { if ( ( getWindow ( ) ) != null ) { return ; } org.ovirt.engine.ui.uicommonweb.models.providers.DiscoverNetworksModel discoverModel = new org.ovirt.engine.ui.uicommonweb.models.providers.DiscoverNetworksModel ( this , getEntity ( ) ) ; setWindow ( discoverModel ) ; discoverModel.discoverNetworks ( ) ; }
private void mockVdsCommand ( org.ovirt.engine.core.common.vdscommands.VDSCommandType cmdType , org.ovirt.engine.core.common.vdscommands.VDSReturnValue returnValue ) { org.mockito.Mockito.doReturn ( returnValue ) . when ( resourceManager ) . runVdsCommand ( org.mockito.Matchers.eq ( cmdType ) , org.mockito.Matchers.any ( org.ovirt.engine.core.common.vdscommands.VDSParametersBase.class ) ) ; }
public void getUsbPolicyOnUpdateCurrentlyNativeGotEnabledLegacyPolicyUsb ( ) { org.ovirt.engine.api.model.Usb usb = new org.ovirt.engine.api.model.Usb ( ) ; usb.setEnabled ( true ) ; usb.setType ( "legacy" ) ; assertEquals ( org.ovirt.engine.api.restapi.types.VmMapper.getUsbPolicyOnUpdate ( usb , UsbPolicy.ENABLED_NATIVE ) , UsbPolicy.ENABLED_LEGACY ) ; }
public void shouldElectActiveDataDomain ( ) { final org.ovirt.engine.core.common.businessentities.StorageDomain domain = prepareStorageDomainForElection ( StorageDomainStatus.Active , "not he domain name" , false ) ; org.junit.Assert.assertEquals ( domain , cmd.electNewMaster ( ) ) ; }
public void init ( final org.ovirt.engine.ui.uicommonweb.models.hosts.HostModel model ) { super . init ( model ) ; addUpdateHostsListener ( model ) ; addPowerManagementListener ( model ) ; addHostProviderListener ( model ) ; addRadioButtonsListeners ( model ) ; }
public void validateDisksPassDiscardSucceeds ( ) { mockPassDiscardSupport ( ValidationResult.VALID ) ; org.ovirt.engine.core.common.businessentities.VM vm = new org.ovirt.engine.core.common.businessentities.VM ( ) ; vm.setId ( org.ovirt.engine.core.compat.Guid.newGuid ( ) ) ; org.junit.Assert.assertThat ( runVmValidator.validateDisksPassDiscard ( vm ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.isValid ( ) ) ; }
public void setHashName ( java.lang.String value ) { sethashName ( value ) ; onPropertyChanged ( new org.ovirt.engine.ui.uicompat.PropertyChangedEventArgs ( "HashName" ) ) ; }
protected void ExecuteVdsBrokerCommand ( ) { mVmListReturn = org.ovirt.engine.core.vdsbroker.vdsbroker.GetVmStatsVDSCommand.getBroker ( ) . getVmStats ( org.ovirt.engine.core.vdsbroker.vdsbroker.GetVmStatsVDSCommand.getParameters ( ) . getVmId ( ) . toString ( ) ) ; org.ovirt.engine.core.vdsbroker.vdsbroker.GetVmStatsVDSCommand.ProceedProxyReturnValue ( ) ; setReturnValue ( createVmInternalData ( mVmListReturn.mInfoList [ 0 ] ) ) ; }
public static org.ovirt.engine.core.bll.quota.QuotaManager getInstance ( ) { return org.ovirt.engine.core.bll.quota.QuotaManager.INSTANCE ; }
public void parametersWithSecureDeletionAreNotFixedOnFileDomainWhenPostZeroIsFalse ( ) { org.ovirt.engine.core.bll.storage.domain.PostDeleteActionHandlerTest.ParametersWithPostDeleteAction parameters = postDeleteActionHandler.fixParameters ( new org.ovirt.engine.core.bll.storage.domain.PostDeleteActionHandlerTest.ParametersWithPostDeleteAction ( false ) , true ) ; assertPostZeroValue ( parameters , false ) ; }
public void testDefaultPoolFlagIsNotSetValidUsage ( ) throws java.lang.Exception { macPool.setDefaultPool ( false ) ; org.junit.Assert.assertThat ( new org.ovirt.engine.core.bll.MacPoolValidator ( macPool ) . defaultPoolFlagIsNotSet ( ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.isValid ( ) ) ; }
public void testUpdate ( ) throws java.lang.Exception { setUpGetGraphicsExpectations ( 0 ) ; super . testUpdate ( ) ; }
public void testGetAllForClusterWithInvalidCluster ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.network.Network > result = dao.getAllForCluster ( org.ovirt.engine.core.compat.Guid.NewGuid ( ) ) ; org.junit.Assert.assertNotNull ( result ) ; org.junit.Assert.assertTrue ( result.isEmpty ( ) ) ; }
public void addLocator ( org.ovirt.api.metamodel.concepts.Locator newLocator ) { locators.add ( newLocator ) ; }
public void testGetClusterByClusterPolicyIdNegative ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.Cluster > result = dao.getClustersByClusterPolicyId ( org.ovirt.engine.core.compat.Guid.newGuid ( ) ) ; org.junit.Assert.assertEquals ( 0 , result.size ( ) ) ; }
protected org.ovirt.engine.core.bll.FenceExecutor createExecutorForProxyCheck ( ) { return new org.ovirt.engine.core.bll.FenceExecutor ( org.ovirt.engine.core.bll.VdsNotRespondingTreatmentCommand.getVds ( ) , org.ovirt.engine.core.bll.VdsNotRespondingTreatmentCommand.getParameters ( ) . getAction ( ) ) ; }
public long getSnapshotMemorySizeInBytes ( org.ovirt.engine.core.common.businessentities.VM vm ) { long videoRam = ( ( long ) ( org.ovirt.engine.core.bll.utils.VideoDeviceSettings.totalVideoRAMSizeMb ( vm ) ) ) ; return ( ( ( ( vm.getVmMemSizeMb ( ) ) + 200 ) + videoRam ) * 1024 ) * 1024 ; }
public void canDoActionSucceeds ( ) { cmd = createTestCommand ( stoppedVolumeId ) ; org.junit.Assert.assertTrue ( cmd.canDoAction ( ) ) ; }
public static void getIrsImageList ( org.ovirt.engine.ui.frontend.AsyncQuery < java.util.List < java.lang.String > > aQuery , org.ovirt.engine.core.compat.Guid storagePoolId , boolean forceRefresh ) { org.ovirt.engine.core.common.businessentities.storage.ImageFileType imageFileType = org.ovirt.engine.core.common.businessentities.storage.ImageFileType.ISO ; org.ovirt.engine.ui.uicommonweb.dataprovider.ImagesDataProvider.getIrsImageList ( aQuery , storagePoolId , forceRefresh , imageFileType ) ; }
protected boolean canPerformRollbackUsingCommand ( org.ovirt.engine.core.common.action.VdcActionType commandType , org.ovirt.engine.core.common.action.VdcActionParametersBase params ) { return ( org.ovirt.engine.core.bll.storage.disk.image.CopyImageGroupCommand.getDiskImageDao ( ) . get ( org.ovirt.engine.core.bll.storage.disk.image.CopyImageGroupCommand.getParameters ( ) . getDestinationImageId ( ) ) ) != null ; }
protected void AddInvalidIdErrorMessages ( org.ovirt.engine.core.dal.VdcBllMessages messageActionTypeParameter ) { AddErrorMessages ( messageActionTypeParameter , VdcBllMessages.ACTION_TYPE_FAILED_BOOKMARK_INVALID_ID ) ; }
public void onSuccess ( java.lang.Object model , java.lang.Object ret ) { java.util.ArrayList < org.ovirt.engine.core.common.businessentities.IscsiBond > items = ( ( org.ovirt.engine.core.common.queries.VdcQueryReturnValue ) ( ret ) ) . getReturnValue ( ) ; setItems ( items ) ; }
public int getServerCount ( org.ovirt.engine.core.compat.Guid clusterId ) { return getVdsDao ( ) . getAllForCluster ( clusterId ) . size ( ) ; }
public java.util.List < org.ovirt.engine.core.common.businessentities.QuotaVdsGroup > getQuotaVdsGroupByQuotaGuidWithGeneralDefault ( org.ovirt.engine.core.compat.Guid quotaId ) { return getQuotaVdsGroupByVdsGroupGuid ( null , quotaId , false ) ; }
public void Search ( ) { if ( ( getEntity ( ) ) != null ) { setSearchString ( org.ovirt.engine.core.compat.StringFormat.format ( "hosts: network=%1$s" , getEntity ( ) . getname ( ) ) ) ; super . Search ( ) ; } }
public java.util.Map < java.lang.String , java.lang.Object > setVmTicket ( java.lang.String vmId , java.lang.String otp64 , java.lang.String sec , java.lang.String connectionAction , java.util.Map < java.lang.String , java.lang.String > params ) ;
private org.ovirt.engine.core.bll.ValidationResult validateMinimumVersionSupport ( ) { return org.ovirt.engine.core.common.FeatureSupported.momPolicyOnHost ( getVdsGroup ( ) . getCompatibilityVersion ( ) ) ? ValidationResult.VALID : new org.ovirt.engine.core.bll.ValidationResult ( org.ovirt.engine.core.common.errors.EngineMessage.ACTION_TYPE_FAILED_MOM_UPDATE_VDS_VERSION ) ; }
public static java.lang.Object getConfigValuePreConverted ( org.ovirt.engine.core.common.queries.ConfigurationValues configValue , java.lang.String version ) { org.ovirt.engine.core.compat.KeyValuePairCompat < org.ovirt.engine.core.common.queries.ConfigurationValues , java.lang.String > key = new org.ovirt.engine.core.compat.KeyValuePairCompat < org.ovirt.engine.core.common.queries.ConfigurationValues , java.lang.String > ( configValue , version ) ; return org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncDataProvider.cachedConfigValuesPreConvert.get ( key ) ; }
protected void beforeTask ( ) { }
public void onSuccess ( java.lang.Object target , java.lang.Object returnValue ) { setIsUsbEnabled ( ( ( java.lang.Boolean ) ( returnValue ) ) ) ; }
public static void attachNetworks ( org.ovirt.engine.ui.uicommonweb.models.hosts.network.NetworkInterfaceModel nic , java.util.List < org.ovirt.engine.ui.uicommonweb.models.hosts.network.LogicalNetworkModel > networks , java.util.List < org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface > allNics ) { for ( org.ovirt.engine.ui.uicommonweb.models.hosts.network.LogicalNetworkModel networkModel : networks ) { org.ovirt.engine.ui.uicommonweb.models.hosts.network.NetworkOperation.ATTACH_NETWORK.getCommand ( networkModel , nic , allNics ) . Execute ( ) ; } }
public void succededToRunVm ( org.ovirt.engine.core.compat.Guid vmId ) { mUnrespondedAttempts.set ( 0 ) ; sshSoftFencingExecuted.set ( false ) ; org.ovirt.engine.core.vdsbroker.ResourceManager.getInstance ( ) . succededToRunVm ( vmId , getVdsId ( ) ) ; }
public boolean isClientWindownsExplorer ( ) { return ( clientOsType ( ) . equalsIgnoreCase ( "Windows" ) ) && ( clientBrowserType ( ) . equalsIgnoreCase ( "Explorer" ) ) ; }
protected com.google.gwt.user.cellview.client.CellTable.Resources getTableHeaderlessResources ( ) { return com.google.gwt.core.client.GWT.create ( org.ovirt.engine.ui.common.SubTableHeaderlessResources.class ) ; }
public void executeCommand ( org.ovirt.engine.ui.uicommonweb.UICommand command ) { test ( ) ; }
public void setTargets ( java.util.ArrayList < org.ovirt.engine.ui.uicommonweb.models.storage.SanTargetModel > value ) { if ( ( targets ) != value ) { targets = value ; OnPropertyChanged ( new org.ovirt.engine.ui.uicompat.PropertyChangedEventArgs ( "Targets" ) ) ; getTargetsList ( ) . setItems ( targets ) ; } }
public java.util.Map < java.lang.String , java.lang.Object > glusterVolumeGeoRepStatus ( ) ;
public org.ovirt.engine.core.common.eventqueue.EventResult call ( ) { org.ovirt.engine.core.vdsbroker.irsbroker.IrsBrokerCommand.clearVdsFromCache ( vds.getStoragePoolId ( ) , vds.getId ( ) , vds.getvds_name ( ) ) ; return new org.ovirt.engine.core.common.eventqueue.EventResult ( true , org.ovirt.engine.core.common.eventqueue.EventType.VDSCLEARCACHE ) ; }
public void testSendReceive ( ) throws java.lang.Exception { client.sendFile ( org.ovirt.engine.core.utils.ssh.TransferTest.local1.getAbsolutePath ( ) , remote ) ; client.receiveFile ( remote , local2.getAbsolutePath ( ) ) ; assertArrayEquals ( digestFile ( org.ovirt.engine.core.utils.ssh.TransferTest.local1 ) , digestFile ( local2 ) ) ; }
public java.util.Map < java.lang.String , java.lang.Object > getDomainList ( ) { return org.ovirt.engine.core.aaa.SSOOAuthServiceUtils.getDomainList ( org.ovirt.engine.core.bll.GetDomainListQuery.getSessionDataContainer ( ) . getSsoAccessToken ( org.ovirt.engine.core.bll.GetDomainListQuery.getParameters ( ) . getSessionId ( ) ) ) ; }
public void testAddExistingBlockDomainSuccessfully ( ) { org.mockito.Mockito.doReturn ( org.ovirt.engine.core.bll.storage.domain.AddExistingBlockStorageDomainCommandTest.getLUNs ( ) ) . when ( command ) . getLUNsFromVgInfo ( ) ; command.executeCommand ( ) ; org.junit.Assert.assertTrue ( command.getReturnValue ( ) . getSucceeded ( ) ) ; }
com.google.gwt.safehtml.shared.SafeHtml imageTextSetupNetworkUsage ( com.google.gwt.safehtml.shared.SafeHtml image , java.lang.String text , java.lang.String color ) ;
protected void ExecuteIrsBrokerCommand ( ) { org.ovirt.engine.core.vdsbroker.ResourceManager.getInstance ( ) . runVdsCommand ( VDSCommandType.HSMStopTask , new org.ovirt.engine.core.common.vdscommands.HSMTaskGuidBaseVDSCommandParameters ( org.ovirt.engine.core.vdsbroker.irsbroker.SPMStopTaskVDSCommand.getCurrentIrsProxyData ( ) . getCurrentVdsId ( ) , org.ovirt.engine.core.vdsbroker.irsbroker.SPMStopTaskVDSCommand.getParameters ( ) . getTaskId ( ) ) ) ; }
public void onSuccess ( final org.ovirt.engine.core.common.queries.VdcQueryReturnValue result ) { operation.getCallback ( ) . onSuccess ( operation , result ) ; }
public boolean isStateless ( ) { return vmStatic.getis_stateless ( ) ; }
public int getRow ( ) { return row ; }
private boolean isDiskImage ( ) { return ( ( ( getOldDisk ( ) ) != null ) && ( ( getNewDisk ( ) ) != null ) ) && ( ( org.ovirt.engine.core.common.businessentities.Disk.DiskStorageType.IMAGE ) == ( getOldDisk ( ) . getDiskStorageType ( ) ) ) ; }
public static void checkStatusAndLockVm ( org.ovirt.engine.core.compat.Guid vmId ) { org.ovirt.engine.core.common.businessentities.VmDynamic vmDynamic = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getVmDynamicDao ( ) . get ( vmId ) ; org.ovirt.engine.core.bll.VmHandler.checkStatusBeforeLock ( vmDynamic.getStatus ( ) ) ; org.ovirt.engine.core.bll.VmHandler.LockVm ( vmId ) ; }
public final boolean setUser ( org.ovirt.engine.core.common.businessentities.DbUser user ) { return setData ( org.ovirt.engine.core.bll.session.SessionDataContainer.USER_PARAMETER_NAME , user ) ; }
protected org.ovirt.engine.core.common.queries.VdcQueryParametersBase getQueryParameters ( ) { return new org.ovirt.engine.core.common.queries.IdQueryParameters ( asGuid ( clusterId ) ) ; }
public java.lang.String getTicket ( ) { return consoleOptions.getTicket ( ) ; }
private void processVmPoolOnStopVm ( ) { org.ovirt.engine.core.bll.VmPoolHandler.processVmPoolOnStopVm ( org.ovirt.engine.core.bll.RunVmCommandBase.getVm ( ) . getId ( ) , org.ovirt.engine.core.bll.job.ExecutionHandler.createDefaultContexForTasks ( org.ovirt.engine.core.bll.RunVmCommandBase.getExecutionContext ( ) ) ) ; }
public java.lang.String renderNullSafe ( org.ovirt.engine.core.common.businessentities.StoragePool storagePool ) { return storagePool.getName ( ) ; }
public void testGetAllForVdsGroup ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.VmTemplate > result = dao.getAllForVdsGroup ( org.ovirt.engine.core.dao.VmTemplateDaoTest.VDS_GROUP_ID ) ; org.ovirt.engine.core.dao.VmTemplateDaoTest.assertGetAllResult ( result ) ; for ( org.ovirt.engine.core.common.businessentities.VmTemplate template : result ) { org.junit.Assert.assertEquals ( org.ovirt.engine.core.dao.VmTemplateDaoTest.VDS_GROUP_ID , template.getVdsGroupId ( ) ) ; } }
public void tearDown ( ) { if ( ( client ) != null ) { client.disconnect ( ) ; client = null ; } }
public void notAllVfsAreFree ( ) { allVfsAreFreeTest ( false ) ; org.junit.Assert.assertThat ( validator.allVfsAreFree ( hostNicVfsConfigHelper ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( VdcBllMessages.ACTION_TYPE_FAILED_NUM_OF_VFS_CANNOT_BE_CHANGED , java.lang.String.format ( VfsConfigValidator.NIC_NAME_REPLACEMENT , nic.getName ( ) ) ) ) ; }
protected void forceRefreshWithoutTimers ( ) { if ( ( getEntity ( ) ) != null ) { super . forceRefreshWithoutTimers ( ) ; } }
public void testGetAll ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.UserProfile > result = dao.getAll ( ) ; org.junit.Assert.assertNotNull ( result ) ; org.junit.Assert.assertFalse ( result.isEmpty ( ) ) ; org.junit.Assert.assertEquals ( 2 , result.size ( ) ) ; }
protected boolean isStorageWithSameNameExists ( ) { return ( org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getStorageDomainStaticDao ( ) . getByName ( getStorageDomain ( ) . getStorageName ( ) ) ) != null ; }
private java.lang.String nullToEmptyString ( java.lang.Object obj ) { return toStringNullToDefault ( obj , "" ) ; }
public static boolean isHostBelongsToAnyOfClusters ( java.util.ArrayList < org.ovirt.engine.core.common.businessentities.VDSGroup > clusters , org.ovirt.engine.core.common.businessentities.VDS host ) { for ( org.ovirt.engine.core.common.businessentities.VDSGroup cluster : clusters ) { if ( cluster.getId ( ) . equals ( host.getVdsGroupId ( ) ) ) { return true ; } } return false ; }
public void updateAllDiskImageSnapshotsStatusWithCompensation ( final org.ovirt.engine.core.compat.Guid diskId , final org.ovirt.engine.core.common.businessentities.storage.ImageStatus status , org.ovirt.engine.core.common.businessentities.storage.ImageStatus statusForCompensation , final org.ovirt.engine.core.bll.context.CompensationContext compensationContext ) { updateAllDiskImagesSnapshotsStatusInTransactionWithCompensation ( java.util.Collections.singletonList ( diskId ) , status , statusForCompensation , compensationContext ) ; }
public void linkedWhenUnlinkingNotSupported ( ) throws java.lang.Exception { unlinkingTest ( ValidationResult.VALID , false , true ) ; }
public void setUp ( ) { createCluster ( ) ; createParameters ( ) ; injectMocks ( ) ; createCommandContext ( ) ; createCommand ( ) ; mockBackend ( ) ; }
protected void postConstruct ( ) { super . postConstruct ( ) ; if ( ( org.ovirt.engine.core.bll.RunVmCommand.getVm ( ) ) != null ) { needsHostDevices = hostDeviceManager.checkVmNeedsHostDevices ( org.ovirt.engine.core.bll.RunVmCommand.getVm ( ) ) ; } acquireHostDevicesLock ( ) ; }
public void reuseSession ( ) { java.lang.String sessionId = getSessionId ( ) ; if ( sessionId != null ) { org.ovirt.engine.ui.webadmin.plugin.restapi.RestApiSessionAcquiredEvent.fire ( eventBus , sessionId ) ; scheduleKeepAliveHeartbeat ( ) ; } else { org.ovirt.engine.ui.webadmin.plugin.restapi.RestApiSessionManager.logger.severe ( "Engine REST API session ID is not available" ) ; } }
protected void OnEntityChanged ( ) { super . OnEntityChanged ( ) ; if ( ( getEntity ( ) ) != null ) { UpdateAlerts ( ) ; UpdateMemory ( ) ; UpdateSwapUsed ( ) ; UpdateProperties ( ) ; } }
public void setQuotaName ( java.lang.String value ) { this . mVmStatic.setQuotaName ( value ) ; }
void save ( org.ovirt.engine.core.common.businessentities.VM vm ) ;
public boolean IsVmDuringInitiating ( org.ovirt.engine.core.compat.Guid vm_guid ) { return asyncRunningVms.contains ( vm_guid ) ; }
public void execute ( ) { getTable ( ) . getSelectionModel ( ) . setSelected ( vmNetworkInterface , true ) ; }
public static boolean hasVmRngDevice ( org.ovirt.engine.core.compat.Guid vmId ) { return ! ( org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getVmDeviceDao ( ) . getVmDeviceByVmIdAndType ( vmId , VmDeviceGeneralType.RNG ) . isEmpty ( ) ) ; }
public boolean add ( T e ) { boolean b = super . add ( e ) ; OnCollectionChanged ( ) ; return b ; }
public void onValueChange ( com.google.gwt.event.logical.shared.ValueChangeEvent < java.lang.Boolean > event ) { getView ( ) . selectSpiceImplementation ( SpiceConsoleModel.ClientConsoleMode.Native ) ; }
public void clearBuff ( ) { if ( ( this . nioEngine ) != null ) { this . nioEngine.clearBuff ( ) ; } outbox.clear ( ) ; }
protected void endActionOnAllImageGroups ( ) { for ( org.ovirt.engine.core.common.action.VdcActionParametersBase p : getParameters ( ) . getImagesParameters ( ) ) { p.setTaskGroupSuccess ( getParameters ( ) . getTaskGroupSuccess ( ) ) ; getBackend ( ) . EndAction ( getImagesActionType ( ) , p ) ; } }
public java.lang.String getValue ( org.ovirt.engine.core.common.scheduling.PolicyUnit object ) { if ( ! ( object.isEnabled ( ) ) ) { return constants.disabledPolicyUnit ( ) ; } return constants.empty ( ) ; }
public void destroy ( ) { call ( widget.getElement ( ) , org.ovirt.engine.ui.common.widget.tooltip.Tooltip.DESTROY ) ; }
public static void checkSucceeded ( org.ovirt.engine.core.bll.QueriesCommandBase < ? > query , boolean expected ) { org.junit.Assert.assertEquals ( expected , query.getQueryReturnValue ( ) . getSucceeded ( ) ) ; }
public java.lang.Object Convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { if ( source != null ) { return source ; } return new java.util.ArrayList < org.ovirt.engine.core.common.businessentities.storage.DiskImage > ( ) ; }
protected org.ovirt.engine.ui.uicommonweb.UICommand resolveCommand ( ) { return getDetailModel ( ) . getRemoveCommand ( ) ; }
public void setwrite_rate ( int value ) { this . writeRateFromDiskImageDynamic = value ; }
protected void executeDiskModifications ( org.ovirt.engine.core.compat.Guid vmId , org.ovirt.engine.ui.uicommonweb.models.vms.UnitVmModel model ) { }
public void testValidateGatewayWhenGatewayIsNull ( ) throws java.lang.Exception { doTestValidateGateway ( null , false , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.isValid ( ) ) ; }
public void canDoActionSucceedsOnDiskDomainCheckWhenNoDisks ( ) throws java.lang.Exception { org.ovirt.engine.core.compat.Guid storageId = org.ovirt.engine.core.compat.Guid.newGuid ( ) ; initializeCommand ( storageId ) ; mockVm ( ) ; mockEntities ( storageId ) ; runAndAssertCanDoActionSuccess ( ) ; }
protected void separateCustomProperties ( org.ovirt.engine.core.common.businessentities.VmStatic parameterMasterVm ) { if ( ( org.ovirt.engine.core.bll.AddVmTemplateCommand.getVdsGroup ( ) ) != null ) { org.ovirt.engine.core.common.utils.customprop.VmPropertiesUtils.getInstance ( ) . separateCustomPropertiesToUserAndPredefined ( org.ovirt.engine.core.bll.AddVmTemplateCommand.getVdsGroup ( ) . getcompatibility_version ( ) , parameterMasterVm ) ; } }
public void canDoActionFileToBlockSupported ( ) { storagePool.setCompatibilityVersion ( Version.v3_6 ) ; canDoActionInvalidDestinationAndSourceDomainOfDifferentStorageSubtypes ( StorageType.NFS , StorageType.ISCSI , true ) ; }
public int hashCode ( ) { return java.util.Objects.hash ( getId ( ) , committedDiskSize , dynamicData , staticData , storageDomainSharedStatus , storageDomainOverCommitPercent , storagePoolIsoMapData , totalDiskSize ) ; }
public long getaudit_log_id ( ) { return this . auditLogId ; }
public org.ovirt.engine.core.common.businessentities.DbUser getByUsername ( java.lang.String username ) { org.springframework.jdbc.core.namedparam.MapSqlParameterSource parameterSource = getCustomMapSqlParameterSource ( ) . addValue ( "username" , username ) ; return getCallsHandler ( ) . executeRead ( "GetUserByUserName" , org.ovirt.engine.core.dao.DbUserDAODbFacadeImpl.DbUserRowMapper.instance , parameterSource ) ; }
public void markAsInvalid ( java.util.List < java.lang.String > validationHints ) { super . markAsInvalid ( validationHints ) ; }
public java.util.Date getGuestLastLoginTime ( ) { return this . vmDynamic.getGuestLastLoginTime ( ) ; }
public static org.ovirt.engine.core.common.queries.VdcQueryParametersBase eqQueryParams ( java.lang.Class < ? extends org.ovirt.engine.core.common.queries.VdcQueryParametersBase > clz , java.lang.String [ ] names , java.lang.Object [ ] values ) { org.easymock.classextension.EasyMock.reportMatcher ( new org.ovirt.engine.api.restapi.test.util.TestHelper.QueryParametersEquals ( clz , names , values ) ) ; return null ; }
public void testEmptyGetAllDisksByDiskProfile ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.storage.DiskImage > diskImages = dao.getAllForDiskProfile ( org.ovirt.engine.core.compat.Guid.newGuid ( ) ) ; org.junit.Assert.assertNotNull ( diskImages ) ; org.junit.Assert.assertTrue ( diskImages.isEmpty ( ) ) ; }
private org.ovirt.engine.core.common.businessentities.VDSGroup mockVdsGroup ( ) { org.ovirt.engine.core.common.businessentities.VDSGroup vdsGroup = new org.ovirt.engine.core.common.businessentities.VDSGroup ( ) ; vdsGroup.setvds_group_id ( vdsGroupId ) ; vdsGroup.setcompatibility_version ( new org.ovirt.engine.core.compat.Version ( ) ) ; vdsGroup.setstorage_pool_id ( storagePoolId ) ; return vdsGroup ; }
public void testGetAll ( ) { java.util.List < org.ovirt.engine.core.common.scheduling.ClusterPolicy > result = dao.getAll ( java.util.Collections.emptyMap ( ) ) ; org.junit.Assert.assertNotNull ( result ) ; org.junit.Assert.assertEquals ( org.ovirt.engine.core.dao.ClusterPolicyDaoTest.NUMBER_OF_CLUSTER_POLICIES , result.size ( ) ) ; }
private java.util.List < org.ovirt.engine.core.common.businessentities.VmTemplate > searchInstanceTypes ( ) { return genericSearch ( org.ovirt.engine.core.bll.SearchQuery.getDbFacade ( ) . getVmTemplateDao ( ) , true , null ) ; }
public void onSSOTokenChange ( org.ovirt.engine.ui.frontend.communication.SSOTokenChangeEvent event ) { this . ssoToken = event.getToken ( ) ; if ( ( this . ssoToken ) == null ) { this . ssoToken = "" ; } checkIfInitFinished ( ) ; }
private java.util.List < org.ovirt.engine.core.common.businessentities.gluster.BrickProfileDetails > getBrickProfileDetails ( ) { org.ovirt.engine.core.common.businessentities.gluster.BrickProfileDetails profileDetails = new org.ovirt.engine.core.common.businessentities.gluster.BrickProfileDetails ( ) ; profileDetails.setBrickId ( org.ovirt.engine.core.compat.Guid.newGuid ( ) ) ; profileDetails.setStatsInfo ( getStatsInfo ( ) ) ; return java.util.Collections.singletonList ( profileDetails ) ; }
public void vdsName ( ) { b.setVdsName ( org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBaseTest.NAME ) ; final java.lang.String s = b.getVdsName ( ) ; org.junit.Assert.assertEquals ( org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBaseTest.NAME , s ) ; }
public void testNoRepeats ( ) { java.lang.String sample = org.ovirt.engine.core.utils.Ticketing.GenerateOTP ( ) ; for ( int x = 0 ; x < 1000 ; x ++ ) { java.lang.String other = org.ovirt.engine.core.utils.Ticketing.GenerateOTP ( ) ; org.junit.Assert.assertNotSame ( sample , other ) ; } }
public static java.lang.String getMessage ( org.ovirt.engine.core.common.AuditLogType logType ) { return org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogDirector.messages.get ( logType ) ; }
public void remove ( org.ovirt.engine.core.compat.Guid commandId ) { commandMap.remove ( commandId ) ; org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getCommandEntityDao ( ) . remove ( commandId ) ; }
protected java.lang.String clientPlatformType ( ) { return org.ovirt.engine.ui.webadmin.uicommon.WebAdminConfigurator.clientAgentType.getPlatform ( ) ; }
public void init ( ) { org.ovirt.engine.core.bll.VmHandler.init ( ) ; mockVmPropertiesUtils ( ) ; org.mockito.Mockito.doNothing ( ) . when ( vmPropertiesUtils ) . separeteCustomPropertiesToUserAndPredefined ( org.mockito.Matchers.any ( org.ovirt.engine.core.compat.Version.class ) , org.mockito.Matchers.any ( org.ovirt.engine.core.common.businessentities.VmStatic.class ) ) ; }
public org.ovirt.engine.api.model.Steps list ( ) { org.ovirt.engine.core.common.queries.GetStepsByJobIdQueryParameters params = new org.ovirt.engine.core.common.queries.GetStepsByJobIdQueryParameters ( jobId ) ; java.util.List < org.ovirt.engine.api.model.Step > steps = getBackendCollection ( VdcQueryType.GetStepsByJobId , params ) ; return mapCollection ( steps ) ; }
private void setHasSearchStringPrefix ( boolean value ) { if ( ( hasSearchStringPrefix ) != value ) { hasSearchStringPrefix = value ; OnPropertyChanged ( new org.ovirt.engine.core.compat.PropertyChangedEventArgs ( "HasSearchStringPrefix" ) ) ; } }
protected boolean UpdateVmImSpm ( ) { return org.ovirt.engine.core.bll.VmCommand.UpdateVmInSpm ( getVm ( ) . getstorage_pool_id ( ) , new java.util.ArrayList < org.ovirt.engine.core.common.businessentities.VM > ( java.util.Arrays.asList ( new org.ovirt.engine.core.common.businessentities.VM [ ] { getVm ( ) } ) ) ) ; }
public java.lang.String renderNullSafe ( org.ovirt.engine.core.common.businessentities.VDS vds ) { return vds.getName ( ) ; }
public void updateNetConfigDirty ( org.ovirt.engine.core.compat.Guid id , java.lang.Boolean netConfigDirty ) { org.ovirt.engine.core.common.businessentities.VdsDynamic entity = get ( id ) ; entity.setNetConfigDirty ( netConfigDirty ) ; update ( entity ) ; }
public void externalNetworkVlanInvalid ( ) { org.mockito.Mockito.when ( network.getVlanId ( ) ) . thenReturn ( org.ovirt.engine.core.utils.RandomUtils.instance ( ) . nextInt ( ) ) ; org.junit.Assert.assertThat ( validator.externalNetworkVlanValid ( ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( VdcBllMessages.ACTION_TYPE_FAILED_EXTERNAL_NETWORK_WITH_VLAN_MUST_BE_LABELED ) ) ; }
public void testValidateValid ( ) { final org.ovirt.engine.core.bll.ValidationResult actual = underTest.validate ( mockVM ) ; org.junit.Assert.assertThat ( actual , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.isValid ( ) ) ; }
public static java.lang.String getConstraint ( javax.ws.rs.core.UriInfo uriInfo , java.lang.String defaultQuery , java.lang.Class < ? > clz ) { return org.ovirt.engine.api.common.util.QueryHelper.getConstraint ( uriInfo , defaultQuery , clz , true ) ; }
public void validateNonExistingJobFails ( ) { command.getParameters ( ) . setParentId ( org.ovirt.engine.core.bll.AddExternalStepCommandTest.nonExistingJobId ) ; org.junit.Assert.assertTrue ( ( ! ( command.validate ( ) ) ) ) ; }
protected org.ovirt.engine.core.bll.provider.storage.OpenStackImageProviderProxy getProviderProxy ( ) { if ( ( providerProxy ) == null ) { providerProxy = org.ovirt.engine.core.bll.provider.storage.OpenStackImageProviderProxy.getFromStorageDomainId ( getParameters ( ) . getSourceStorageDomainId ( ) ) ; } return providerProxy ; }
public void endWithFailure ( ) { super . endWithFailure ( ) ; if ( getEnclosingCommand ( ) . getReturnValue ( ) . getSucceeded ( ) ) { getEnclosingCommand ( ) . getParameters ( ) . setExecutionIndex ( 0 ) ; } }
public void testGetFilteredWithPermissionsNoPermissionsAndNoFilter ( ) { org.ovirt.engine.core.common.businessentities.VmPool result = dao.get ( existingVmPool.getvm_pool_id ( ) , org.ovirt.engine.core.dao.UNPRIVILEGED_USER_ID , false ) ; assertGetResult ( result ) ; }
public void hideLabel ( ) { getLabelElement ( ) . addClassName ( style.labelHidden ( ) ) ; }
public boolean isAutoSuspend ( ) { return this . vmStatic.getis_auto_suspend ( ) ; }
public java.lang.String getValue ( org.ovirt.engine.ui.uicommonweb.models.EntityModel object ) { org.ovirt.engine.core.common.businessentities.DiskImage diskImage = ( ( org.ovirt.engine.core.common.businessentities.DiskImage ) ( ( ( org.ovirt.engine.ui.uicommonweb.models.vms.DiskModel ) ( object.getEntity ( ) ) ) . getDisk ( ) ) ) ; return diskImage.getId ( ) . toString ( ) ; }
protected void setActionMessageParameters ( ) { switch ( getParameters ( ) . getAction ( ) ) { case START : addCanDoActionMessage ( VdcBllMessages.VAR__ACTION__START ) ; break ; default : break ; } addCanDoActionMessage ( VdcBllMessages.VAR__TYPE__GLUSTER_BRICK ) ; }
public javax.ws.rs.core.Response remove ( ) { get ( ) ; org.ovirt.engine.core.common.action.IdParameters prms = new org.ovirt.engine.core.common.action.IdParameters ( asGuid ( id ) ) ; return performAction ( VdcActionType.RemoveQuota , prms ) ; }
public void testGetAncestorForSon ( ) { org.ovirt.engine.core.common.businessentities.DiskImage result = dao.getAncestor ( existingEntity.getImageId ( ) ) ; org.junit.Assert.assertNotNull ( result ) ; org.junit.Assert.assertEquals ( org.ovirt.engine.core.dao.DiskImageDAOTest.ANCESTOR_IMAGE_ID , result.getImageId ( ) ) ; }
private org.ovirt.engine.core.common.businessentities.storage.DiskImage getDiskImage ( ) { return ( ( org.ovirt.engine.core.common.businessentities.storage.DiskImage ) ( org.ovirt.engine.core.bll.storage.lsm.CreateImagePlaceholderCommand.getDiskDao ( ) . get ( org.ovirt.engine.core.bll.storage.lsm.CreateImagePlaceholderCommand.getParameters ( ) . getImageGroup ( ) ) ) ) ; }
org.ovirt.engine.core.vdsbroker.gluster.GlusterVolumeGeoRepStatusForXmlRpc glusterVolumeGeoRepStatus ( java.lang.String volumeName ) ;
public void testValidateBondModeForNonVmNetwork ( ) { validateBondMode ( false ) ; }
public void eventRaised ( org.ovirt.engine.ui.uicompat.Event ev , java.lang.Object sender , org.ovirt.engine.ui.uicompat.EventArgs args ) { updateBootSequenceItems ( ) ; bootSequenceBox.setSelectedIndex ( bootSequenceModel.getSelectedItemIndex ( ) ) ; }
protected org.ovirt.engine.core.common.businessentities.storage_domains createSourceDomain ( ) { org.ovirt.engine.core.common.businessentities.storage_domains sd = new org.ovirt.engine.core.common.businessentities.storage_domains ( ) ; sd.setstorage_domain_type ( StorageDomainType.ImportExport ) ; sd.setstatus ( StorageDomainStatus.Active ) ; return sd ; }
protected org.ovirt.engine.core.common.businessentities.Tags getRootTag ( ) { return getEntity ( org.ovirt.engine.core.common.businessentities.Tags.class , VdcQueryType.GetRootTag , new org.ovirt.engine.core.common.queries.VdcQueryParametersBase ( ) , "root" ) ; }
private void verifyDataCenterNetworks ( java.util.List < org.ovirt.engine.core.common.businessentities.network.Network > result ) { org.ovirt.engine.core.dao.NetworkDAOTest.assertGetAllForClusterResult ( result ) ; for ( org.ovirt.engine.core.common.businessentities.network.Network net : result ) { org.junit.Assert.assertEquals ( datacenter , net.getstorage_pool_id ( ) ) ; } }
public void eventRaised ( org.ovirt.engine.core.compat.Event ev , java.lang.Object sender , org.ovirt.engine.core.compat.EventArgs args ) { if ( args instanceof org.ovirt.engine.core.compat.PropertyChangedEventArgs ) { updateMessages ( object ) ; } }
public javax.ws.rs.core.Response remove ( ) { get ( ) ; return performAction ( VdcActionType.RemoveNetwork , new org.ovirt.engine.core.common.action.RemoveNetworkParameters ( guid ) ) ; }
protected org.ovirt.engine.api.model.CreationStatus awaitCompletion ( org.ovirt.engine.core.common.action.VdcReturnValueBase result ) { return awaitCompletion ( result , org.ovirt.engine.api.restapi.resource.AbstractBackendResource.PollingType.VDSM_TASKS ) ; }
private boolean oldAndNewNetworkIsNotExternal ( ) { return ( ( getOldNetwork ( ) . getProvidedBy ( ) ) == null ) && ( ( org.ovirt.engine.core.bll.network.dc.UpdateNetworkCommand.getNetwork ( ) . getProvidedBy ( ) ) == null ) ; }
public void nonVmNetworkWhenSupported ( ) throws java.lang.Exception { vmNetworkSetupTest ( org.ovirt.engine.core.bll.validator.ValidationResultMatchers.isValid ( ) , false , true ) ; }
public void testGetWithInvalidId ( ) { org.ovirt.engine.core.common.businessentities.tags result = dao.get ( org.ovirt.engine.core.compat.Guid.NewGuid ( ) ) ; org.junit.Assert.assertNull ( result ) ; }
public void testGetManagedInterfaceForVdsFilteredForPriviligedUser ( ) { org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface result = dao.getManagedInterfaceForVds ( org.ovirt.engine.core.dao.network.InterfaceDaoTest.VDS_ID , org.ovirt.engine.core.dao.network.PRIVILEGED_USER_ID , true ) ; org.ovirt.engine.core.dao.network.InterfaceDaoTest.assertCorrectGetManagedInterfaceForVdsResult ( result ) ; }
public void setStyle ( final org.ovirt.engine.ui.webadmin.section.main.view.popup.host.panels.NetworkPanelsStyle style ) { this . style = style ; setSpacing ( 10 ) ; animatedPanel.getElement ( ) . addClassName ( style.unassignedNetworksPanel ( ) ) ; }
public void shouldFailWhenVmNull ( ) { org.ovirt.engine.core.common.console.ConsoleOptions options = new org.ovirt.engine.core.common.console.ConsoleOptions ( org.ovirt.engine.core.common.businessentities.GraphicsType.SPICE ) ; org.mockito.Mockito.when ( getQueryParameters ( ) . getOptions ( ) ) . thenReturn ( options ) ; org.junit.Assert.assertFalse ( getQuery ( ) . validateInputs ( ) ) ; }
public void biggerThanOrEquals ( ) { org.junit.Assert.assertFalse ( Version.v3_6.greaterOrEquals ( Version.v4_0 ) ) ; org.junit.Assert.assertTrue ( Version.v4_0.greaterOrEquals ( Version.v3_6 ) ) ; org.junit.Assert.assertTrue ( Version.v4_0.greaterOrEquals ( new org.ovirt.engine.core.compat.Version ( "3.6" ) ) ) ; }
protected void executeCommand ( ) { org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getBookmarkDao ( ) . update ( org.ovirt.engine.core.bll.UpdateBookmarkCommand.getBookmark ( ) ) ; org.ovirt.engine.core.bll.UpdateBookmarkCommand.setSucceeded ( true ) ; }
public static void addPermissionsOnVnicProfile ( org.ovirt.engine.core.compat.Guid userId , org.ovirt.engine.core.compat.Guid vnicProfileId , boolean publicUse ) { org.ovirt.engine.core.bll.network.cluster.NetworkHelper.addPermission ( userId , vnicProfileId , PredefinedRoles.NETWORK_ADMIN ) ; if ( publicUse ) { org.ovirt.engine.core.bll.network.cluster.NetworkHelper.addPermission ( MultiLevelAdministrationHandler.EVERYONE_OBJECT_ID , vnicProfileId , PredefinedRoles.VNIC_PROFILE_USER ) ; } }
public void ovfUpdateTimer ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.StoragePool > storagePools = getStoragePoolDao ( ) . getAllByStatus ( StoragePoolStatus.Up ) ; updateOvfData ( storagePools ) ; }
private void guestAgentIsUpOrBalloonDeflated ( org.ovirt.engine.core.compat.Guid vmId ) { org.ovirt.engine.core.vdsbroker.VdsUpdateRunTimeInfo.vmsWithUncontrolledBalloon.remove ( vmId ) ; }
public void getUsbPolicyOnUpdateCurrentlyLegacyGotDisabledLegacyPolicyUsb ( ) { org.ovirt.engine.api.model.Usb usb = new org.ovirt.engine.api.model.Usb ( ) ; usb.setEnabled ( false ) ; usb.setType ( "legacy" ) ; assertEquals ( org.ovirt.engine.api.restapi.types.VmMapper.getUsbPolicyOnUpdate ( usb , UsbPolicy.ENABLED_LEGACY , null ) , UsbPolicy.DISABLED ) ; }
private static org.ovirt.engine.core.common.businessentities.StoragePool createHigherVersionStoragePool ( ) { org.ovirt.engine.core.common.businessentities.StoragePool pool = org.ovirt.engine.core.bll.storage.UpdateStoragePoolCommandTest.createBasicPool ( ) ; pool.setIsLocal ( true ) ; pool.setcompatibility_version ( org.ovirt.engine.core.bll.storage.UpdateStoragePoolCommandTest.VERSION_1_2 ) ; return pool ; }
public java.lang.String getValue ( org.ovirt.engine.ui.uicommonweb.models.EntityModel object ) { org.ovirt.engine.core.common.businessentities.LunDisk disk = ( ( org.ovirt.engine.core.common.businessentities.LunDisk ) ( ( ( org.ovirt.engine.ui.uicommonweb.models.vms.DiskModel ) ( object.getEntity ( ) ) ) . getDisk ( ) ) ) ; return disk.getLun ( ) . getLUN_id ( ) ; }
public static void RemoveAllVdsAlerts ( org.ovirt.engine.core.compat.Guid vdsId , boolean removeConfigAlerts ) { org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getAuditLogDao ( ) . removeAllForVds ( vdsId , removeConfigAlerts ) ; }
public void testGetAllInterfacesForVdsWithPermissionsDisabledForUnpriviligedUser ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface > result = dao.getAllInterfacesForVds ( org.ovirt.engine.core.dao.network.InterfaceDaoTest.VDS_ID , org.ovirt.engine.core.dao.network.UNPRIVILEGED_USER_ID , false ) ; assertGetAllForVdsCorrectResult ( result ) ; }
protected static void verifyHostDevices ( java.util.List < org.ovirt.engine.api.model.HostDevice > devices ) { org.junit.Assert.assertEquals ( 1 , devices.size ( ) ) ; org.ovirt.engine.api.restapi.resource.AbstractBackendHostDevicesResourceTest.verifyHostDevice ( devices.get ( 0 ) ) ; }
public void edit ( org.ovirt.engine.ui.uicommonweb.models.vms.SnapshotModel object ) { org.ovirt.engine.ui.common.widget.uicommon.popup.vm.VmSnapshotCreatePopupWidget.Driver.driver.edit ( object ) ; }
private void closeSshConnection ( org.ovirt.engine.core.bll.utils.EngineSSHClient sshClient ) { if ( sshClient != null ) { try { sshClient.disconnect ( ) ; } catch ( java.lang.Exception ex ) { log.error ( "Error disconnecting SSH connection" , ex ) ; } } }
private java.util.Set < org.ovirt.engine.ui.uicommonweb.models.vms.register.VnicProfileMappingEntity > getClusterVnicProfileMappingEntities ( org.ovirt.engine.core.common.businessentities.Cluster cluster ) { final java.util.Set < org.ovirt.engine.ui.uicommonweb.models.vms.register.VnicProfileMappingEntity > result = externalVnicProfilesPerTargetCluster.get ( cluster ) ; if ( result == null ) { return new java.util.HashSet < > ( ) ; } else { return result ; } }
protected void executeQueryCommand ( ) { getQueryReturnValue ( ) . setReturnValue ( getAffinityGroupDao ( ) . get ( getParameters ( ) . getId ( ) ) ) ; }
public static org.ovirt.engine.core.common.businessentities.VmDevice addSmartcardDevice ( org.ovirt.engine.core.compat.Guid vmId ) { return org.ovirt.engine.core.bll.utils.VmDeviceUtils.addManagedDevice ( new org.ovirt.engine.core.common.businessentities.VmDeviceId ( org.ovirt.engine.core.compat.Guid.newGuid ( ) , vmId ) , VmDeviceGeneralType.SMARTCARD , VmDeviceType.SMARTCARD , org.ovirt.engine.core.bll.utils.VmDeviceUtils.getSmartcardDeviceSpecParams ( ) , true , false ) ; }
private java.util.Map < java.lang.String , java.lang.Object > nextArgs ( org.ovirt.engine.api.extensions.ExtMap context , boolean showHelp ) { java.util.Map < java.lang.String , java.lang.String > contextSubstitutions = new java.util.HashMap < > ( ) ; contextSubstitutions.put ( "@ENGINE_ETC@" , java.lang.System.getProperty ( "org.ovirt.engine.aaa.jdbc.engineEtc" ) ) ; contextSubstitutions.put ( "@PROGRAM_NAME@" , java.lang.System.getProperty ( "org.ovirt.engine.aaa.jdbc.programName" ) ) ; contextSubstitutions.put ( "@MODULE_LIST@" , ( ( org.apache.commons.lang.StringUtils.join ( this . getSubModules ( ) , "\n " ) ) + "\n help" ) ) ; java.util.Map < java.lang.String , java.lang.Object > parsed ; org.ovirt.engine.extension.aaa.jdbc.binding.cli.parser.ArgumentsParser argumentsParser = new org.ovirt.engine.extension.aaa.jdbc.binding.cli.parser.ArgumentsParser ( org.ovirt.engine.extension.aaa.jdbc.binding.cli.Cli.class . getResourceAsStream ( "arguments.properties" ) , this . getName ( ) ) ; argumentsParser.getSubstitutions ( ) . putAll ( contextSubstitutions ) ; @ java.lang.SuppressWarnings ( value = "unchecked" ) java.util.List < java.lang.String > tail = context.get ( org.ovirt.engine.extension.aaa.jdbc.binding.cli.Cli.ContextKeys.TAIL , java.util.List.class ) ; argumentsParser.parse ( tail ) ; parsed = argumentsParser.getParsedArgs ( ) ; java.util.List < java.lang.Throwable > errors = argumentsParser.getErrors ( ) ; if ( ( errors.size ( ) ) > 0 ) { for ( java.lang.Throwable thr : errors ) { context.get ( org.ovirt.engine.extension.aaa.jdbc.binding.cli.Cli.ContextKeys.THROWABLES , java.util.List.class ) . add ( thr ) ; context.get ( org.ovirt.engine.extension.aaa.jdbc.binding.cli.Cli.ContextKeys.ERR_MESSAGES , java.util.List.class ) . add ( thr.getMessage ( ) ) ; } context.mput ( org.ovirt.engine.extension.aaa.jdbc.binding.cli.Cli.ContextKeys.EXIT_STATUS , org.ovirt.engine.extension.aaa.jdbc.binding.cli.Cli.ARGUMENT_PARSING_ERROR ) ; } if ( showHelp || ( ! ( context.containsKey ( org.ovirt.engine.extension.aaa.jdbc.binding.cli.Cli.ContextKeys.EXIT_STATUS ) ) ) ) { if ( ( showHelp || ( ( java.lang.Boolean ) ( parsed.get ( "help" ) ) ) ) || ( ( ( tail.size ( ) ) > 0 ) && ( tail.get ( 0 ) . equals ( "help" ) ) ) ) { org.ovirt.engine.extension.aaa.jdbc.binding.cli.Cli.addContextMessage ( context , false , argumentsParser.getUsage ( ) ) ; context.putIfAbsent ( org.ovirt.engine.extension.aaa.jdbc.binding.cli.Cli.ContextKeys.EXIT_STATUS , org.ovirt.engine.extension.aaa.jdbc.binding.cli.Cli.SUCCESS ) ; } } return parsed ; }
public void OnTimer ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.LdapGroup > groups = org.ovirt.engine.core.bll.DbUserCacheManager.updateGroups ( ) ; refreshAllUserData ( groups ) ; }
protected java.util.List < org.ovirt.engine.core.common.businessentities.VM > getAllVMsForStorageDomain ( org.ovirt.engine.core.compat.Guid domainId ) { return org.ovirt.engine.core.bll.GetVmsByStorageDomainQuery.getDbFacade ( ) . getVmDao ( ) . getAllForStorageDomain ( domainId ) ; }
public void setversion_name ( java.lang.String value ) { this . versionName = value ; }
public void setIsQuotaDefault ( boolean isQuotaDefault ) { this . mVmStatic.setIsQuotaDefault ( isQuotaDefault ) ; }
public void eventRaised ( org.ovirt.engine.ui.uicompat.Event < ? extends org.ovirt.engine.ui.uicompat.EventArgs > ev , java.lang.Object sender , org.ovirt.engine.ui.uicompat.EventArgs args ) { getCdImage ( ) . setIsChangable ( getCdAttached ( ) . getEntity ( ) ) ; }
public java.lang.Boolean getValue ( IVdcQueryable object ) { return getSelectionModel ( ) . isSelected ( object ) ; }
protected java.util.Map < java.lang.String , org.ovirt.engine.core.common.utils.Pair < java.lang.String , java.lang.String > > getSharedLocks ( ) { return java.util.Collections.singletonMap ( getVmId ( ) . toString ( ) , org.ovirt.engine.core.bll.LockMessagesMatchUtil.makeLockingPair ( LockingGroup.VM , VdcBllMessages.ACTION_TYPE_FAILED_VM_IS_BEING_UPDATED ) ) ; }
public static java.lang.Integer getMaxMemorySizeInMb ( int osId , org.ovirt.engine.core.compat.Version clusterVersion ) { return org.ovirt.engine.core.bll.validator.VmValidationUtils.getOsRepository ( ) . getMaximumRam ( osId , clusterVersion ) ; }
public org.ovirt.engine.api.v3.servers.V3ClusterNetworkServer getNetworkResource ( @ javax.ws.rs.PathParam ( value = "id" ) java.lang.String id ) { return new org.ovirt.engine.api.v3.servers.V3ClusterNetworkServer ( getDelegate ( ) . getNetworkResource ( id ) ) ; }
public void testExistingPassDiscardFunctionalityIsPreservedSdHasNoDiscardFunctionality ( ) { setSdDiscardSupport ( false , true ) ; org.junit.Assert.assertTrue ( discardHelper.isExistingPassDiscardFunctionalityPreserved ( new java.util.LinkedList < > ( ) , storageDomain ) ) ; }
public org.ovirt.engine.core.common.businessentities.VDS getValue ( S object ) { if ( object instanceof org.ovirt.engine.core.common.businessentities.VDS ) { return ( ( org.ovirt.engine.core.common.businessentities.VDS ) ( object ) ) ; } return null ; }
boolean hotsetAllowed ( ) default false ;
public void stringToVCpupinIntervalsList ( ) { org.ovirt.engine.api.model.VcpuPin pin = org.ovirt.engine.api.restapi.types.VmMapper.stringToVCpupin ( "1#1-4,6" ) ; org.junit.Assert.assertEquals ( 1 , ( ( int ) ( pin.getVcpu ( ) ) ) ) ; org.junit.Assert.assertEquals ( "1-4,6" , pin.getCpuSet ( ) ) ; }
public void checkSync ( ) { initSyncStatus ( mockNetworkAttachment , true ) ; org.junit.Assert.assertFalse ( underTest.eval ( mockNetworkAttachment ) ) ; }
public com.google.gwt.safehtml.shared.SafeHtml getTooltip ( org.ovirt.engine.ui.uicommonweb.models.EntityModel object ) { return null ; }
public boolean match ( java.util.Map.Entry < java.lang.String , java.lang.String > source ) { return org.ovirt.engine.core.compat.StringHelper.stringsEqual ( source.getKey ( ) , timeZone ) ; }
public boolean getRefreshStatistics ( ) { return ( refreshIteration ) == ( org.ovirt.engine.core.vdsbroker.VdsManager.NUMBER_HOST_REFRESHES_BEFORE_SAVE ) ; }
public void getIsUsbEnabledDisabled ( ) { org.ovirt.engine.core.common.businessentities.UsbPolicy usbPolicy = org.ovirt.engine.core.common.businessentities.UsbPolicy.DISABLED ; org.junit.Assert.assertFalse ( org.ovirt.engine.api.restapi.utils.UsbMapperUtils.getIsUsbEnabled ( usbPolicy ) ) ; }
private boolean deviceExists ( org.ovirt.engine.core.common.businessentities.VmDeviceGeneralType generalType ) { return ! ( org.ovirt.engine.core.bll.UpdateVmVersionCommand.getVmDeviceDao ( ) . getVmDeviceByVmIdAndType ( org.ovirt.engine.core.bll.UpdateVmVersionCommand.getVmTemplateId ( ) , generalType ) . isEmpty ( ) ) ; }
public void testUrlWithoutFilter ( ) { org.ovirt.engine.core.bll.host.provider.foreman.FilteredErrataRelativeUrlBuilder underTest = createFilteredErrataRelativeUrlBuilder ( null ) ; org.junit.Assert.assertEquals ( "/katello/api/v2/systems/xxx/errata" , underTest.build ( ) ) ; }
public void setError ( java.lang.String msg ) { getInfoMessage ( ) . setIsValid ( false ) ; getInfoMessage ( ) . setEntity ( msg ) ; }
protected void OnPropertyChanged ( org.ovirt.engine.ui.uicompat.PropertyChangedEventArgs e ) { }
public java.lang.Void runInTransaction ( ) { getVmStaticDAO ( ) . incrementDbGeneration ( getVm ( ) . getId ( ) ) ; getVmDeviceDao ( ) . updateAll ( "UpdateVmDeviceForHotPlugDisk" , devices ) ; org.ovirt.engine.core.bll.VmHandler.updateDisksFromDb ( getVm ( ) ) ; return null ; }
static com.gwtplatform.mvp.client.TabData getTabData ( org.ovirt.engine.ui.webadmin.gin.ClientGinjector ginjector ) { return new org.ovirt.engine.ui.common.widget.tab.ModelBoundTabData ( ginjector.getApplicationConstants ( ) . quotaClusterSubTabLabel ( ) , 0 , ginjector.getSubTabQuotaClusterModelProvider ( ) ) ; }
private org.ovirt.engine.core.compat.Guid getPoolSpmId ( ) { if ( ( cachedSpmId ) == null ) { cachedSpmId = org.ovirt.engine.core.bll.ImageSpmCommand.getStoragePool ( ) . getspm_vds_id ( ) ; } return cachedSpmId ; }
void dispatchEvent ( org.ovirt.engine.core.notifier.filter.Event event , java.lang.String address ) ;
public void onRollback ( ) { log.debug ( "Rollback occurred, releasing macs {}." , super . macs ) ; releaseMacs ( ) ; }
public void executed ( org.ovirt.engine.ui.uicompat.FrontendActionAsyncResult result ) { stopProgress ( result.getState ( ) ) ; cancel ( ) ; }
public void testExtractIpv6GatewayEmptyString ( ) { org.junit.Assert.assertThat ( vdsBrokerObjectsBuilder.extractIpv6Gateway ( com.google.common.collect.ImmutableMap.of ( VdsProperties.IPV6_GLOBAL_GATEWAY , "" ) ) , org.hamcrest.Matchers.nullValue ( ) ) ; }
public void onClick ( com.google.gwt.event.dom.client.ClickEvent event ) { model.setIsEveryoneSelected ( false ) ; model.setIsMyGroupsSelected ( false ) ; getView ( ) . changeStateOfElementsWhenAccessIsForEveryoneOrMyGroups ( false , false ) ; }
public java.lang.String toString ( ) { return java.lang.String.format ( "%s, status=%s, nonOperationalReason=%s" , super . toString ( ) , getStatus ( ) , getNonOperationalReason ( ) ) ; }
public void testValidateCompletion ( ) { org.junit.Assert.assertTrue ( "TRUE" , comp.validateCompletion ( "TRUE" ) ) ; org.junit.Assert.assertTrue ( "TR" , comp.validateCompletion ( "TR" ) ) ; org.junit.Assert.assertFalse ( "JarJar" , comp.validateCompletion ( "JarJar" ) ) ; }
public static void LoginAsync ( final java.lang.String userName , final java.lang.String password , final java.lang.String domain , final org.ovirt.engine.ui.frontend.AsyncQuery callback ) { org.ovirt.engine.ui.frontend.gwtservices.GenericApiGWTServiceAsync service = GenericApiGWTServiceAsync.Util.getInstance ( ) ; org.ovirt.engine.ui.frontend.Frontend.LoginAsync ( userName , password , domain , callback , service ) ; }
public void addOldPassword ( org.ovirt.engine.extension.aaa.jdbc.core.Schema.User.PasswordHistory passwordHistory , int passwordHistoryLimit ) { oldPasswords.add ( passwordHistory ) ; if ( ( oldPasswords.size ( ) ) > passwordHistoryLimit ) { oldPasswords.remove ( oldPasswords.last ( ) ) ; } }
public java.util.List < org.ovirt.engine.core.common.action.VdcActionParametersBase > getImagesParameters ( ) { return imagesParameters ; }
protected void onLoad ( ) { expandTree ( getDataDisplayWidget ( ) . getRootTreeNode ( ) , org.ovirt.engine.ui.webadmin.widget.tree.SystemTree.ITEM_LEVEL ) ; }
java.util.List < org.ovirt.engine.core.common.action.PersistentHostSetupNetworksParameters > transform ( java.util.Collection < org.ovirt.engine.core.common.businessentities.network.NetworkCluster > attachments , java.util.Collection < org.ovirt.engine.core.common.businessentities.network.NetworkCluster > detachments ) ;
public void removeAllCommandsInHierarchy ( final org.ovirt.engine.core.compat.Guid commandId ) { new java.util.ArrayList ( getChildCommandIds ( commandId ) ) . forEach ( this :: removeAllCommandsInHierarchy ) ; removeCommand ( commandId ) ; }
public void testIsInternalExecutionTrue ( ) { org.ovirt.engine.core.bll.QueriesCommandBaseTest.ThereIsNoSuchQuery query = new org.ovirt.engine.core.bll.QueriesCommandBaseTest.ThereIsNoSuchQuery ( ) ; query.setInternalExecution ( true ) ; org.junit.Assert.assertTrue ( "Query should be marked for internal execution" , query.isInternalExecution ( ) ) ; }
public void testJsonEmptyDiskDescription ( ) throws java.io.IOException { disk.setDiskAlias ( "DiskAlias" ) ; disk.setDiskDescription ( "" ) ; org.ovirt.engine.core.bll.MetadataDiskDescriptionHandlerTest.assertDiskDescriptionMap ( disk ) ; }
private static void updateDisksStorageType ( org.ovirt.engine.core.common.businessentities.StorageType storageType , org.ovirt.engine.core.common.businessentities.DiskImage disk ) { org.ovirt.engine.core.common.businessentities.VolumeType volumeType = ( storageType.isFileDomain ( ) ) ? org.ovirt.engine.core.common.businessentities.VolumeType.Sparse : org.ovirt.engine.core.common.businessentities.VolumeType.Preallocated ; disk.setVolumeType ( volumeType ) ; }
public void lowerVersionMgmtNetworkNonSupportedFeatures ( ) { storagePoolWithLowerVersion ( ) ; addNonDefaultClusterToPool ( ) ; addManagementNetworkToPool ( ) ; setupNetworkValidator ( false ) ; canDoActionFailed ( VdcBllMessages.ACTION_TYPE_FAILED_CANNOT_DECREASE_COMPATIBILITY_VERSION ) ; }
private void hidePoolSpecificFields ( ) { numOfVmsEditor.setVisible ( false ) ; newPoolEditVmsPanel.setVisible ( false ) ; editPoolEditVmsPanel.setVisible ( false ) ; editPoolIncraseNumOfVmsPanel.setVisible ( false ) ; }
protected org.ovirt.engine.core.compat.Guid getTemplateId ( org.ovirt.engine.api.model.VM vm ) { return vm.getTemplate ( ) . isSetId ( ) ? asGuid ( vm.getTemplate ( ) . getId ( ) ) : getTemplateByName ( vm ) . getId ( ) ; }
public void onSuccess ( java.lang.Object target , java.lang.Object returnValue ) { org.ovirt.engine.core.common.businessentities.VDSGroup cluster = ( ( org.ovirt.engine.core.common.businessentities.VDSGroup ) ( returnValue ) ) ; if ( cluster != null ) { maintenance ( cluster.isMaintenanceReasonRequired ( ) ) ; } }
protected org.ovirt.engine.core.bll.network.macpool.MacPool getMacPool ( ) { return org.ovirt.engine.core.di.Injector.get ( org.ovirt.engine.core.bll.network.macpool.MacPoolPerDc.class ) . poolForDataCenter ( params.getStoragePoolId ( ) ) ; }
private boolean isNetworkChanged ( org.ovirt.engine.core.common.businessentities.VmNetworkInterface iface ) { return ! ( org.ovirt.engine.core.bll.network.template.UpdateVmTemplateInterfaceCommand.getNetworkName ( ) . equals ( iface.getNetworkName ( ) ) ) ; }
public org.ovirt.engine.api.resource.ActionResource getActionResource ( java.lang.String action , java.lang.String oid ) { return null ; }
public void getFreeVfNoVfs ( ) { freeVfCommon ( 0 , 0 , 0 , 0 , 0 ) ; org.junit.Assert.assertNull ( networkDeviceHelper.getFreeVf ( nic , null ) ) ; }
public void networkNameTakenByDifferentNetwork ( ) throws java.lang.Exception { networkNameAvailableTest ( org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( EngineMessage.ACTION_TYPE_FAILED_NETWORK_NAME_IN_USE ) , getSingletonNamedNetworkList ( DEFAULT_NETWORK_NAME , OTHER_GUID ) ) ; }
javax.ws.rs.core.Response remove ( org.ovirt.engine.api.model.Action action ) ;
public void clearEnvironment ( ) { org.ovirt.engine.core.utils.ThreadLocalParamsContainer.clean ( ) ; org.ovirt.engine.core.bll.session.SessionDataContainer.getInstance ( ) . removeSession ( ) ; org.ovirt.engine.core.bll.session.SessionDataContainer.getInstance ( ) . removeSession ( session ) ; org.ovirt.engine.core.utils.ThreadLocalParamsContainer.setHttpSessionId ( session ) ; }
public org.ovirt.engine.core.bll.tasks.interfaces.CommandCallBack getCallBack ( ) { return new org.ovirt.engine.core.bll.MergeStatusCommandCallback ( ) ; }
public org.ovirt.engine.core.bll.ValidationResult isNotLocalfsWithDefaultCluster ( ) { if ( ( ( storagePool.getstorage_pool_type ( ) ) == ( org.ovirt.engine.core.common.businessentities.StorageType.LOCALFS ) ) && ( containsDefaultCluster ( ) ) ) { return new org.ovirt.engine.core.bll.ValidationResult ( org.ovirt.engine.core.common.errors.VdcBllMessages.ACTION_TYPE_FAILED_STORAGE_POOL_WITH_DEFAULT_VDS_GROUP_CANNOT_BE_LOCALFS ) ; } return org.ovirt.engine.core.bll.ValidationResult.VALID ; }
public void canDoActionSucceeds ( ) { cmd = org.mockito.Mockito.spy ( createTestCommand ( volumeId2 , getBricks ( volumeId2 , 1 ) , 2 , 0 , false ) ) ; prepareMocks ( cmd ) ; org.junit.Assert.assertTrue ( cmd.canDoAction ( ) ) ; }
protected void executeCommand ( ) { org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getTagDAO ( ) . updateDefaultDisplayForVmTag ( org.ovirt.engine.core.bll.UpdateTagsVmMapDefaultDisplayTypeCommand.getParameters ( ) . getTagsVmMap ( ) ) ; org.ovirt.engine.core.bll.UpdateTagsVmMapDefaultDisplayTypeCommand.setSucceeded ( true ) ; }
public void runMultipleAction ( final org.ovirt.engine.core.common.action.VdcActionType actionType , final java.util.List < org.ovirt.engine.core.common.action.VdcActionParametersBase > parameters , final boolean isRunOnlyIfAllCanDoPass , final org.ovirt.engine.ui.uicompat.IFrontendMultipleActionAsyncCallback callback , final java.lang.Object state ) { runMultipleAction ( actionType , parameters , isRunOnlyIfAllCanDoPass , callback , state , true , false ) ; }
protected void onReveal ( ) { super . onReveal ( ) ; getModel ( ) . updateReportsAvailability ( ) ; }
private void setNetworkList ( org.ovirt.engine.ui.uicommonweb.models.ListModel networkList ) { this . networkList = networkList ; }
public void testSetupNetworksSyncsNetwork ( ) throws java.lang.Exception { setUpNetworkQueryExpectations ( 2 ) ; doTestSetupNetworksSyncsNetwork ( true , java.util.Collections.singletonList ( org.ovirt.engine.api.restapi.resource.BackendHostNicsResourceTest.NETWORK_NAME ) ) ; }
public void testExtractIpv6PrefixNull ( ) { org.junit.Assert.assertThat ( vdsBrokerObjectsBuilder.extractIpv6Prefix ( null ) , org.hamcrest.Matchers.nullValue ( ) ) ; }
public void setmax_vds_memory_over_commit ( int value ) { this . max_vds_memory_over_commitField = value ; }
private boolean isActionExternal ( org.ovirt.engine.core.common.action.VdcActionType actionType ) { return ( ( actionType == ( org.ovirt.engine.core.common.action.VdcActionType.EndExternalJob ) ) || ( actionType == ( org.ovirt.engine.core.common.action.VdcActionType.EndExternalStep ) ) ) || ( actionType == ( org.ovirt.engine.core.common.action.VdcActionType.ClearExternalJob ) ) ; }
public void checkIfJobHasTasks ( ) { org.junit.Assert.assertTrue ( "Job has step for VDSM task" , dao.checkIfJobHasTasks ( org.ovirt.engine.core.dao.JobDaoTest.EXISTING_JOB_ID ) ) ; }
public void OnSuccess ( java.lang.Object target , java.lang.Object returnValue ) { org.ovirt.engine.ui.uicommonweb.models.hosts.AsyncIteratorCallback callback = ( ( org.ovirt.engine.ui.uicommonweb.models.hosts.AsyncIteratorCallback ) ( target ) ) ; org.ovirt.engine.core.compat.Event notifyEvent = callback.getNotifyEvent ( ) ; notifyEvent.raise ( this , new org.ovirt.engine.ui.uicommonweb.models.hosts.ValueEventArgs ( returnValue ) ) ; }
public void validateFailureOnCopyingCinderDisk ( ) { initializeCommand ( ImageOperation.Copy , new org.ovirt.engine.core.common.businessentities.storage.CinderDisk ( ) ) ; org.ovirt.engine.core.bll.ValidateTestUtils.runAndAssertValidateFailure ( command , EngineMessage.ACTION_TYPE_FAILED_NOT_SUPPORTED_DISK_STORAGE_TYPE ) ; }
protected org.ovirt.engine.core.bll.provider.OpenstackImageProviderProxy getProviderProxy ( ) { if ( ( providerProxy ) == null ) { providerProxy = org.ovirt.engine.core.bll.provider.OpenstackImageProviderProxy.getFromStorageDomainId ( org.ovirt.engine.core.bll.ExportRepoImageCommand.getParameters ( ) . getDestinationDomainId ( ) ) ; } return providerProxy ; }
protected org.ovirt.engine.core.dao.gluster.GlusterBrickDao getGlusterBrickDao ( ) { return org.ovirt.engine.core.bll.RemoveVdsCommand.getDbFacade ( ) . getGlusterBrickDao ( ) ; }
private org.ovirt.engine.core.common.businessentities.VdsStatic getVdsStatic ( ) { org.ovirt.engine.core.common.businessentities.VdsStatic vds = new org.ovirt.engine.core.common.businessentities.VdsStatic ( ) ; vds.setVdsGroupId ( clusterId ) ; vds.setHostName ( serverName ) ; return vds ; }
public void init ( boolean security , boolean bugs , boolean enhancements ) { securityCheckbox.setValue ( security ) ; bugCheckbox.setValue ( bugs ) ; enhancementCheckbox.setValue ( enhancements ) ; }
public java.lang.String getDuration ( ) { return java.lang.String.valueOf ( ( ( ( ( new java.util.Date ( ) . getTime ( ) ) - ( org.ovirt.engine.core.bll.MigrateVmCommand.getParameters ( ) . getStartTime ( ) . getTime ( ) ) ) / 1000 ) % 60 ) ) ; }
public java.util.List < org.ovirt.engine.core.common.businessentities.VM > getVmsByIds ( java.util.List < org.ovirt.engine.core.compat.Guid > vmsIds ) { return getCallsHandler ( ) . executeReadList ( "GetVmsByIds" , org.ovirt.engine.core.dao.VmDaoImpl.VMRowMapper.instance , getCustomMapSqlParameterSource ( ) . addValue ( "vms_ids" , org.apache.commons.lang.StringUtils.join ( vmsIds , ',' ) ) ) ; }
private void unlockAllDiskSnapshots ( ) { for ( org.ovirt.engine.core.common.action.LiveMigrateDiskParameters parameters : enclosingCommand.getParameters ( ) . getParametersList ( ) ) { org.ovirt.engine.core.bll.ImagesHandler.updateAllDiskImageSnapshotsStatus ( parameters.getImageGroupID ( ) , ImageStatus.OK ) ; } }
public void clearEnvironment ( ) { org.ovirt.engine.core.utils.ThreadLocalParamsContainer.clean ( ) ; org.ovirt.engine.core.bll.session.SessionDataContainer.getInstance ( ) . removeSession ( ) ; org.ovirt.engine.core.bll.session.SessionDataContainer.getInstance ( ) . removeSession ( session ) ; }
public void testIsNetworkInSyncWhenStaticBootProtocolNetmaskEqual ( ) throws java.lang.Exception { initIpConfigurationBootProtocolNetmask ( org.ovirt.engine.core.utils.NetworkInSyncWithVdsNetworkInterfaceTest.BOOT_PROTOCOL , true ) ; org.junit.Assert.assertThat ( createTestedInstance ( ) . isNetworkInSync ( ) , org.hamcrest.CoreMatchers.is ( true ) ) ; }
public void addLabelStyleName ( java.lang.String styleName ) { getLabelElement ( ) . addClassName ( styleName ) ; }
public void Search ( ) { if ( ( getEntity ( ) ) != null ) { super . Search ( ) ; } }
private void assertGetResult ( org.ovirt.engine.core.common.businessentities.VmPool result ) { org.junit.Assert.assertNotNull ( result ) ; org.junit.Assert.assertEquals ( existingVmPool , result ) ; }
protected org.ovirt.engine.core.compat.Guid getPoolId ( ) { org.ovirt.engine.core.bll.UpdateVmPoolWithVmsCommand.getVmPoolDAO ( ) . update ( org.ovirt.engine.core.bll.UpdateVmPoolWithVmsCommand.getVmPool ( ) ) ; return org.ovirt.engine.core.bll.UpdateVmPoolWithVmsCommand.getVmPool ( ) . getVmPoolId ( ) ; }
private org.ovirt.engine.core.common.businessentities.storage.ImageTransfer updateEntity ( org.ovirt.engine.core.common.businessentities.storage.ImageTransferUpdates updates ) { return org.ovirt.engine.core.bll.storage.disk.image.UploadImageCommand.updateEntity ( updates , org.ovirt.engine.core.bll.storage.disk.image.UploadImageCommand.getCommandId ( ) ) ; }
public void testCanDoActionPoolInMaintenance ( ) { getStoragePool ( ) . setStatus ( StoragePoolStatus.Maintenance ) ; org.ovirt.engine.core.bll.CanDoActionTestUtils.runAndAssertCanDoActionFailure ( cmd , VdcBllMessages.ACTION_TYPE_FAILED_IMAGE_REPOSITORY_NOT_FOUND ) ; }
private org.ovirt.engine.api.model.Clusters listVirtOnly ( ) { if ( isFiltered ( ) ) { return mapVirtOnlyCollection ( getBackendCollection ( QueryType.GetAllClusters , new org.ovirt.engine.core.common.queries.VdcQueryParametersBase ( ) ) ) ; } else { return mapVirtOnlyCollection ( getBackendCollection ( SearchType.Cluster ) ) ; } }
public java.lang.String getValue ( org.ovirt.engine.core.common.businessentities.VM object ) { return object.getVmIp ( ) ; }
public java.util.List < org.ovirt.engine.core.common.businessentities.RoleGroupMap > getAllForRole ( org.ovirt.engine.core.compat.Guid id ) { org.springframework.jdbc.core.namedparam.MapSqlParameterSource parameterSource = getCustomMapSqlParameterSource ( ) . addValue ( "role_id" , id ) ; return getCallsHandler ( ) . executeReadList ( "Get_role_groups_By_role_id" , RoleGroupMapRowMapper.instance , parameterSource ) ; }
protected org.ovirt.engine.ui.uicommonweb.UICommand resolveCommand ( org.ovirt.engine.core.common.businessentities.AuditLog value ) { modelProvider.getModel ( ) . setSelectedItem ( value ) ; return modelProvider.getModel ( ) . getDismissCommand ( ) ; }
private org.ovirt.engine.core.common.businessentities.network.Network createNetwork ( java.lang.Integer vlanId ) { return new org.ovirt.engine.core.common.businessentities.network.Network ( "" , "" , org.ovirt.engine.core.compat.Guid.NewGuid ( ) , org.ovirt.engine.core.utils.RandomUtils.instance ( ) . nextString ( 10 ) , "" , "" , 0 , vlanId , false , 0 , true ) ; }
public java.lang.Object runInTransaction ( ) { invokeCallable ( callable ) ; return null ; }
public void addTabWidget ( com.google.gwt.user.client.ui.IsWidget tabWidget , int index ) { mainTabContainer.insert ( tabWidget , index ) ; }
void verifyProcessFieldReturns ( boolean expected ) { boolean processField = tested.processField ( field ) ; org.junit.Assert.assertThat ( processField , org.hamcrest.CoreMatchers.is ( org.hamcrest.CoreMatchers.equalTo ( expected ) ) ) ; }
private org.ovirt.engine.core.common.businessentities.VM mockVm ( ) { vm = new org.ovirt.engine.core.common.businessentities.VM ( ) ; vm.setId ( vmId ) ; vm.setName ( VM_NAME ) ; vm.setDiskMap ( new java.util.HashMap < org.ovirt.engine.core.compat.Guid , org.ovirt.engine.core.common.businessentities.storage.Disk > ( ) ) ; return vm ; }
public static void GetGlusterVolumeBrickDetails ( org.ovirt.engine.ui.frontend.AsyncQuery aQuery , org.ovirt.engine.core.compat.Guid clusterId , org.ovirt.engine.core.compat.Guid volumeId , org.ovirt.engine.core.compat.Guid brickId ) { org.ovirt.engine.core.common.queries.gluster.GlusterVolumeAdvancedDetailsParameters parameters = new org.ovirt.engine.core.common.queries.gluster.GlusterVolumeAdvancedDetailsParameters ( clusterId , volumeId , brickId , true ) ; org.ovirt.engine.ui.frontend.Frontend.RunQuery ( VdcQueryType.GetGlusterVolumeAdvancedDetails , parameters , aQuery ) ; }
public void testExistingDiscardAfterDeleteFunctionalityPreservedNoDiscardAfterDeleteFunctionality ( ) { storageDomain.setDiscardAfterDelete ( false ) ; org.junit.Assert.assertTrue ( discardHelper.isExistingDiscardAfterDeleteFunctionalityPreserved ( java.util.Arrays.asList ( createLunWithDiscardSupport ( 0L ) , createLunWithDiscardSupport ( 0L ) ) , storageDomain ) ) ; }
private void cancelTasks ( ) { org.ovirt.engine.core.bll.tasks.TaskManagerUtil.cancelTasks ( this ) ; }
private org.ovirt.engine.core.bll.ValidationResult networkNameNotUsed ( java.util.List < org.ovirt.engine.core.common.businessentities.network.Network > networks ) { org.ovirt.engine.core.common.businessentities.network.Network networkWithSameName = getOtherNetworkWithSameName ( networks ) ; return networkWithSameName != null ? new org.ovirt.engine.core.bll.ValidationResult ( org.ovirt.engine.core.dal.VdcBllMessages.NETWORK_IN_USE ) : org.ovirt.engine.core.bll.ValidationResult.VALID ; }
public void addTabWidget ( com.google.gwt.user.client.ui.Widget tabWidget , int index ) { if ( ( tabWidgetHandler ) != null ) { tabWidgetHandler.addTabWidget ( tabWidget , index ) ; } }
public java.lang.Boolean getksm_state ( ) { return this . ksm_state ; }
private java.util.List < org.ovirt.engine.core.common.businessentities.aaa.DbUser > searchDbUsers ( ) { return genericSearch ( org.ovirt.engine.core.bll.SearchQuery.getDbFacade ( ) . getDbUserDao ( ) , true ) ; }
public java.lang.Boolean getValue ( org.ovirt.engine.core.common.businessentities.VmDevice object ) { return object.getIsPlugged ( ) ; }
public void disable ( java.util.List < java.lang.String > disabilityHints ) { setEnabled ( false ) ; updateWidgetTitle ( getDisabilityTitle ( disabilityHints ) ) ; }
public void vnicProfileNull ( ) { validator = new org.ovirt.engine.core.bll.validator.VnicProfileValidator ( null ) ; org.junit.Assert.assertThat ( validator.vnicProfileIsSet ( ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( EngineMessage.ACTION_TYPE_FAILED_VNIC_PROFILE_NOT_EXISTS ) ) ; }
java.util.Map < java.lang.String , java.lang.Object > snapshot ( java.lang.String vmId , java.util.Map < java.lang.String , java.lang.String > [ ] snapParams ) ;
public boolean isLsmBetweenMixedStorageDomainsSupported ( org.ovirt.engine.core.compat.Version version ) { return ( ( java.lang.Boolean ) ( getConfigValuePreConverted ( ConfigurationValues.LiveStorageMigrationBetweenDifferentStorageTypes , version.toString ( ) ) ) ) ; }
public void updateGlusterServerHookChecksum ( org.ovirt.engine.core.compat.Guid hookId , org.ovirt.engine.core.compat.Guid hostId , java.lang.String checksum ) { getCallsHandler ( ) . executeModification ( "UpdateGlusterServerHookChecksum" , getCustomMapSqlParameterSource ( ) . addValue ( "hook_id" , hookId ) . addValue ( "host_id" , hostId ) . addValue ( "checksum" , checksum ) ) ; }
public static org.ovirt.engine.api.model.NfsVersion map ( org.ovirt.engine.api.model.NfsVersion version , org.ovirt.engine.api.model.NfsVersion outgoing ) { switch ( version ) { case V3 : return org.ovirt.engine.api.model.org.ovirt.engine.core.common.businessentities.NfsVersion ; case V4 : return org.ovirt.engine.api.model.org.ovirt.engine.core.common.businessentities.NfsVersion ; case V4_1 : return org.ovirt.engine.api.model.org.ovirt.engine.core.common.businessentities.NfsVersion ; case AUTO : return org.ovirt.engine.api.model.org.ovirt.engine.core.common.businessentities.NfsVersion ; default : return null ; } }
public void execute ( ) { final java.lang.String domainToken = "@" ; restApiSessionManager.acquireSession ( ( userName.contains ( domainToken ) ? userName : ( userName + domainToken ) + domain ) , password ) ; }
public java.lang.String toString ( ) { return org.ovirt.engine.core.common.utils.ToStringBuilder.forInstance ( this ) . append ( "nameServers" , getNameServers ( ) ) . build ( ) ; }
public void testGetDefaultManagementNetworkName ( ) { org.junit.Assert.assertEquals ( org.ovirt.engine.core.bll.network.cluster.ManagementNetworkUtilImplTest.TEST_NETWORK_NAME , underTest.getDefaultManagementNetworkName ( ) ) ; }
protected org.ovirt.engine.core.common.businessentities.storage.ImageTransfer updateEntityPhase ( org.ovirt.engine.core.common.businessentities.storage.ImageTransferPhase phase ) { org.ovirt.engine.core.common.businessentities.storage.ImageTransfer updates = new org.ovirt.engine.core.common.businessentities.storage.ImageTransfer ( org.ovirt.engine.core.bll.storage.disk.image.UploadImageCommand.getCommandId ( ) ) ; updates.setPhase ( phase ) ; return updateEntity ( updates ) ; }
public static org.ovirt.engine.core.common.businessentities.OpenstackNetworkPluginType getPluginTypeForDisplayString ( java.lang.String displayString ) { return org.ovirt.engine.ui.uicommonweb.models.providers.NeutronPluginTranslator.pluginForDisplay.get ( displayString ) ; }
public void validateSucceedsOnStoppedVolume ( ) { cmd = org.mockito.Mockito.spy ( new org.ovirt.engine.core.bll.gluster.StartGlusterVolumeProfileCommand ( new org.ovirt.engine.core.common.action.gluster.GlusterVolumeParameters ( org.ovirt.engine.core.bll.gluster.StartGlusterVolumeProfileCommandTest.STOPPED_VOLUME_ID ) , null ) ) ; prepareMocks ( cmd ) ; org.junit.Assert.assertTrue ( cmd.validate ( ) ) ; }
protected org.ovirt.engine.core.utils.linq.Predicate < org.ovirt.engine.core.common.businessentities.StorageDomain > getPredicate ( java.util.List < org.ovirt.engine.core.common.businessentities.storage.DiskImage > memoryDisks ) { return new org.ovirt.engine.core.utils.linq.Predicate < org.ovirt.engine.core.common.businessentities.StorageDomain > ( ) { @ java.lang.Override public boolean eval ( org.ovirt.engine.core.common.businessentities.StorageDomain storageDomain ) { return storageDomain.getStorageDomainType ( ) . isDataDomain ( ) ; } } ; }
private void setUpGetGroupExpectations ( ) throws java.lang.Exception { setUpGetEntityExpectations ( VdcQueryType.GetAffinityGroupById , org.ovirt.engine.core.common.queries.IdQueryParameters.class , new java.lang.String [ ] { "Id" } , new java.lang.Object [ ] { GUIDS [ 0 ] } , getGroup ( ) ) ; }
public org.ovirt.engine.core.bll.ValidationResult managementNetworkAttachment ( java.lang.String networkName ) { return networkCluster.isRequired ( ) ? org.ovirt.engine.core.bll.ValidationResult.VALID : new org.ovirt.engine.core.bll.ValidationResult ( org.ovirt.engine.core.dal.VdcBllMessages.ACTION_TYPE_FAILED_MANAGEMENT_NETWORK_REQUIRED , java.lang.String.format ( org.ovirt.engine.core.bll.network.cluster.NetworkClusterValidator.NETWORK_NAME_REPLACEMENT , networkName ) ) ; }
static com.gwtplatform.mvp.client.TabData getTabData ( org.ovirt.engine.ui.webadmin.gin.ClientGinjector ginjector ) { return new org.ovirt.engine.ui.common.widget.tab.ModelBoundTabData ( ginjector.getApplicationConstants ( ) . quotaMainTabLabel ( ) , 10 , ginjector.getMainTabQuotaModelProvider ( ) ) ; }
public void setId ( org.ovirt.engine.core.compat.Guid value ) { this . mVmStatic.setId ( value ) ; this . mVmDynamic.setId ( value ) ; this . mVmStatistics.setId ( value ) ; }
public int getNumOfCpus ( boolean countThreadsAsCPU ) { return countThreadsAsCPU ? this . getNumOfCpus ( ) : ( getNumOfSockets ( ) ) * ( getCpuPerSocket ( ) ) ; }
public void edit ( org.ovirt.engine.ui.uicommonweb.models.profiles.VnicProfileModel object ) { driver.edit ( object ) ; }
public void setCloneVMsSuffix ( org.ovirt.engine.ui.uicommonweb.models.EntityModel cloneVMsSuffix ) { this . cloneVMsSuffix = cloneVMsSuffix ; }
public void eventRaised ( org.ovirt.engine.ui.uicompat.Event ev , java.lang.Object sender , org.ovirt.engine.ui.uicompat.EventArgs args ) { updateMtuChangeability ( ) ; }
public java.lang.Object Convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { return source != null ? ( ( java.lang.Integer ) ( source ) ) . intValue ( ) : 1000 ; }
public void setUpContainer ( ) { container = org.mockito.Mockito.spy ( org.ovirt.engine.core.bll.aaa.SessionDataContainer.getInstance ( ) ) ; clearSession ( ) ; }
private boolean liveActionRequired ( ) { return ( ( oldIface.isActive ( ) ) && ( getInterface ( ) . isActive ( ) ) ) && ( ( org.ovirt.engine.core.bll.network.vm.UpdateVmInterfaceCommand.getVm ( ) . getStatus ( ) ) == ( org.ovirt.engine.core.common.businessentities.VMStatus.Up ) ) ; }
private void mockDbFacades ( ) { mockVdsGroupDao ( ) ; mockVmDao ( ) ; mockAuditLogDao ( ) ; mockVdsDao ( ) ; }
public org.ovirt.engine.ui.uicommonweb.Convertible AsConvertible ( ) { return new org.ovirt.engine.ui.uicommonweb.Convertible ( this ) ; }
public boolean isSetBlockStatistic ( ) { return ( ( this . blockStatistic ) != null ) && ( ! ( this . blockStatistic.isEmpty ( ) ) ) ; }
public void getAllCpuQosForCpuPool ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.qos.CpuQos > allForCpuPoolId = dao.getAllForStoragePoolId ( FixturesTool.STORAGE_POOL_NFS ) ; org.junit.Assert.assertNotNull ( allForCpuPoolId ) ; org.junit.Assert.assertEquals ( 3 , allForCpuPoolId.size ( ) ) ; }
public void testJsonEmptyDiskDescription ( ) throws java.io.IOException { java.lang.String jsonDescription = org.ovirt.engine.core.bll.ImagesHandler.getJsonDiskDescription ( "DiskAlias" , "" ) ; org.junit.Assert.assertEquals ( "Should be map of disk alias and disk description" , "{\"DiskAlias\":\"DiskAlias\",\"DiskDescription\":\"\"}" , jsonDescription ) ; }
public void passthroughProfileValidProperties ( ) { passthroughProfileContainsSupportedPropertiesTest ( true , false , null , null ) ; org.junit.Assert.assertThat ( validator.passthroughProfileContainsSupportedProperties ( ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.isValid ( ) ) ; }
int getwrite_rate_kb_per_sec ( ) ;
private org.ovirt.engine.core.bll.network.host.HostSetupNetworksValidator createHostSetupNetworksValidator ( ) { return createHostSetupNetworksValidator ( java.util.Collections.< org.ovirt.engine.core.common.businessentities.network.Network > emptyList ( ) ) ; }
public void testGetAllForStoragePoolWithPermissionsUnprivilegedUser ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.StorageDomain > result = dao.getAllForStoragePool ( FixturesTool.STORAGE_POOL_NFS , org.ovirt.engine.core.dao.UNPRIVILEGED_USER_ID , true ) ; org.junit.Assert.assertTrue ( result.isEmpty ( ) ) ; }
public void onClick ( com.google.gwt.event.dom.client.ClickEvent event ) { hideAndUnbind ( ) ; }
private void removeMemoryImages ( ) { new org.ovirt.engine.core.bll.memory.MemoryImageRemoverFromExportDomain ( getVm ( ) , this , org.ovirt.engine.core.bll.storage.export.RemoveVmFromImportExportCommand.getParameters ( ) . getStoragePoolId ( ) , org.ovirt.engine.core.bll.storage.export.RemoveVmFromImportExportCommand.getParameters ( ) . getStorageDomainId ( ) ) . remove ( ) ; }
private void initCheckBoxEditors ( ) { importGlusterConfigurationEditor = new org.ovirt.engine.ui.common.widget.editor.EntityModelCheckBoxEditor ( org.ovirt.engine.ui.common.widget.Align.RIGHT ) ; countThreadsAsCoresEditor = new org.ovirt.engine.ui.common.widget.editor.EntityModelCheckBoxEditor ( org.ovirt.engine.ui.common.widget.Align.RIGHT ) ; }
protected void init ( ) { super . init ( ) ; snapshot = org.ovirt.engine.core.bll.gluster.GlusterVolumeSnapshotCommandBase.getGlusterVolumeSnapshotDao ( ) . getByName ( org.ovirt.engine.core.bll.gluster.GlusterVolumeSnapshotCommandBase.getGlusterVolumeId ( ) , org.ovirt.engine.core.bll.gluster.GlusterVolumeSnapshotCommandBase.getParameters ( ) . getSnapshotName ( ) ) ; }
private void mockValidators ( ) { org.mockito.Mockito.doReturn ( diskValidator ) . when ( command ) . createDiskValidator ( org.mockito.ArgumentMatchers.any ( ) ) ; }
public javax.ws.rs.core.Response add ( org.ovirt.engine.api.model.NIC device ) { validateParameters ( device , getRequiredAddFields ( ) ) ; return performCreate ( addAction , getAddParameters ( map ( device ) , device ) , getEntityIdResolver ( device.getName ( ) ) ) ; }
public java.lang.Object Convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { return source != null ? ( ( java.lang.Integer ) ( source ) ) . intValue ( ) : 1 ; }
public com.google.gwt.safehtml.shared.SafeHtml getTooltip ( C value ) { return null ; }
public void testGet ( ) { resource.setParent ( getCollectionResourceMock ( ) ) ; control.replay ( ) ; org.ovirt.engine.api.model.Hook hook = resource.get ( ) ; assertEquals ( hook.getEventName ( ) , org.ovirt.engine.api.restapi.resource.BackendHostHookResourceTest.EVENT_2_NAME ) ; }
public void setEnabled ( boolean enabled ) { overrideSerialNumberPolicy.setEnabled ( enabled ) ; serialNumberPolicy.setEnabled ( enabled ) ; customSerialNumber.setEnabled ( enabled ) ; }
public void testExtractIpv6PrefixNoPrefix ( ) { org.junit.Assert.assertThat ( org.ovirt.engine.core.vdsbroker.vdsbroker.VdsBrokerObjectsBuilder.extractIpv6Prefix ( "::" ) , org.hamcrest.Matchers.nullValue ( ) ) ; }
protected boolean isSoundDeviceEnabled ( ) { java.lang.Boolean soundDeviceEnabled = org.ovirt.engine.core.bll.UpdateVmTemplateCommand.getParameters ( ) . isSoundDeviceEnabled ( ) ; return soundDeviceEnabled != null ? soundDeviceEnabled : org.ovirt.engine.core.bll.utils.VmDeviceUtils.isSoundDeviceEnabled ( org.ovirt.engine.core.bll.UpdateVmTemplateCommand.getParameters ( ) . getVmTemplateData ( ) . getId ( ) ) ; }
public void validateBlockToFileSupported ( ) { storagePool.setCompatibilityVersion ( Version.v3_6 ) ; validateInvalidDestinationAndSourceDomainOfDifferentStorageSubtypes ( StorageType.ISCSI , StorageType.NFS , true ) ; }
protected void init ( ) { super . init ( ) ; }
public void testGetAllForStoragePoolWithPermissionsUnprivilegedUser ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.StorageDomain > result = dao.getAllForStoragePool ( org.ovirt.engine.core.dao.StorageDomainDaoTest.EXISTING_STORAGE_POOL_ID , org.ovirt.engine.core.dao.UNPRIVILEGED_USER_ID , true ) ; org.junit.Assert.assertNotNull ( result ) ; org.junit.Assert.assertTrue ( result.isEmpty ( ) ) ; }
public java.util.List < java.lang.String > getVisibleList ( ) { return getLocaleValues ( getValueString ( ) ) ; }
protected java.util.Map < java.lang.String , java.lang.String > getExclusiveLocks ( ) { return org.ovirt.engine.core.bll.CreateAllSnapshotsFromVmCommand.getParameters ( ) . isNeedsLocking ( ) ? java.util.Collections.singletonMap ( org.ovirt.engine.core.bll.CreateAllSnapshotsFromVmCommand.getVmId ( ) . toString ( ) , LockingGroup.VM.name ( ) ) : null ; }
private void setNonOperational ( org.ovirt.engine.core.common.businessentities.NonOperationalReason reason , org.ovirt.engine.core.common.businessentities.VDS vds ) { vds.setNonOperationalReason ( reason ) ; vds.setStatus ( VDSStatus.NonOperational ) ; org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getVdsDynamicDao ( ) . update ( vds.getDynamicData ( ) ) ; }
public void clusterAlreadyInLocalFs ( ) { createCommandWithDefaultVdsGroup ( ) ; oldGroupIsDetachedDefault ( ) ; storagePoolIsLocalFS ( ) ; cpuExists ( ) ; cpuManufacturersMatch ( ) ; allQueriesForVms ( ) ; storagePoolAlreadyHasCluster ( ) ; canDoActionFailedWithReason ( VdcBllMessages.VDS_GROUP_CANNOT_ADD_MORE_THEN_ONE_HOST_TO_LOCAL_STORAGE ) ; }
public org.springframework.jdbc.core.JdbcTemplate getJdbcTemplate ( ) { return jdbcTemplate ; }
public void testBadGuid ( ) { try { new org.ovirt.engine.api.restapi.resource.openstack.BackendOpenStackVolumeProviderResource ( "foo" , resource.getParent ( ) ) ; org.junit.Assert.fail ( "expected WebApplicationException" ) ; } catch ( javax.ws.rs.WebApplicationException wae ) { verifyNotFoundException ( wae ) ; } }
public org.ovirt.engine.core.common.businessentities.StorageDomain getStorageDomain ( ) { if ( ( cachedStorageDomain ) == null ) { cachedStorageDomain = getStorageDomainDAO ( ) . get ( params.getStorageDomainId ( ) ) ; } return cachedStorageDomain ; }
private org.ovirt.engine.core.common.businessentities.StorageDomain getImageSourceDomain ( org.ovirt.engine.core.compat.Guid imageId ) { org.ovirt.engine.core.common.businessentities.storage.DiskImage diskImage = getDiskImageByImageId ( imageId ) ; org.ovirt.engine.core.compat.Guid domainId = diskImage.getStorageIds ( ) . get ( 0 ) ; return getStorageDomainById ( domainId , org.ovirt.engine.core.bll.storage.lsm.LiveMigrateVmDisksCommand.getStoragePoolId ( ) ) ; }
protected boolean canDoAction ( ) { return ( ( super . canDoAction ( ) ) && ( VdsGroupExists ( ) ) ) && ( changesAreClusterCompatible ( ) ) ; }
public void eventRaised ( org.ovirt.engine.ui.uicompat.Event < ? extends org.ovirt.engine.ui.uicompat.EventArgs > ev , java.lang.Object sender , org.ovirt.engine.ui.uicompat.EventArgs args ) { updateWindowsWarningMessage ( ) ; }
private boolean isOutAverageRealTimeInSync ( ) { return org.ovirt.engine.core.common.utils.ObjectUtils.objectsEqual ( org.ovirt.engine.core.utils.NetworkInSyncWithVdsNetworkInterface.getOutAverageRealtime ( ifaceQos ) , org.ovirt.engine.core.utils.NetworkInSyncWithVdsNetworkInterface.getOutAverageRealtime ( hostNetworkQos ) ) ; }
org.ovirt.engine.core.vdsbroker.vdsbroker.LUNListReturnForXmlRpc getDeviceList ( int storageType , java.lang.String [ ] devicesList ) ;
public void testCanDoActionOvfDiskNotIllegal ( ) { disk.setImageStatus ( ImageStatus.OK ) ; disk.setOvfStore ( true ) ; org.ovirt.engine.core.bll.CanDoActionTestUtils.runAndAssertCanDoActionFailure ( cmd , VdcBllMessages.ACTION_TYPE_FAILED_OVF_DISK_NOT_IN_APPLICABLE_STATUS ) ; }
public void ExecuteCommand ( org.ovirt.engine.ui.uicommonweb.UICommand uiCommand , java.lang.Object ... parameters ) { ProxyUp ( ) ; }
public java.lang.String getValue ( org.ovirt.engine.core.common.businessentities.Snapshot snapshot ) { if ( ( snapshot.getType ( ) ) == ( org.ovirt.engine.core.common.businessentities.Snapshot.SnapshotType.ACTIVE ) ) { return org.ovirt.engine.ui.common.widget.uicommon.snapshot.SnapshotsViewColumns.constants.currentSnapshotLabel ( ) ; } return org.ovirt.engine.ui.common.widget.renderer.FullDateTimeRenderer.getLocalizedDateTimeFormat ( ) . format ( snapshot.getCreationDate ( ) ) ; }
public org.ovirt.engine.ui.uicompat.Enums getEnums ( ) { if ( ( org.ovirt.engine.ui.uicompat.ConstantsManager.GwtConstantsManager.enums ) == null ) { org.ovirt.engine.ui.uicompat.ConstantsManager.GwtConstantsManager.enums = com.google.gwt.core.client.GWT.create ( org.ovirt.engine.ui.uicompat.Enums.class ) ; } return org.ovirt.engine.ui.uicompat.ConstantsManager.GwtConstantsManager.enums ; }
protected org.ovirt.engine.core.common.action.VdcReturnValueBase runInternalAction ( org.ovirt.engine.core.common.action.VdcActionType actionType , org.ovirt.engine.core.common.action.VdcActionParametersBase parameters , org.ovirt.engine.core.bll.context.CommandContext context ) { return org.ovirt.engine.core.bll.Backend.getInstance ( ) . runInternalAction ( actionType , parameters , context ) ; }
public void setMemCommited ( java.lang.Integer value ) { this . mVdsDynamic.setMemCommited ( value ) ; calculateFreeVirtualMemory ( ) ; }
public org.ovirt.engine.core.bll.network.macpoolmanager.Range addRange ( long rangeStart , long rangeEnd ) { return addRange ( new org.ovirt.engine.core.bll.network.macpoolmanager.Range ( rangeStart , rangeEnd ) ) ; }
public void cluster_SelectedItemChanged ( ) { updateDefaultHost ( ) ; updateCustomPropertySheet ( ) ; updateNumOfSockets ( ) ; updateQuotaByCluster ( vm.getQuotaId ( ) , vm.getQuotaName ( ) ) ; updateCpuPinningVisibility ( ) ; }
protected void Refresh ( ) { if ( ( getEntity ( ) ) == null ) { return ; } super . SyncSearch ( VdcQueryType.GetAllAuditLogsByVMTemplateName , new org.ovirt.engine.core.common.queries.GetAllAuditLogsByVMTemplateNameParameters ( getEntity ( ) . getname ( ) ) ) ; }
public void update ( T entity ) { org.ovirt.engine.core.dao.DefaultGenericDaoDbFacade.getCallsHandler ( ) . executeModification ( getProcedureNameForUpdate ( ) , createFullParametersMapper ( entity ) ) ; }
public void updateModelBySnapshot ( org.ovirt.engine.core.common.businessentities.Snapshot snapshot ) { setDisks ( new java.util.ArrayList < org.ovirt.engine.core.common.businessentities.DiskImage > ( snapshot.getDiskImages ( ) ) ) ; getMemory ( ) . setEntity ( snapshot.containsMemory ( ) ) ; }
protected javax.ws.rs.core.Response performCreation ( org.ovirt.engine.core.common.action.VdcActionType task , org.ovirt.engine.core.common.action.VdcActionParametersBase taskParams , org.ovirt.engine.api.restapi.resource.EntityIdResolver entityResolver , java.lang.Class < ? extends org.ovirt.engine.api.model.BaseResource > suggestedParentType ) { return performCreation ( task , taskParams , entityResolver , expectBlocking ( ) , suggestedParentType ) ; }
private org.ovirt.engine.core.common.businessentities.VolumeType getMemoryVolumeType ( ) { return org.ovirt.engine.core.bll.HibernateVmCommand.getMemoryVolumeTypeForStorageDomain ( org.ovirt.engine.core.bll.HibernateVmCommand.getStorageDomain ( ) . getStorageType ( ) ) ; }
protected org.ovirt.engine.api.model.Disk getDisk ( ) { return performGet ( VdcQueryType.GetDiskByDiskId , new org.ovirt.engine.core.common.queries.IdQueryParameters ( guid ) ) ; }
public void rollbackQuota ( ) { org.ovirt.engine.core.bll.quota.QuotaManager.getInstance ( ) . rollbackQuota ( org.ovirt.engine.core.bll.CommonVmPoolWithVmsCommand.getStoragePool ( ) , org.ovirt.engine.core.bll.quota.QuotaManager.getInstance ( ) . getQuotaListFromParameters ( getStorageQuotaListParameters ( ) ) ) ; }
public void setBridge ( org.ovirt.engine.ui.uicommonweb.models.hosts.network.NetworkInterfaceModel bridge ) { this . vlanNic = bridge ; }
public java.util.List < org.ovirt.engine.core.common.businessentities.storage_server_connections > GetStorageServerConnectionsByDomain ( org.ovirt.engine.core.common.businessentities.storage_domain_static storageDomain ) { return org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getStorageServerConnectionDao ( ) . getAllForVolumeGroup ( storageDomain.getstorage ( ) ) ; }
public void addParameter ( org.ovirt.api.metamodel.concepts.Parameter parameter ) { parameters.add ( parameter ) ; }
public static org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface findInterfaceByNetworkName ( java.util.ArrayList < org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface > items , java.lang.String name ) { for ( org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface i : items ) { if ( org.ovirt.engine.core.common.utils.ObjectUtils.objectsEqual ( i.getNetworkName ( ) , name ) ) { return i ; } } return null ; }
protected java.lang.String hostnameOrIp ( ) { return ( ( ( "(?:" + ( ip ( ) ) ) + "|" ) + ( fqdn ( ) ) ) + ")" ; }
public void executed ( org.ovirt.engine.ui.uicompat.FrontendActionAsyncResult result ) { org.ovirt.engine.core.common.action.VdcReturnValueBase returnValue = result.getReturnValue ( ) ; if ( ( returnValue != null ) && ( returnValue.getSucceeded ( ) ) ) { Cancel ( ) ; } }
public java.util.Set < org.ovirt.engine.core.utils.MockConfigRule.MockConfigDescriptor < java.lang.Object > > getExtraConfigDescriptors ( ) { return java.util.Collections.singleton ( org.ovirt.engine.core.utils.MockConfigRule.mockConfig ( ConfigValues.SANWipeAfterDelete , true ) ) ; }
public void completeNetworkAttachments ( java.util.List < org.ovirt.engine.core.common.businessentities.network.NetworkAttachment > networkAttachments , org.ovirt.engine.core.common.businessentities.BusinessEntityMap < org.ovirt.engine.core.common.businessentities.network.Network > clusterNetworks ) { for ( org.ovirt.engine.core.common.businessentities.network.NetworkAttachment networkAttachment : networkAttachments ) { completeNetworkAttachment ( networkAttachment , clusterNetworks ) ; } }
public void testValidateNetworkExclusiveOnNicsVmNetworkIsSoleAttachedInterface ( ) throws java.lang.Exception { checkVmNetworkIsSoleAssignedInterface ( org.ovirt.engine.core.bll.validator.ValidationResultMatchers.isValid ( ) , vmNetwork1 ) ; }
private org.ovirt.engine.core.common.businessentities.gluster.GlusterBrickEntity getEntityWithDetails ( int index ) { return setUpEntityExpectations ( control.createMock ( org.ovirt.engine.core.common.businessentities.gluster.GlusterBrickEntity.class ) , index , true ) ; }
public void setKdumpStatus ( java.lang.String value ) { if ( ! ( org.ovirt.engine.core.common.utils.ObjectUtils.objectsEqual ( kdumpStatus , value ) ) ) { kdumpStatus = value ; onPropertyChanged ( new org.ovirt.engine.ui.uicompat.PropertyChangedEventArgs ( "KdumpStatus" ) ) ; } }
protected void SyncSearch ( ) { if ( ( getEntity ( ) ) == null ) { return ; } super . SyncSearch ( VdcQueryType.GetTemplateInterfacesByTemplateId , new org.ovirt.engine.core.common.queries.IdQueryParameters ( getEntityStronglyTyped ( ) . getId ( ) ) ) ; }
java.util.List < org.ovirt.engine.core.common.businessentities.VDS > getAllOfType ( org.ovirt.engine.core.common.businessentities.VDSType vds ) ;
public void setVm ( org.ovirt.engine.core.common.businessentities.VM value ) { if ( ( vm ) != value ) { vm = value ; OnPropertyChanged ( new org.ovirt.engine.ui.uicompat.PropertyChangedEventArgs ( "VM" ) ) ; } }
private void updateSnapshotOvf ( org.ovirt.engine.core.common.businessentities.VM vm ) { vm.setSnapshots ( org.ovirt.engine.core.bll.ExportVmCommand.getDbFacade ( ) . getSnapshotDao ( ) . getAllWithConfiguration ( org.ovirt.engine.core.bll.ExportVmCommand.getVm ( ) . getId ( ) ) ) ; updateVmImSpm ( ) ; }
public boolean match ( org.ovirt.engine.core.common.businessentities.Cluster source ) { return ( ( java.lang.Boolean ) ( org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncDataProvider.getInstance ( ) . getConfigValuePreConverted ( ConfigurationValues.SupportCustomDeviceProperties , source.getCompatibilityVersion ( ) . getValue ( ) ) ) ) ; }
public boolean isSessionValid ( javax.servlet.http.HttpServletRequest request , java.lang.String token ) { return true ; }
public java.util.ArrayList < org.ovirt.engine.core.common.action.VdcReturnValueBase > runInternalMultipleActions ( org.ovirt.engine.core.common.action.VdcActionType actionType , java.util.ArrayList < org.ovirt.engine.core.common.action.VdcActionParametersBase > parameters , org.ovirt.engine.core.bll.context.CommandContext commandContext ) { return runMultipleActionsImpl ( actionType , parameters , true , false , false , commandContext ) ; }
public void clearAllDismissedEvents ( ) { org.ovirt.engine.ui.frontend.Frontend.getInstance ( ) . runAction ( VdcActionType.ClearDismissedAuditLogEvents , new org.ovirt.engine.core.common.action.VdcActionParametersBase ( ) , new org.ovirt.engine.ui.uicompat.IFrontendActionAsyncCallback ( ) { @ java.lang.Override public void executed ( org.ovirt.engine.ui.uicompat.FrontendActionAsyncResult result ) { org.ovirt.engine.ui.uicommonweb.models.events.EventListModel.this . refresh ( ) ; } } ) ; }
public void removeGlusterServerHook ( org.ovirt.engine.core.compat.Guid id ) ;
private java.util.Properties setCommonProperties ( org.ovirt.engine.core.notifier.utils.NotificationProperties aMailProps ) { java.util.Properties mailSessionProps = new java.util.Properties ( ) ; if ( org.ovirt.engine.core.notifier.transport.smtp.JavaMailSender.log.isTraceEnabled ( ) ) { mailSessionProps.put ( "mail.debug" , "true" ) ; } isBodyHtml = aMailProps.getBoolean ( NotificationProperties.HTML_MESSAGE_FORMAT , false ) ; return mailSessionProps ; }
public void getUsbPolicyOnUpdateCurrentlyNativeGotEnabledNotSetPolicyNotSetUsb ( ) { org.ovirt.engine.api.model.Usb usb = new org.ovirt.engine.api.model.Usb ( ) ; org.ovirt.engine.core.common.businessentities.UsbPolicy currentPolicy = org.ovirt.engine.core.common.businessentities.UsbPolicy.ENABLED_NATIVE ; assertEquals ( org.ovirt.engine.api.restapi.types.VmMapper.getUsbPolicyOnUpdate ( usb , currentPolicy , null ) , currentPolicy ) ; }
public long getDelayMinimum ( ) { return this . delayMinimum ; }
void localize ( ) { allButton.setText ( org.ovirt.engine.ui.common.widget.uicommon.disks.DisksViewRadioGroup.constants.allDisksLabel ( ) ) ; imagesButton.setText ( org.ovirt.engine.ui.common.widget.uicommon.disks.DisksViewRadioGroup.constants.imageDisksLabel ( ) ) ; lunsButton.setText ( org.ovirt.engine.ui.common.widget.uicommon.disks.DisksViewRadioGroup.constants.lunDisksLabel ( ) ) ; }
private boolean shouldUpdateStorageDisk ( ) { return ( ( org.ovirt.engine.core.bll.MoveOrCopyImageGroupCommand.getParameters ( ) . getOperation ( ) ) == ( org.ovirt.engine.core.common.businessentities.ImageOperation.Move ) ) || ( ( org.ovirt.engine.core.bll.MoveOrCopyImageGroupCommand.getParameters ( ) . getParentCommand ( ) ) == ( org.ovirt.engine.core.common.action.VdcActionType.ImportVm ) ) ; }
public java.util.Map < java.lang.String , java.lang.Object > setVmTicket ( java.lang.String vmId , java.lang.String otp64 , java.lang.String sec , java.lang.String connectionAction , java.util.Map < java.lang.String , java.lang.String > params ) ;
public void testRemoveFailed ( ) throws java.lang.Exception { setUpGetEntityExpectations ( VdcQueryType.Search , org.ovirt.engine.core.common.queries.SearchParameters.class , new java.lang.String [ ] { "SearchPattern" , "SearchTypeValue" } , new java.lang.Object [ ] { "users:" , org.ovirt.engine.core.common.interfaces.SearchType.DBUser } , getUsers ( ) ) ; doTestBadRemove ( true , false , org.ovirt.engine.api.restapi.resource.FAILURE ) ; }
static com.gwtplatform.mvp.client.TabData getTabData ( org.ovirt.engine.ui.webadmin.gin.ClientGinjector ginjector ) { return new org.ovirt.engine.ui.common.widget.tab.ModelBoundTabData ( ginjector.getApplicationConstants ( ) . templateMainTabLabel ( ) , 8 , ginjector.getMainTabTemplateModelProvider ( ) ) ; }
public void statusSupportedForHostUpgradeInternal ( ) { host.setStatus ( VDSStatus.Maintenance ) ; org.junit.Assert.assertThat ( validator.statusSupportedForHostUpgradeInternal ( ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.isValid ( ) ) ; }
protected boolean canEdit ( org.ovirt.engine.ui.uicommonweb.models.EntityModel model ) { return this . canEditAssign ( model ) ; }
public void testGetDataAndSetDataWithNullSession ( ) { org.ovirt.engine.core.utils.ThreadLocalParamsContainer.setHttpSessionId ( null ) ; org.junit.Assert.assertFalse ( "Set should fail with a null session" , container.SetData ( org.ovirt.engine.core.bll.session.SessionDataContainerTest.TEST_KEY , org.ovirt.engine.core.bll.session.SessionDataContainerTest.TEST_VALUE ) ) ; org.junit.Assert.assertNull ( "Get should return null with a null session" , container.GetData ( org.ovirt.engine.core.bll.session.SessionDataContainerTest.TEST_KEY , false ) ) ; }
private void updateProperties ( ) { org.ovirt.engine.core.common.businessentities.DbUser user = ( ( org.ovirt.engine.core.common.businessentities.DbUser ) ( getEntity ( ) ) ) ; setDomain ( user.getdomain ( ) ) ; setEmail ( user.getemail ( ) ) ; setStatus ( user.getAdStatus ( ) ) ; }
public void handleFailure ( ) { org.ovirt.engine.core.bll.snapshots.ColdMergeSnapshotSingleDiskCommand.log.error ( "Command id: '{} failed child command status for step '{}'" , org.ovirt.engine.core.bll.snapshots.ColdMergeSnapshotSingleDiskCommand.getCommandId ( ) , org.ovirt.engine.core.bll.snapshots.ColdMergeSnapshotSingleDiskCommand.getParameters ( ) . getCommandStep ( ) ) ; }
public void testValidName ( ) { prepareVmToPassCanDoAction ( ) ; mockVmValidator ( ) ; command.initEffectiveCompatibilityVersion ( ) ; boolean c = command.canDoAction ( ) ; org.junit.Assert.assertTrue ( "canDoAction should have passed." , c ) ; }
public java.lang.Object convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { return source != null ? ( ( org.ovirt.engine.core.common.businessentities.VM ) ( source ) ) : null ; }
public javax.ws.rs.core.Response shutdown ( org.ovirt.engine.api.model.Action action ) { return doAction ( VdcActionType.ShutdownVm , new org.ovirt.engine.core.common.action.ShutdownVmParameters ( guid , true ) , action ) ; }
protected org.ovirt.engine.core.common.businessentities.storage_domains getStorageDomain ( int idx ) { org.ovirt.engine.core.common.businessentities.storage_domains dom = new org.ovirt.engine.core.common.businessentities.storage_domains ( ) ; dom.setId ( GUIDS [ idx ] ) ; return dom ; }
private org.ovirt.engine.core.bll.GetVmConfigurationBySnapshotQuery < org.ovirt.engine.core.common.queries.IdQueryParameters > setupQueryBySnapshotId ( org.ovirt.engine.core.compat.Guid snapshotId ) { org.ovirt.engine.core.common.queries.IdQueryParameters queryParams = getQueryParameters ( ) ; org.mockito.Mockito.when ( queryParams.getId ( ) ) . thenReturn ( snapshotId ) ; return getQuery ( ) ; }
public void onBrowserEvent ( org.ovirt.engine.ui.common.widget.table.column.Context context , com.google.gwt.dom.client.Element parent , T value , com.google.gwt.dom.client.NativeEvent event , com.google.gwt.cell.client.ValueUpdater < T > valueUpdater ) { java.lang.String eventType = event.getType ( ) ; handleTitlePanel ( eventType , parent ) ; }
public void testGlusterVolumeBricksByServerId ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.gluster.GlusterBrickEntity > bricks = dao.getGlusterVolumeBricksByServerId ( FixturesTool.GLUSTER_SERVER_UUID3 ) ; org.junit.Assert.assertNotNull ( bricks ) ; }
public org.ovirt.engine.core.common.utils.VmDeviceType getDisplayDevice ( int osId , org.ovirt.engine.core.compat.Version version , org.ovirt.engine.core.common.businessentities.DisplayType displayType ) { org.ovirt.engine.core.common.utils.VmDeviceType vmDeviceType = parseDisplayProtocols ( osId , version ) . get ( displayType ) ; return vmDeviceType == null ? displayType.getDefaultVmDeviceType ( ) : vmDeviceType ; }
public void testSubResourceLocator ( ) throws java.lang.Exception { control.replay ( ) ; java.lang.Object subResource = collection.getDeviceResource ( GUIDS [ 0 ] . toString ( ) ) ; assertFalse ( ( subResource instanceof org.ovirt.engine.api.resource.DeviceResource ) ) ; assertTrue ( ( subResource instanceof org.ovirt.engine.api.resource.ReadOnlyDeviceResource ) ) ; }
public void setnum_of_sockets ( int value ) { this . mVmStatic.setnum_of_sockets ( value ) ; OnPropertyChanged ( new org.ovirt.engine.core.compat.PropertyChangedEventArgs ( "num_of_sockets" ) ) ; OnPropertyChanged ( new org.ovirt.engine.core.compat.PropertyChangedEventArgs ( "num_of_cpus" ) ) ; }
protected boolean setAndValidateCpuProfile ( ) { return validate ( org.ovirt.engine.core.bll.profiles.CpuProfileHelper.setAndValidateCpuProfile ( org.ovirt.engine.core.bll.VmManagementCommandBase.getParameters ( ) . getVm ( ) . getStaticData ( ) , org.ovirt.engine.core.bll.VmManagementCommandBase.getVdsGroup ( ) . getCompatibilityVersion ( ) ) ) ; }
public static org.ovirt.engine.ui.frontend.server.dashboard.InventoryStatus getClusterInventoryStatus ( javax.sql.DataSource engineDataSource ) throws java.sql.SQLException , org.ovirt.engine.ui.frontend.server.dashboard.DashboardDataException { org.ovirt.engine.ui.frontend.server.dashboard.dao.ClusterEngineDAO dao = new org.ovirt.engine.ui.frontend.server.dashboard.dao.ClusterEngineDAO ( engineDataSource ) ; return dao.getClusterInventorySummary ( ) ; }
public void setPopupKeyPressHandler ( org.ovirt.engine.ui.common.widget.dialog.PopupNativeKeyPressHandler keyPressHandler ) { popup.setKeyPressHandler ( keyPressHandler ) ; }
public static boolean isManagementNetwork ( java.lang.String networkName ) { return org.ovirt.engine.core.common.config.Config.< java.lang.String > GetValue ( ConfigValues.ManagementNetwork ) . equals ( networkName ) ; }
protected void onReveal ( ) { super . onReveal ( ) ; setInSlot ( org.ovirt.engine.ui.webadmin.section.main.presenter.HeaderPresenterWidget.TYPE_SetSearchPanel , searchPanel ) ; }
public void validate ( ) { setupForStorageTests ( ) ; org.junit.Assert.assertTrue ( command.validate ( ) ) ; }
protected void executeCommand ( ) { org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getNetworkClusterDAO ( ) . remove ( org.ovirt.engine.core.bll.DetachNetworkToVdsGroupCommand.getParameters ( ) . getVdsGroupId ( ) , org.ovirt.engine.core.bll.DetachNetworkToVdsGroupCommand.getParameters ( ) . getNetwork ( ) . getId ( ) ) ; org.ovirt.engine.core.bll.DetachNetworkToVdsGroupCommand.setSucceeded ( true ) ; }
protected org.ovirt.engine.core.common.queries.VdcQueryReturnValue getAllDisksByStorageDomain ( org.ovirt.engine.core.compat.Guid domainId ) { return runInternalQuery ( VdcQueryType.GetAllDisksByStorageDomainId , new org.ovirt.engine.core.common.queries.IdQueryParameters ( domainId ) ) ; }
public java.lang.Void deleteDisk ( final org.ovirt.engine.core.common.businessentities.storage.CinderDisk cinderDisk ) { return execute ( new java.util.concurrent.Callable < java.lang.Void > ( ) { @ java.lang.Override public java.lang.Void call ( ) { proxy.deleteVolume ( cinderDisk.getId ( ) . toString ( ) ) ; return null ; } } ) ; }
public boolean getpm_enabled ( ) { return mVdsStatic.getpm_enabled ( ) ; }
private boolean isNameConatinsDomain ( org.ovirt.engine.api.model.User user ) { return ( user.getUserName ( ) . contains ( "@" ) ) && ( ( user.getUserName ( ) . indexOf ( '@' ) ) != ( ( user.getUserName ( ) . length ( ) ) - 1 ) ) ; }
private void mockDiskImageDao ( ) { org.mockito.Mockito.when ( diskImageDao.getSnapshotById ( org.mockito.Matchers.any ( org.ovirt.engine.core.compat.Guid.class ) ) ) . thenReturn ( org.ovirt.engine.core.bll.CommonVmPoolCommandTestAbstract.getDiskImageList ( ) . get ( 0 ) ) ; }
public void testValidateNetworkExclusiveOnNicsVmNetworkMustBeSoleAttachedInterface2 ( ) throws java.lang.Exception { checkVmNetworkIsSoleAssignedInterface ( org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( VdcBllMessages.NETWORK_INTERFACES_NOT_EXCLUSIVELY_USED_BY_NETWORK ) , vmNetwork1 , nonVmNetwork1 ) ; }
private void verifyNoDomainForMemory ( java.util.List < org.ovirt.engine.core.common.businessentities.StorageDomain > storageDomains ) { org.ovirt.engine.core.common.businessentities.StorageDomain storageDomain = memoryStorageHandler.findStorageDomainForMemory ( storageDomains , memoryDisks , vmDisks ) ; org.junit.Assert.assertNull ( storageDomain ) ; }
public void testNonExistingKey ( ) { org.junit.Assert.assertEquals ( "" , OsRepositoryImpl.INSTANCE.getOsFamily ( 666 ) ) ; }
public void eventRaised ( org.ovirt.engine.ui.uicompat.Event ev , java.lang.Object sender , org.ovirt.engine.ui.uicompat.EventArgs args ) { addDiskAllocation ( model ) ; }
protected void emitOnMessageReceived ( byte [ ] message ) { java.util.List < org.ovirt.vdsm.jsonrpc.client.reactors.stomp.impl.Message > messages = org.ovirt.vdsm.jsonrpc.client.reactors.stomp.impl.Message.buildMessages ( new java.lang.String ( message , org.ovirt.vdsm.jsonrpc.client.utils.JsonUtils.UTF8 ) ) ; for ( org.ovirt.vdsm.jsonrpc.client.reactors.stomp.impl.Message msg : messages ) { processMessage ( msg ) ; } }
public java.lang.String render ( T sizeInMB ) { return sizeInMB != null ? ( sizeInMB.toString ( ) ) + " MB" : constants.unAvailablePropertyLabel ( ) ; }
protected void ExecuteVDSCommand ( ) { org.ovirt.engine.core.vdsbroker.vdsbroker.HotUnplugNicVDSCommand.init ( ) ; status = org.ovirt.engine.core.vdsbroker.vdsbroker.HotUnplugNicVDSCommand.getBroker ( ) . hotUnplugNic ( struct ) ; org.ovirt.engine.core.vdsbroker.vdsbroker.HotUnplugNicVDSCommand.ProceedProxyReturnValue ( ) ; }
public void setFencingOptionMappingMap ( org.ovirt.engine.core.common.queries.ValueObjectMap value ) { org.ovirt.engine.core.utils.pm.VdsFencingOptions.fencingOptionMapping = ( value != null ) ? new java.util.HashMap < java.lang.String , java.util.HashMap < java.lang.String , java.lang.String > > ( value.asMap ( ) ) : null ; }
protected boolean shouldCheckSpaceInStorageDomains ( ) { return ! ( org.ovirt.engine.core.bll.AddVmFromSnapshotCommand.getImagesToCheckDestinationStorageDomains ( ) . isEmpty ( ) ) ; }
private org.ovirt.engine.core.utils.lock.EngineLock createLockForRunVmCommand ( org.ovirt.engine.core.compat.Guid vmId ) { return new org.ovirt.engine.core.utils.lock.EngineLock ( java.util.Collections.singletonMap ( vmId.toString ( ) , org.ovirt.engine.core.bll.LockMessagesMatchUtil.makeLockingPair ( LockingGroup.VM , VdcBllMessages.ACTION_TYPE_FAILED_OBJECT_LOCKED.name ( ) ) ) , null ) ; }
public void setHostNetworkQos ( org.ovirt.engine.core.common.businessentities.network.HostNetworkQos hostNetworkQos ) { this . hostNetworkQos = hostNetworkQos ; if ( ( this . hostNetworkQos ) != null ) { this . hostNetworkQos.setId ( this . getId ( ) ) ; } }
public void setExpression ( org.ovirt.api.metamodel.concepts.Expression expression ) { this . expression = expression ; }
private void stopGeoRepSessionCommand ( org.ovirt.engine.core.bll.CommandBase < ? > command , org.ovirt.engine.core.common.businessentities.gluster.GlusterGeoRepSession session ) { org.ovirt.engine.core.bll.tasks.CommandCoordinatorUtil.executeAsyncCommand ( VdcActionType.StopGeoRepSession , new org.ovirt.engine.core.common.action.gluster.GlusterVolumeGeoRepSessionParameters ( session.getMasterVolumeId ( ) , session.getId ( ) ) , command.cloneContextAndDetachFromParent ( ) ) ; }
public void testValidateGatewayWhenMultipleGatewayIsSupported ( ) throws java.lang.Exception { host.setVdsGroupCompatibilityVersion ( Version.v3_6 ) ; doTestValidateGateway ( "someGateway" , false , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.isValid ( ) ) ; }
public org.ovirt.engine.core.common.businessentities.Bookmark getByName ( java.lang.String name ) { org.springframework.jdbc.core.namedparam.MapSqlParameterSource parameterSource = new org.ovirt.engine.core.dao.BookmarkDAODbFacadeImpl.BookmarkSqlParameterSource ( name ) ; return getCallsHandler ( ) . executeRead ( "GetBookmarkBybookmark_name" , org.ovirt.engine.core.dao.BookmarkDAODbFacadeImpl.BookmarkRowMapper.instance , parameterSource ) ; }
public void networkNotInUseByHosts ( ) throws java.lang.Exception { networkNotUsedByHostsTest ( ValidationResult.VALID , java.util.Collections.< org.ovirt.engine.core.common.businessentities.VDS > emptyList ( ) ) ; }
public java.util.Map < org.ovirt.engine.core.common.utils.Pair < java.lang.Integer , org.ovirt.engine.core.compat.Version > , java.util.Set < java.lang.String > > getDiskHotpluggableInterfacesMap ( ) ;
public java.lang.Object convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { return source != null ? ( ( java.util.Set < org.ovirt.engine.core.common.businessentities.SupportedAdditionalClusterFeature > ) ( source ) ) : new java.util.HashSet < org.ovirt.engine.core.common.businessentities.SupportedAdditionalClusterFeature > ( ) ; }
public boolean eval ( org.ovirt.engine.core.common.businessentities.VDS vds ) { return ( ( ! ( vds.isDisablePowerManagementPolicy ( ) ) ) && ( ( vds.getSpmStatus ( ) ) != ( org.ovirt.engine.core.common.businessentities.VdsSpmStatus.SPM ) ) ) && ( vds.getpm_enabled ( ) ) ; }
private void InternalEndSuccessfully ( ) { log.infoFormat ( "Ending command successfully: {0}" , getClass ( ) . getName ( ) ) ; EndSuccessfully ( ) ; }
public void markAsInvalid ( java.util.List < java.lang.String > validationHints ) { super . markAsInvalid ( validationHints ) ; updateErrorIconLabel ( validationHints ) ; }
public boolean eval ( org.ovirt.engine.core.common.businessentities.Network net ) { return net.getname ( ) . equals ( getParameters ( ) . getNetwork ( ) . getname ( ) ) ; }
private java.lang.String getErrorMessage ( ) { return java.lang.String.format ( "[within thread]: EndAction for action type %1$s threw an exception." , getParameters ( ) . getDbAsyncTask ( ) . getActionParameters ( ) . getCommandType ( ) ) ; }
protected org.ovirt.engine.api.model.VM doPopulate ( org.ovirt.engine.api.model.VM model , org.ovirt.engine.api.model.VM entity ) { parent.setConsoleDevice ( model ) ; parent.setVirtioScsiController ( model ) ; return model ; }
public org.ovirt.engine.core.common.businessentities.TagsUserGroupMap mapRow ( java.sql.ResultSet rs , int rowNum ) throws java.sql.SQLException { org.ovirt.engine.core.common.businessentities.TagsUserGroupMap entity = new org.ovirt.engine.core.common.businessentities.TagsUserGroupMap ( ) ; entity.setgroup_id ( getGuidDefaultEmpty ( rs , "group_id" ) ) ; entity.settag_id ( getGuidDefaultEmpty ( rs , "tag_id" ) ) ; return entity ; }
public void vnicProfileDoesNotExist ( ) { org.mockito.Mockito.when ( vnicProfileDao.get ( org.mockito.ArgumentMatchers.any ( ) ) ) . thenReturn ( null ) ; org.junit.Assert.assertThat ( validator.vnicProfileExists ( ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( EngineMessage.ACTION_TYPE_FAILED_VNIC_PROFILE_NOT_EXISTS ) ) ; }
public void validateGenerateVmNameStartsWithMask ( ) { org.ovirt.engine.core.utils.NameForVmInPoolGenerator generator = createNameForVmInPoolGenerator ( "???mypool" ) ; for ( int i = 1 ; i < 17 ; ++ i ) { generator.generateVmName ( ) ; } org.junit.Assert.assertEquals ( "017mypool" , generator.generateVmName ( ) ) ; }
public void updateNetConfigDirty ( org.ovirt.engine.core.compat.Guid id , java.lang.Boolean netConfigDirty ) { org.ovirt.engine.core.common.businessentities.VdsDynamic entity = get ( id ) ; entity.setNetConfigDirty ( netConfigDirty ) ; update ( entity ) ; }
public void getUsbPolicySetDisabled ( ) { org.ovirt.engine.api.model.Usb usb = new org.ovirt.engine.api.model.Usb ( ) ; usb.setEnabled ( false ) ; org.ovirt.engine.core.common.businessentities.VDSGroup vdsGroup = new org.ovirt.engine.core.common.businessentities.VDSGroup ( ) ; assertEquals ( org.ovirt.engine.api.restapi.types.VmMapper.getUsbPolicyOnCreate ( usb , vdsGroup.getcompatibility_version ( ) ) , UsbPolicy.DISABLED ) ; }
public java.lang.Boolean call ( ) throws java.lang.Exception { _setCliEnvironmentIfNecessary ( ( ( ( org.ovirt.ovirt_host_deploy.constants.OpenStackEnv.NEUTRON_CONFIG_PREFIX ) + "DEFAULT/" ) + ( _messagingConfiguration.getBrokerType ( ) . getPasswordKey ( ) ) ) , _messagingConfiguration.getPassword ( ) ) ; return true ; }
public void testJsonNullDiskDescription ( ) throws java.io.IOException { disk.setDiskAlias ( "DiskAlias" ) ; disk.setDiskDescription ( null ) ; assertDiskDescriptionMap ( disk , org.ovirt.engine.core.bll.MetadataDiskDescriptionHandlerTest.generateDiskAliasJsonEntry ( "DiskAlias" ) , org.ovirt.engine.core.bll.MetadataDiskDescriptionHandlerTest.generateDiskDescriptionJsonEntry ( "" ) ) ; }
protected void verifyModel ( org.ovirt.engine.api.model.Tag model , int index ) { super . verifyModel ( model , index ) ; org.ovirt.engine.api.restapi.resource.BackendTagsResourceTest.verifyParent ( model , org.ovirt.engine.api.restapi.resource.BackendTagsResourceTest.PARENT_GUID.toString ( ) ) ; }
public java.lang.Object Convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { if ( source == null ) { return new java.util.ArrayList < org.ovirt.engine.core.common.businessentities.Provider > ( ) ; } return source ; }
protected org.ovirt.engine.core.common.action.HotPlugDiskToVmParameters createParameters ( ) { return new org.ovirt.engine.core.common.action.HotPlugDiskToVmParameters ( vmId , diskImageGuid ) ; }
public org.ovirt.sdk.ruby.RubyName getTypeName ( org.ovirt.api.metamodel.concepts.Type type ) { return buildName ( type.getName ( ) , null , org.ovirt.sdk.ruby.RubyNames.TYPES_DIR ) ; }
public void testGetRoleByName ( ) { org.ovirt.engine.core.common.businessentities.roles result = dao.getByName ( existingRole.getname ( ) ) ; org.junit.Assert.assertNotNull ( result ) ; org.junit.Assert.assertEquals ( existingRole , result ) ; }
public int hashCode ( ) { return java.util.Objects.hash ( getNicId ( ) , getNicName ( ) , getLabel ( ) ) ; }
public void getFreeVfNoFreeVf ( ) { freeVfCommon ( 0 , 1 , 2 , 3 , 4 ) ; org.junit.Assert.assertNull ( hostNicVfsConfigHelper.getFreeVf ( nic , null ) ) ; }
java.lang.String labeledNetworkNotAttached ( java.lang.String nicName , java.lang.String labelName ) ;
public void activated ( ) { if ( ( getBehavior ( ) . getInstanceTypeManager ( ) ) != null ) { getBehavior ( ) . getInstanceTypeManager ( ) . updateFields ( ) ; } }
private void setProgress ( org.ovirt.engine.ui.uicommonweb.models.common.ProgressModel value ) { if ( ( progress ) != value ) { progress = value ; onPropertyChanged ( new org.ovirt.engine.ui.uicompat.PropertyChangedEventArgs ( PropertyChangedEventArgs.Args.PROGRESS.toString ( ) ) ) ; } }
protected void mockGetStorageDomainList ( int availableDiskSizeFirstDomain , int availableDiskSizeSecondDomain ) { storageDomainsList = getStorageDomainList ( availableDiskSizeFirstDomain , availableDiskSizeSecondDomain ) ; mockDiskImageDAO ( ) ; mockStorageDomainDAO ( storageDomainsList ) ; }
private void addPermission ( org.ovirt.engine.core.compat.Guid userId , org.ovirt.engine.core.compat.Guid macPoolId ) { org.ovirt.engine.core.bll.MultiLevelAdministrationHandler.addPermission ( userId , macPoolId , PredefinedRoles.MAC_POOL_ADMIN , VdcObjectType.MacPool ) ; }
public void testGetNotFound ( ) { setUriInfo ( setUpBasicUriExpectations ( ) ) ; setUpGetEntityExpectations ( true ) ; try { resource.get ( ) ; org.junit.jupiter.api.Assertions.fail ( "expected WebApplicationException" ) ; } catch ( javax.ws.rs.WebApplicationException wae ) { verifyNotFoundException ( wae ) ; } }
protected boolean validateNoDuplicateDiskImages ( java.lang.Iterable < org.ovirt.engine.core.common.businessentities.DiskImage > images ) { if ( ! ( getParameters ( ) . isImportAsNewEntity ( ) ) ) { org.ovirt.engine.core.bll.validator.DiskImagesValidator diskImagesValidator = new org.ovirt.engine.core.bll.validator.DiskImagesValidator ( images ) ; return validate ( diskImagesValidator.diskImagesAlreadyExist ( ) ) ; } return true ; }
public java.lang.String getUserPassword ( ) { return org.ovirt.engine.ui.frontend.Frontend.getInstance ( ) . getLoginPassword ( ) ; }
public void testParseGetActionWithKeyInFirstArgument ( ) { parser.parse ( new java.lang.String [ ] { "--get=keyToGet" } ) ; org.junit.Assert.assertEquals ( ConfigActionType.ACTION_GET , parser.getConfigAction ( ) ) ; org.junit.Assert.assertEquals ( "keyToGet" , parser.getKey ( ) ) ; }
public void activateItemsUpdate ( ) { disableItemsUpdate ( ) ; model.getItemsChangedEvent ( ) . addListener ( new org.ovirt.engine.core.compat.IEventListener ( ) { @ java.lang.Override public void eventRaised ( org.ovirt.engine.core.compat.Event ev , java.lang.Object sender , org.ovirt.engine.core.compat.EventArgs args ) { updateItems ( ) ; } } ) ; updateItems ( ) ; }
public void setIsManaged ( boolean isManaged ) { this . isManaged = isManaged ; }
public void testListCrashClientLocale ( ) throws java.lang.Exception { }
org.ovirt.engine.core.vdsbroker.vdsbroker.VMListReturnForXmlRpc list ( java.lang.String isFull , java.lang.String [ ] vmIds ) ;
public void invalidVersion ( ) { createCommandWithInvalidVersion ( ) ; setupCpu ( ) ; canDoActionFailedWithReason ( EngineMessage.ACTION_TYPE_FAILED_GIVEN_VERSION_NOT_SUPPORTED ) ; }
private void setBond ( org.ovirt.engine.ui.uicommonweb.models.ListModel value ) { privateBond = value ; }
public int hashCode ( ) { return java.util.Objects.hash ( id , volumeId , serverId , brickDirectory , brickOrder , status , asyncTask ) ; }
protected org.ovirt.engine.core.bll.storage.ovfstore.OvfHelper getOvfHelper ( ) { return ovfHelper ; }
public void setXmlRpcStatus ( org.ovirt.engine.core.vdsbroker.vdsbroker.StatusForXmlRpc status ) { this . status = status ; }
private static org.ovirt.engine.core.common.businessentities.qos.QosBase mapCpuQosToEntity ( org.ovirt.engine.api.model.QoS model , org.ovirt.engine.core.common.businessentities.qos.CpuQos entity ) { if ( model.isSetCpuLimit ( ) ) { entity.setCpuLimit ( org.ovirt.engine.api.restapi.types.IntegerMapper.mapMinusOneToNull ( model.getCpuLimit ( ) ) ) ; } return entity ; }
private static org.ovirt.engine.core.dao.PermissionDAO getPermissionDAO ( ) { return org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getPermissionDao ( ) ; }
private void handleSaslException ( org.ovirt.engine.core.bll.adbroker.LdapSearchExceptionHandlingResponse response , java.lang.Throwable cause ) { response.setServerScore ( Score.LOW ) . setTranslatedException ( new org.ovirt.engine.core.bll.adbroker.AuthenticationResultException ( org.ovirt.engine.core.utils.kerberos.AuthenticationResult.CONNECTION_ERROR , ( "General connection problem due to " + cause ) ) ) . setTryNextServer ( true ) ; }
public org.ovirt.engine.core.common.action.VdcReturnValueBase runAction ( org.ovirt.engine.core.bll.CommandBase < ? > action , org.ovirt.engine.core.bll.job.ExecutionContext executionContext ) { org.ovirt.engine.core.bll.job.ExecutionHandler.setExecutionContextForTasks ( action.getContext ( ) , executionContext , null ) ; return runAction ( action , true ) ; }
protected < P extends org.ovirt.engine.core.common.queries.VdcQueryParametersBase > P sessionize ( P parameters ) { java.lang.String sessionId = getCurrent ( ) . getSessionId ( ) ; parameters.setSessionId ( sessionId ) ; return parameters ; }
void execute ( org.ovirt.engine.api.extensions.ExtMap context , java.util.Map < java.lang.String , java.lang.Object > argMap ) { logic.execute ( context , argMap ) ; }
protected boolean isHotPlugSupported ( ) { if ( org.ovirt.engine.core.common.FeatureSupported.hotPlug ( org.ovirt.engine.core.bll.VmCommand.getVm ( ) . getVdsGroupCompatibilityVersion ( ) ) ) { return true ; } return failCanDoAction ( EngineMessage.HOT_PLUG_IS_NOT_SUPPORTED ) ; }
protected org.ovirt.engine.core.common.queries.VdcQueryReturnValue getExistingStorageDomainList ( org.ovirt.engine.core.common.businessentities.StorageServerConnections storageServerConnection ) { org.ovirt.engine.core.common.queries.VdcQueryReturnValue returnValue = backend.runInternalQuery ( VdcQueryType.GetExistingStorageDomainList , new org.ovirt.engine.core.common.queries.GetExistingStorageDomainListParameters ( org.ovirt.engine.core.bll.storage.domain.GetFileStorageDomainsWithAttachedStoragePoolGuidQuery.getVdsId ( ) , storageServerConnection.getStorageType ( ) , org.ovirt.engine.core.common.businessentities.StorageDomainType.Data , storageServerConnection.getConnection ( ) ) ) ; return returnValue ; }
org.ovirt.engine.core.vdsbroker.vdsbroker.StatusOnlyReturnForXmlRpc glusterVolumeSnapshotCreate ( java.lang.String volumeName , java.lang.String snapshotName , java.lang.String description , boolean force ) ;
public static java.util.ArrayList < org.ovirt.engine.core.compat.Guid > getGuidListFromString ( java.lang.String str ) { if ( org.apache.commons.lang.StringUtils.isEmpty ( str ) ) { return new java.util.ArrayList < > ( ) ; } return org.ovirt.engine.core.utils.GuidUtils.getGuidListFromStringArray ( java.util.Arrays.asList ( str.split ( org.ovirt.engine.core.utils.GuidUtils.SEPARATOR ) ) ) ; }
private org.ovirt.engine.core.common.businessentities.StorageServerConnections setUpConnectionExpectations ( ) { org.ovirt.engine.core.common.businessentities.StorageServerConnections connection = new org.ovirt.engine.core.common.businessentities.StorageServerConnections ( ) ; connection.setid ( org.ovirt.engine.api.restapi.resource.BackendAttachedStorageDomainResourceTest.STORAGE_CONNECTION_ID.toString ( ) ) ; connection.setconnection ( ( "10.11.12.13" + ( ":" + "/1" ) ) ) ; return connection ; }
public void testGet ( ) { setUriInfo ( setUpBasicUriExpectations ( ) ) ; resource.setParent ( getCollectionResourceMock ( ) ) ; org.ovirt.engine.api.model.Hook hook = resource.get ( ) ; org.junit.Assert.assertEquals ( org.ovirt.engine.api.restapi.resource.BackendHostHookResourceTest.EVENT_2_NAME , hook.getEventName ( ) ) ; }
protected org.ovirt.engine.core.bll.network.cluster.UpdateClusterNetworkClusterValidator createValidator ( ) { return new org.ovirt.engine.core.bll.network.cluster.UpdateClusterNetworkClusterValidator ( interfaceDao , networkDao , networkCluster ) ; }
public javax.xml.bind.JAXBElement < org.ovirt.engine.sdk.entities.GuestNicsConfiguration > createGuestNicsConfiguation ( org.ovirt.engine.sdk.entities.GuestNicsConfiguration value ) { return new javax.xml.bind.JAXBElement < org.ovirt.engine.sdk.entities.GuestNicsConfiguration > ( org.ovirt.engine.sdk.entities.ObjectFactory._GuestNicsConfiguation_QNAME , org.ovirt.engine.sdk.entities.GuestNicsConfiguration.class , null , value ) ; }
private boolean acquireLock ( org.ovirt.engine.core.utils.lock.EngineLock lock ) { return org.ovirt.engine.core.utils.lock.LockManagerFactory.getLockManager ( ) . acquireLock ( lock ) . getFirst ( ) ; }
public java.lang.Void call ( ) { closeChannel ( ) ; return null ; }
protected void setStatus ( ) { setStatus ( VDSStatus.NonResponsive ) ; }
public void setAutoSuspend ( boolean value ) { this . vmStatic.setAutoSuspend ( value ) ; }
public boolean IsFieldUpdatable ( java.lang.Enum < ? > status , java.lang.String name , java.lang.Object fieldContainer ) { return IsFieldUpdatable ( status , name , fieldContainer , false ) ; }
public static void logAndFailTaskOfCommandWithEmptyVdsmId ( org.ovirt.engine.core.common.businessentities.AsyncTasks task , java.lang.String message ) { org.ovirt.engine.core.bll.tasks.TaskManagerUtil.getAsyncTaskManager ( ) . logAndFailTaskOfCommandWithEmptyVdsmId ( task , message ) ; }
public org.ovirt.engine.ui.common.widget.uicommon.popup.vm.PopupWidgetConfig withSpecialMark ( ) { return new org.ovirt.engine.ui.common.widget.uicommon.popup.vm.PopupWidgetConfig ( advancedOnly , alwaysHidden , true , adminOnly ) ; }
public void testIsNetworkInSyncWhenBootProtocolNotStaticAddressDifferent ( ) throws java.lang.Exception { initIpConfigurationBootProtocolAddress ( NetworkBootProtocol.NONE , false ) ; org.junit.Assert.assertThat ( createTestedInstance ( ) . isNetworkInSync ( ) , org.hamcrest.CoreMatchers.is ( true ) ) ; }
public java.lang.String getValue ( org.ovirt.engine.core.common.businessentities.VDSGroup object ) { return object.getcompatibility_version ( ) . getValue ( ) ; }
protected org.ovirt.engine.ui.uicommonweb.UICommand resolveCommand ( ) { return getDetailModel ( ) . getManageEventsCommand ( ) ; }
public org.ovirt.engine.core.common.businessentities.network.HostNetworkQos getHostNetworkQos ( ) { if ( networkAttachment.isQosOverridden ( ) ) { return networkAttachment.getHostNetworkQos ( ) ; } else { return networkQos ; } }
protected org.ovirt.engine.api.model.Network addParents ( org.ovirt.engine.api.model.Network model ) { org.ovirt.engine.api.model.Qos qos = model.getQos ( ) ; if ( qos != null ) { qos.setDataCenter ( model.getDataCenter ( ) ) ; } return model ; }
public void releaseLock ( org.ovirt.engine.core.compat.Guid clusterId ) { getLockManager ( ) . releaseLock ( getEngineLock ( clusterId ) ) ; }
public void testGetAllClustersByDefaultNetworkProviderId ( ) { org.junit.Assert.assertThat ( dao.getAllClustersByDefaultNetworkProviderId ( FixturesTool.OVN_NETWORK_PROVIDER_ID ) . size ( ) , org.hamcrest.CoreMatchers.is ( 3 ) ) ; }
protected void ExecuteQuery ( ) { org.ovirt.engine.core.common.businessentities.LdapUser user = org.ovirt.engine.core.bll.adbroker.InternalBrokerUtils.getUserByUserGuid ( getUserId ( ) ) ; if ( user != null ) { setSucceeded ( true ) ; setReturnValue ( user ) ; } else { setSucceeded ( false ) ; } }
public java.lang.Void runInTransaction ( ) { getDbFacade ( ) . getVdsCpuStatisticsDAO ( ) . removeAllCpuStatisticsByVdsId ( _vds.getId ( ) ) ; getDbFacade ( ) . getVdsCpuStatisticsDAO ( ) . massSaveCpuStatistics ( cpuStatisticsToSave , _vds.getId ( ) ) ; return null ; }
public void run ( ) { for ( org.ovirt.engine.core.compat.Guid vmId : vmIds ) { org.ovirt.engine.core.bll.Backend.getInstance ( ) . runInternalAction ( VdcActionType.ProcessDownVm , new org.ovirt.engine.core.common.action.IdParameters ( vmId ) ) ; } }
public int getvm_mem_size_mb ( ) { return this . mVmStatic.getmem_size_mb ( ) ; }
public void canDoAction_noAffinityGroup_Test ( ) { org.mockito.Mockito.doReturn ( null ) . when ( command ) . getAffinityGroup ( ) ; org.ovirt.engine.core.bll.CanDoActionTestUtils.runAndAssertCanDoActionFailure ( command , VdcBllMessages.ACTION_TYPE_FAILED_INVALID_AFFINITY_GROUP_ID ) ; }
public org.ovirt.engine.ui.common.presenter.AbstractModelBoundPopupPresenterWidget < ? extends org.ovirt.engine.ui.uicommonweb.models.Model , ? > getModelPopup ( org.ovirt.engine.ui.uicommonweb.models.gluster.VolumeGeoRepListModel source , org.ovirt.engine.ui.uicommonweb.UICommand lastExecutedCommand , org.ovirt.engine.ui.uicommonweb.models.Model windowModel ) { return null ; }
public java.util.ArrayList < org.ovirt.engine.core.common.action.VdcReturnValueBase > RunMultipleActions ( org.ovirt.engine.core.common.action.VdcActionType actionType , java.util.ArrayList < org.ovirt.engine.core.common.action.VdcActionParametersBase > parameters ) { java.util.ArrayList < org.ovirt.engine.core.common.action.VdcReturnValueBase > returnValue = org.ovirt.engine.ui.genericapi.GenericApiService.backend.RunMultipleActions ( actionType , parameters ) ; return returnValue ; }
protected org.ovirt.engine.api.model.QoS addParents ( org.ovirt.engine.api.model.QoS qos ) { qos.setDataCenter ( new org.ovirt.engine.api.model.DataCenter ( ) ) ; qos.getDataCenter ( ) . setId ( dataCenterId.toString ( ) ) ; return qos ; }
public void storagePoolIdDefault ( ) { final org.ovirt.engine.core.compat.Guid n = b.getStoragePoolId ( ) ; org.junit.Assert.assertNull ( n ) ; }
public void addLocators ( java.util.List < org.ovirt.api.metamodel.concepts.Locator > newLocators ) { locators.addAll ( newLocators ) ; locators.sort ( java.util.Comparator.comparing ( Locator :: getName ) ) ; }
public void clearAllDismissedAlerts ( ) { org.ovirt.engine.core.common.action.VdcActionParametersBase params = new org.ovirt.engine.core.common.action.VdcActionParametersBase ( ) ; org.ovirt.engine.ui.frontend.Frontend.getInstance ( ) . runAction ( VdcActionType.ClearAllDismissedAuditLogs , params ) ; }
protected void incrementDbGeneration ( ) { org.ovirt.engine.core.bll.storage.export.MoveOrCopyTemplateCommand.getVmStaticDao ( ) . incrementDbGeneration ( org.ovirt.engine.core.bll.storage.export.MoveOrCopyTemplateCommand.getVmTemplate ( ) . getId ( ) ) ; }
protected void ExecuteVmCommand ( ) { InitVdss ( ) ; Perform ( ) ; ProcessVm ( ) ; org.ovirt.engine.core.bll.MigrateVmCommand.setSucceeded ( true ) ; }
private org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface createVlan ( java.lang.String baseIfaceName ) { org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface iface = new org.ovirt.engine.core.common.businessentities.network.Vlan ( org.ovirt.engine.core.utils.RandomUtils.instance ( ) . nextInt ( 100 ) , baseIfaceName ) ; return iface ; }
public void testValidateGateway ( ) throws java.lang.Exception { host.setVdsGroupCompatibilityVersion ( Version.v3_5 ) ; doTestValidateGateway ( "someGateway" , false , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( EngineMessage.NETWORK_ATTACH_ILLEGAL_GATEWAY ) ) ; }
public void setvm_pid ( java.lang.Integer value ) { this . vm_pid = value ; }
protected void proceedProxyReturnValue ( ) { try { super . proceedProxyReturnValue ( ) ; } catch ( org.ovirt.engine.core.vdsbroker.vdsbroker.VDSNetworkException ignored ) { org.ovirt.engine.core.vdsbroker.vdsbroker.PollVDSCommand.log.debug ( "VDSNetworkException was caught and ignored" , ignored ) ; } }
public void testUpdateVdsReinstallRequired ( ) { dao.updateReinstallRequired ( getExistingEntityId ( ) , true ) ; org.junit.Assert.assertTrue ( dao.get ( getExistingEntityId ( ) ) . isReinstallRequired ( ) ) ; }
public void validateVmMemoryCanStartOnVdsBecauseOfLowGuestOverhead ( ) { vds.setGuestOverhead ( 0 ) ; boolean vmPassedMemoryRequirement = org.ovirt.engine.core.bll.scheduling.SlaValidator.getInstance ( ) . hasPhysMemoryToRunVM ( vds , vm , 65 ) ; org.junit.Assert.assertEquals ( vmPassedMemoryRequirement , true ) ; }
com.google.gwt.user.cellview.client.CellTable.Resources getTableResources ( ) { return com.google.gwt.core.client.GWT.create ( org.ovirt.engine.ui.common.SubTableResources.class ) ; }
public void setUp ( ) throws java.lang.Exception { super . setUp ( ) ; dao = dbFacade.getVmDynamicDAO ( ) ; existingVm = dao.get ( new org.ovirt.engine.core.compat.Guid ( "77296e00-0cad-4e5a-9299-008a7b6f4355" ) ) ; existingVm.setstatus ( VMStatus.Up ) ; newVmDynamic = new org.ovirt.engine.core.common.businessentities.VmDynamic ( ) ; }
public void rollback ( ) { super . rollback ( ) ; org.ovirt.engine.core.bll.network.macpoolmanager.MacPoolPerDcSingleton.getInstance ( ) . modifyPool ( oldMacPool ) ; }
public org.ovirt.engine.core.common.AuditLogType getAuditLogTypeValue ( ) { return org.ovirt.engine.core.bll.RemoveVmTemplateFromImportExportCommand.getSucceeded ( ) ? org.ovirt.engine.core.common.AuditLogType.IMPORTEXPORT_REMOVE_TEMPLATE : org.ovirt.engine.core.common.AuditLogType.IMPORTEXPORT_REMOVE_TEMPLATE_FAILED ; }
public void sethibernation_vol_handle ( java.lang.String value ) { this . hibernation_vol_handle = value ; }
public void setAndValidateWithoutDiskProfilesTest ( ) { map.put ( diskImage , org.ovirt.engine.core.bll.profiles.DiskProfileHelperTest.STORAGE_DOMAIN_1 ) ; org.junit.Assert.assertEquals ( ValidationResult.VALID , diskProfileHelper.setAndValidateDiskProfiles ( map , dbUser ) ) ; }
protected void SelectedItemsChanged ( ) { super . OnSelectedItemChanged ( ) ; updateActionAvailability ( ) ; }
private java.util.List < org.ovirt.engine.core.common.businessentities.Cluster > getClusters ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.Cluster > list = new java.util.ArrayList < > ( ) ; list.add ( createCluster ( 0 , Version.v3_2 ) ) ; list.add ( createCluster ( 1 , Version.v3_3 ) ) ; return list ; }
public void Edit ( ) { commandType = org.ovirt.engine.ui.uicommonweb.models.configure.roles_ui.RoleListModel.CommandType.Edit ; org.ovirt.engine.core.common.businessentities.Role role = ( ( org.ovirt.engine.core.common.businessentities.Role ) ( getSelectedItem ( ) ) ) ; InitRoleDialog ( role ) ; }
public org.ovirt.engine.ui.uicommonweb.models.hosts.HostNicModel flush ( ) { labelsWidget.flush ( ) ; vfsConfigWidget.flush ( ) ; return driver.flush ( ) ; }
public void setUp ( ) throws java.lang.Exception { super . setUp ( ) ; prepareMocks ( ) ; setUpStorageServerConnectionLunMapDAO ( ) ; setUpStorageServerConnectionDAO ( ) ; }
protected org.ovirt.engine.core.dao.UnregisteredOVFDataDao getUnregisteredOVFDataDao ( ) { return org.ovirt.engine.core.bll.ImportVmCommandBase.getDbFacade ( ) . getUnregisteredOVFDataDao ( ) ; }
public void testNicExistsWhenNicNameIsNull ( ) { org.ovirt.engine.core.common.businessentities.network.NetworkAttachment attachment = new org.ovirt.engine.core.common.businessentities.network.NetworkAttachment ( ) ; attachment.setNicName ( null ) ; org.junit.Assert.assertThat ( createNetworkAttachmentValidator ( attachment ) . nicNameIsSet ( ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( EngineMessage.HOST_NETWORK_INTERFACE_DOES_NOT_HAVE_NAME_SET ) ) ; }
public java.util.Map < java.lang.String , java.lang.Object > glusterVolumeGeoRepConfigReset ( java.lang.String volumeName , java.lang.String slaveHost , java.lang.String slaveVolumeName , java.lang.String configKey ) ;
private java.lang.String getNetworkName ( ) { org.ovirt.engine.core.common.businessentities.network.VmNetworkInterface vmNetworkInterface = org.ovirt.engine.core.bll.network.vm.ActivateDeactivateVmNicCommand.getVmNetworkInterfaceDao ( ) . get ( org.ovirt.engine.core.bll.network.vm.ActivateDeactivateVmNicCommand.getParameters ( ) . getNicId ( ) ) ; return vmNetworkInterface == null ? null : vmNetworkInterface.getNetworkName ( ) ; }
public void saveNullList ( ) { java.lang.String result = org.ovirt.engine.core.common.utils.pm.FenceProxySourceTypeHelper.saveAsString ( null ) ; org.junit.Assert.assertNull ( result ) ; }
private java.lang.String ip ( ) { if ( supportIpv6 ) { return ( ( ipv4 ( ) ) + "|" ) + ( ipv6 ( ) ) ; } else { return ipv4 ( ) ; } }
public void testGetNumberOfImagesInExistingDomain ( ) { long numOfImages = dao.getNumberOfImagesInStorageDomain ( org.ovirt.engine.core.dao.StorageDomainDaoTest.EXISTING_DOMAIN_ID ) ; org.junit.Assert.assertEquals ( "Number of images on storage domain different than expected" , org.ovirt.engine.core.dao.StorageDomainDaoTest.NUMBER_OF_IMAGES_ON_EXISTING_DOMAIN , numOfImages ) ; }
public org.ovirt.engine.core.bll.ValidationResult hostProviderExists ( ) { return org.ovirt.engine.core.bll.ValidationResult.failWith ( VdcBllMessages.ACTION_TYPE_FAILED_PROVIDER_DOESNT_EXIST ) . when ( ( ( hostProviderConfigured ( ) ) && ( ( getProvider ( ) ) == null ) ) ) ; }
public java.lang.String getvm_ip ( ) { return this . mVmDynamic.getvm_ip ( ) ; }
public com.google.gwt.safehtml.shared.SafeHtml getTooltip ( org.ovirt.engine.ui.uicommonweb.models.EntityModel object ) { return null ; }
com.google.gwt.inject.client.AsyncProvider < org.ovirt.engine.ui.webadmin.section.main.presenter.tab.cluster.SubTabClusterPolicyPresenter > getSubTabClusterPolicyPresenter ( ) ;
protected void executeCommand ( ) { org.ovirt.engine.core.bll.RemoveRoleCommand.getRoleDao ( ) . remove ( org.ovirt.engine.core.bll.RemoveRoleCommand.getRole ( ) . getId ( ) ) ; org.ovirt.engine.core.bll.RemoveRoleCommand.setSucceeded ( true ) ; }
public void testNotExternalNetworkFailsForExternalNetwork ( ) { org.mockito.Mockito.when ( network.isExternal ( ) ) . thenReturn ( true ) ; org.junit.Assert.assertThat ( validator.notExternalNetwork ( ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( EngineMessage.ACTION_TYPE_FAILED_NOT_SUPPORTED_FOR_EXTERNAL_NETWORK ) ) ; }
public void checkValidIpConfigurationStaticBootProtocol ( ) { initIpConfigurationDetails ( Ipv4BootProtocol.STATIC_IP , true , true ) ; org.ovirt.engine.core.bll.ValidationResult actual = underTest.validateNetworkAttachmentIpConfiguration ( networkAttachments ) ; org.junit.Assert.assertEquals ( ValidationResult.VALID , actual ) ; }
public void testPrefixViewNotNullEvenIfEmpty ( ) throws java.lang.Exception { java.io.File file = writeConf ( ) ; org.ovirt.engine.core.extensions.mgr.Configuration config = org.ovirt.engine.core.extensions.mgr.Configuration.loadFile ( file ) ; org.junit.Assert.assertNotNull ( config ) ; org.ovirt.engine.core.extensions.mgr.Configuration view = config.getView ( "a" ) ; org.junit.Assert.assertNotNull ( view ) ; }
private void localize ( org.ovirt.engine.ui.webadmin.ApplicationConstants constants ) { headerLabel.setText ( constants.mainHeaderLabel ( ) ) ; }
private static org.ovirt.engine.api.restapi.util.LinkHelper.Collection getCollection ( org.ovirt.engine.api.model.BaseResource model ) { return org.ovirt.engine.api.restapi.util.LinkHelper.getCollection ( model , null ) ; }
protected boolean canDoAction ( ) { boolean result = true ; if ( ( org.ovirt.engine.core.bll.SetNonOperationalVdsCommand.getVds ( ) ) == null ) { addCanDoActionMessage ( VdcBllMessages.VDS_INVALID_SERVER_ID ) ; result = false ; } return result ; }
public com.google.gwt.resources.client.ImageResource getValue ( org.ovirt.engine.ui.uicommonweb.models.EntityModel object ) { org.ovirt.engine.core.common.businessentities.Disk disk = ( ( org.ovirt.engine.ui.uicommonweb.models.vms.DiskModel ) ( object.getEntity ( ) ) ) . getDisk ( ) ; return disk.isShareable ( ) ? resources.shareableDiskIcon ( ) : null ; }
public java.lang.Integer getusage_network_percent ( ) { return this . mVmStatistics.getusage_network_percent ( ) ; }
public void onSuccess ( java.lang.Object model , java.lang.Object returnValue ) { this . setVmsWithvNumaNodeList ( ( ( java.util.List < org.ovirt.engine.core.common.businessentities.VM > ) ( returnValue ) ) ) ; this . modelReady ( ) ; }
private void handleGeneralException ( org.ovirt.engine.core.bll.adbroker.LdapSearchExceptionHandlingResponse response , java.lang.Exception e ) { response.setTranslatedException ( e ) . setTryNextServer ( true ) . setServerScore ( Score.LOW ) ; }
public void testGetBynameAndVersion ( ) { org.ovirt.engine.core.common.businessentities.VdcOption result = dao.getByNameAndVersion ( existingOption.getoption_name ( ) , existingOption.getversion ( ) ) ; org.junit.Assert.assertNotNull ( result ) ; org.junit.Assert.assertEquals ( existingOption , result ) ; }
public java.util.concurrent.FutureTask < java.util.Map < java.lang.String , java.lang.Object > > futureGetCapabilities ( ) ;
protected org.ovirt.engine.core.common.queries.VdcQueryType getUsingEntitiesByQosIdQueryType ( ) { return org.ovirt.engine.core.common.queries.VdcQueryType.GetAllNetworksByQosId ; }
void setTooltipText ( java.lang.String title ) ;
public java.lang.String getName ( ) { return getIface ( ) . getName ( ) ; }
public void testGetAllForUserWithInvalidUser ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.tags > result = dao.getAllForUsers ( org.ovirt.engine.core.compat.Guid.NewGuid ( ) . toString ( ) ) ; org.junit.Assert.assertNotNull ( result ) ; org.junit.Assert.assertTrue ( result.isEmpty ( ) ) ; }
public org.ovirt.engine.core.bll.utils.ClusterUtils getClusterUtils ( ) { return org.ovirt.engine.core.bll.utils.ClusterUtils.getInstance ( ) ; }
public void getEngineSSHPublicKey ( ) { org.junit.Assert.assertNotNull ( org.ovirt.engine.core.bll.VdsDeploy.getEngineSSHPublicKey ( ) ) ; }
private boolean ThereAreTasksToPoll ( ) { for ( org.ovirt.engine.core.bll.SPMAsyncTask task : _tasks.values ( ) ) { if ( task.getShouldPoll ( ) ) { return true ; } } return false ; }
private void addStyles ( ) { collapseSnapshotEditor.addContentWidgetStyleName ( style.collapseEditor ( ) ) ; }
public void testCDAStoragePoolValid ( ) { vds.setId ( org.ovirt.engine.core.compat.Guid.newGuid ( ) ) ; org.ovirt.engine.core.bll.CanDoActionTestUtils.runAndAssertCanDoActionFailure ( "canDoAction did not fail on mismatch Storage Pool" , command , VdcBllMessages.CANNOT_FORCE_SELECT_SPM_VDS_NOT_IN_POOL ) ; }
public void checkStorageDomainNotEqualWithNonActiveStatus ( ) { setStorageDomainStatus ( StorageDomainStatus.Maintenance ) ; org.junit.Assert.assertTrue ( cmd.checkStorageDomainStatusNotEqual ( StorageDomainStatus.Active ) ) ; }
void SetStringValue ( java.lang.String name , java.lang.String value ) ;
public java.util.ArrayList < org.ovirt.engine.core.common.businessentities.StorageType > getStorageTypeList ( ) { return new java.util.ArrayList < org.ovirt.engine.core.common.businessentities.StorageType > ( java.util.Arrays.asList ( new org.ovirt.engine.core.common.businessentities.StorageType [ ] { org.ovirt.engine.core.common.businessentities.StorageType.ISCSI , org.ovirt.engine.core.common.businessentities.StorageType.FCP } ) ) ; }
protected org.ovirt.engine.core.common.businessentities.DbUser getDbUser ( ) { if ( ( mDbUser ) == null ) { mDbUser = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getDbUserDAO ( ) . get ( getAdUserId ( ) ) ; } return mDbUser ; }
public void oSType_SelectedItemChanged ( ) { java.lang.Integer osType = getModel ( ) . getOSType ( ) . getSelectedItem ( ) ; if ( osType != null ) { updateVirtioScsiEnabled ( vm.getId ( ) , osType ) ; } }
public static boolean vmDeviceChanged ( org.ovirt.engine.core.compat.Guid vmId , org.ovirt.engine.core.common.businessentities.VmDeviceGeneralType deviceType , org.ovirt.engine.core.common.businessentities.VmDevice device ) { return org.ovirt.engine.core.bll.utils.VmDeviceUtils.vmDeviceChanged ( vmId , deviceType , null , device ) ; }
public org.ovirt.api.metamodel.concepts.Parameter getParameter ( org.ovirt.api.metamodel.concepts.Name name ) { return parameters.stream ( ) . filter ( named ( name ) ) . findFirst ( ) . orElse ( null ) ; }
public void onSuccess ( final org.ovirt.engine.ui.frontend.communication.VdcOperation < org.ovirt.engine.core.common.action.VdcActionType , org.ovirt.engine.core.common.action.LoginUserParameters > operation , final org.ovirt.engine.core.common.action.VdcReturnValueBase result ) { org.junit.Assert.assertEquals ( "Objects should match" , loginResult , result ) ; }
public void testIsNetworkInSyncWhenStaticBootProtocolAddressEqual ( ) throws java.lang.Exception { initIpConfigurationBootProtocolAddress ( org.ovirt.engine.core.utils.NetworkInSyncWithVdsNetworkInterfaceTest.BOOT_PROTOCOL , true ) ; org.junit.Assert.assertThat ( createTestedInstance ( ) . isNetworkInSync ( ) , org.hamcrest.CoreMatchers.is ( true ) ) ; }
protected javax.ws.rs.core.Response doAdd ( org.ovirt.engine.api.model.Snapshot snapshot , boolean block ) { validateParameters ( snapshot , "description" ) ; org.ovirt.engine.core.common.action.CreateAllSnapshotsFromVmParameters snapshotParams = new org.ovirt.engine.core.common.action.CreateAllSnapshotsFromVmParameters ( parentId , snapshot.getDescription ( ) ) ; return performCreation ( VdcActionType.CreateAllSnapshotsFromVm , snapshotParams , new org.ovirt.engine.api.restapi.resource.BackendSnapshotsResource.SnapshotIdResolver ( ) , block ) ; }
private java.lang.String getConsoleUserName ( org.ovirt.engine.core.common.users.VdcUser user ) { java.lang.String domain = user.getDomainControler ( ) ; java.lang.String name = user.getUserName ( ) ; if ( ( ( org.apache.commons.lang.StringUtils.isEmpty ( name ) ) || ( name.contains ( "@" ) ) ) || ( org.apache.commons.lang.StringUtils.isEmpty ( domain ) ) ) { return name ; } else { return ( name + "@" ) + domain ; } }
public void setErrataDetailPanelVisibilty ( boolean visible ) { splitLayoutPanel.clear ( ) ; if ( visible ) { splitLayoutPanel.addSouth ( errataDetailPanel , org.ovirt.engine.ui.webadmin.section.main.view.popup.ErrataListWithDetailsPopupView.SOUTH_SIZE ) ; } splitLayoutPanel.add ( errataTableView ) ; }
protected java.lang.String createRequestToken ( ) { java.lang.String subTabName = modelProvider.getModel ( ) . getActiveDetailModel ( ) . getHashName ( ) ; java.lang.String requestToken = ( ( getSideTabRequest ( ) . getNameToken ( ) ) + ( org.ovirt.engine.ui.userportal.place.ApplicationPlaces.SUB_TAB_PREFIX ) ) + subTabName ; return requestToken ; }
public void testBeanValidations ( ) { junit.framework.Assert.assertTrue ( createCommand ( initializeMock ( 1 , 1 ) ) . validateInputs ( ) ) ; }
public void setDbName ( java.lang.String dbName ) { this . dbName = dbName ; }
private org.ovirt.engine.ui.frontend.gwtservices.GenericApiGWTServiceAsync getService ( ) { return service ; }
public void setHibernationVolHandle ( java.lang.String value ) { this . vmDynamic.setHibernationVolHandle ( value ) ; }
public org.ovirt.engine.core.common.businessentities.event_notification_methods mapRow ( java.sql.ResultSet rs , int rowNum ) throws java.sql.SQLException { org.ovirt.engine.core.common.businessentities.event_notification_methods entity = new org.ovirt.engine.core.common.businessentities.event_notification_methods ( ) ; entity.setmethod_id ( rs.getInt ( "method_id" ) ) ; entity.setmethod_type ( EventNotificationMethods.EMAIL ) ; return entity ; }
public static boolean isFieldsUpdated ( org.ovirt.engine.core.common.businessentities.VdsStatic source , org.ovirt.engine.core.common.businessentities.VdsStatic destination , java.lang.Iterable < java.lang.String > list ) { return org.ovirt.engine.core.bll.VdsHandler.updateVdsStatic.isFieldsUpdated ( source , destination , list ) ; }
protected void removeQuotaFromCache ( ) { org.ovirt.engine.core.bll.quota.QuotaManager.getInstance ( ) . removeQuotaFromCache ( getQuota ( ) . getStoragePoolId ( ) , getQuota ( ) . getId ( ) ) ; }
public org.ovirt.engine.core.bll.SPMAsyncTask createTask ( org.ovirt.engine.core.common.asynctasks.AsyncTaskType taskType , org.ovirt.engine.core.common.asynctasks.AsyncTaskParameters taskParameters ) { return org.ovirt.engine.core.bll.AsyncTaskFactory.construct ( taskType , taskParameters , false ) ; }
public void execute ( ) { try { command.Execute ( ) ; } catch ( java.lang.Exception ex ) { org.ovirt.engine.ui.common.uicommon.model.DeferredModelCommandInvoker.logger.log ( java.util.logging.Level.SEVERE , "UICommand execution failed" , ex ) ; commandFailed ( command ) ; } finally { commandFinished ( command ) ; } }
private void addVolumeToDb ( final org.ovirt.engine.core.common.businessentities.gluster.GlusterVolumeEntity createdVolume ) { createdVolume.setClusterId ( getVdsGroupId ( ) ) ; getGlusterVolumeDao ( ) . save ( createdVolume ) ; }
protected void executeCommand ( ) { org.ovirt.engine.core.bll.provider.RemoveProviderCommand.getDbFacade ( ) . getProviderDao ( ) . remove ( org.ovirt.engine.core.bll.provider.RemoveProviderCommand.getParameters ( ) . getProvider ( ) . getId ( ) ) ; org.ovirt.engine.core.bll.provider.RemoveProviderCommand.setSucceeded ( true ) ; }
public java.lang.String toString ( ) { return org.ovirt.engine.core.common.utils.ToStringBuilder.forInstance ( this ) . append ( "entityId" , entityId ) . append ( "entityType" , entityType ) . build ( ) ; }
public void taskEndSuccessfully ( ) { }
public javax.ws.rs.core.Response remove ( ) { get ( ) ; org.ovirt.engine.core.common.action.WatchdogParameters parameters = new org.ovirt.engine.core.common.action.WatchdogParameters ( ) ; parameters.setId ( instanceTypeId ) ; parameters.setVm ( false ) ; return performAction ( VdcActionType.RemoveWatchdog , parameters ) ; }
protected void afterLoad ( ) { supportedClusterVersionsSet = parseSupportedVersions ( getSupportedClusterLevels ( ) ) ; supportedEngineVersionsSet = parseSupportedVersions ( getSupportedEngines ( ) ) ; }
public void setAuthn ( java.lang.String sessionId , org.ovirt.engine.core.extensions.mgr.ExtensionProxy authn ) { setData ( sessionId , org.ovirt.engine.core.bll.session.SessionDataContainer.AUTHN_PARAMETER_NAME , authn ) ; }
public void testGetAllForVmPools ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.tags > result = dao.getAllForVmPools ( vmPool.toString ( ) ) ; assertNotNull ( result ) ; assertFalse ( result.isEmpty ( ) ) ; }
public void save ( org.ovirt.engine.core.common.businessentities.network.NetworkAttachment entity ) { verifyRelationWithHostNetworkQos ( entity ) ; hostNetworkQosDao.persistQosChanges ( entity.getId ( ) , entity.getHostNetworkQos ( ) ) ; super . save ( entity ) ; }
public void testGetStorageDomainWithWrongStatus ( ) { org.ovirt.engine.core.common.businessentities.StorageDomain result = dao.getStorageDomain ( FixturesTool.STORAGE_POOL_NFS_INACTIVE_ISO , StorageDomainType.ISO , StorageDomainStatus.Active ) ; org.junit.Assert.assertNull ( result ) ; }
public static org.ovirt.engine.ui.frontend.Frontend getInstance ( ) { return org.ovirt.engine.ui.frontend.Frontend.instance ; }
protected void getHostListByCluster ( org.ovirt.engine.core.common.businessentities.VDSGroup cluster , org.ovirt.engine.ui.frontend.AsyncQuery query ) { org.ovirt.engine.ui.frontend.Frontend.getInstance ( ) . runQuery ( VdcQueryType.GetHostsByClusterId , new org.ovirt.engine.core.common.queries.IdQueryParameters ( cluster.getId ( ) ) , query ) ; }
public void findActiveVmsUsingNetworks ( ) { mockDaos ( true ) ; java.util.List < java.lang.String > vmNames = findActiveVmsUsingNetwork.findNamesOfActiveVmsUsingNetworks ( org.ovirt.engine.core.compat.Guid.newGuid ( ) , org.ovirt.engine.core.bll.network.FindActiveVmsUsingNetworkTest.NETWORK_NAME ) ; org.junit.Assert.assertTrue ( vmNames.contains ( org.ovirt.engine.core.bll.network.FindActiveVmsUsingNetworkTest.VM_NAME ) ) ; }
public void getVmFromId ( ) { final org.ovirt.engine.core.common.businessentities.VM v = null ; b.setVm ( v ) ; b.setVmId ( org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBaseTest.GUID ) ; final org.ovirt.engine.core.common.businessentities.VM vm = b.getVm ( ) ; org.junit.Assert.assertNotNull ( vm ) ; }
protected org.ovirt.engine.core.common.businessentities.VM loadEntity ( ) { return getEntity ( org.ovirt.engine.core.common.businessentities.VM.class , VdcQueryType.GetVmByVmId , new org.ovirt.engine.core.common.queries.IdQueryParameters ( getGuid ( ) ) , getGuid ( ) . toString ( ) , true ) ; }
public java.lang.Boolean call ( ) throws java.lang.Exception { _setCliEnvironmentIfNecessary ( ( ( org.ovirt.ovirt_host_deploy.constants.OpenStackEnv.NEUTRON_LINUXBRIDGE_CONFIG_PREFIX ) + "LINUX_BRIDGE/physical_interface_mappings" ) , _openStackAgentProperties.getAgentConfiguration ( ) . getNetworkMappings ( ) ) ; return true ; }
private java.util.List < org.ovirt.engine.core.common.businessentities.Provider > getBackendCollection ( ) { if ( isFiltered ( ) ) { return getBackendCollection ( VdcQueryType.GetAllProviders , new org.ovirt.engine.core.common.queries.GetAllProvidersParameters ( org.ovirt.engine.core.common.businessentities.ProviderType.OPENSTACK_IMAGE ) ) ; } else { return getBackendCollection ( SearchType.Provider , getConstraint ( ) ) ; } }
public void setUrl ( java.lang.String value ) { if ( ! ( org.ovirt.engine.core.compat.StringHelper.stringsEqual ( url , value ) ) ) { url = value ; onPropertyChanged ( new org.ovirt.engine.ui.uicompat.PropertyChangedEventArgs ( org.ovirt.engine.ui.uicommonweb.models.providers.ProviderGeneralModel.PROPERTY_URL ) ) ; } }
public void testRemove ( ) { org.junit.Assert.assertNotNull ( dao.get ( FixturesTool.VM_NETWORK_FILTER_PARAMETER ) ) ; dao.remove ( FixturesTool.VM_NETWORK_FILTER_PARAMETER ) ; org.junit.Assert.assertNull ( dao.get ( FixturesTool.VM_NETWORK_FILTER_PARAMETER ) ) ; }
private void assertGetHostsForStorageOperationNonGluster ( java.util.List < org.ovirt.engine.core.common.businessentities.VDS > result ) { for ( org.ovirt.engine.core.common.businessentities.VDS vds : result ) { org.junit.Assert.assertThat ( vds.getClusterId ( ) , org.hamcrest.CoreMatchers.not ( org.hamcrest.core.IsEqual.equalTo ( FixturesTool.GLUSTER_CLUSTER_ID ) ) ) ; } }
protected void executeVdsIdCommand ( ) { if ( ( _vdsManager ) != null ) { _vdsManager.updateVmDynamic ( org.ovirt.engine.core.vdsbroker.UpdateVmDynamicDataVDSCommand.getParameters ( ) . getVmDynamic ( ) ) ; } else { org.ovirt.engine.core.vdsbroker.UpdateVmDynamicDataVDSCommand.getVDSReturnValue ( ) . setSucceeded ( false ) ; } }
public void searchQueryByExistentType ( ) { org.junit.Assert.assertEquals ( FixturesTool.PROVIDER_NAME , dao.getAllWithQuery ( java.lang.String.format ( "SELECT * FROM providers WHERE provider_type = '%s'" , FixturesTool.PROVIDER_TYPE.name ( ) ) ) . get ( 0 ) . getName ( ) ) ; }
private void SearchStringPrefixChanged ( ) { setHasSearchStringPrefix ( ( ! ( org.ovirt.engine.core.compat.StringHelper.isNullOrEmpty ( getSearchStringPrefix ( ) ) ) ) ) ; getAutoCompleteModel ( ) . setPrefix ( getSearchStringPrefix ( ) ) ; }
private void initInfoImages ( org.ovirt.engine.ui.common.CommonApplicationResources resources ) { infoImage = new com.google.gwt.user.client.ui.Image ( resources.dialogIconHelp ( ) ) ; infoImageHover = new com.google.gwt.user.client.ui.Image ( resources.dialogIconHelpRollover ( ) ) ; }
public void getJobsByOffsetAndPageSize ( ) { java.util.List < org.ovirt.engine.core.common.job.Job > jobsList = dao.getJobsByOffsetAndPageSize ( 0 , 20 ) ; org.junit.Assert.assertTrue ( ( ! ( jobsList.isEmpty ( ) ) ) ) ; }
public boolean Validate ( ) { getEmail ( ) . ValidateEntity ( new org.ovirt.engine.ui.uicommonweb.validation.IValidation [ ] { new org.ovirt.engine.ui.uicommonweb.validation.NotEmptyValidation ( ) , new org.ovirt.engine.ui.uicommonweb.validation.EmailValidation ( ) } ) ; return getEmail ( ) . getIsValid ( ) ; }
protected java.util.List < org.ovirt.engine.core.common.businessentities.tags > getTagsAttachedToObject ( ) { return getTagDao ( ) . getAllForVm ( org.ovirt.engine.core.bll.VmCommand.getParameters ( ) . getVmId ( ) . toString ( ) ) ; }
private void addStyles ( ) { overrideIpTablesEditor.addContentWidgetContainerStyleName ( style.overrideIpStyle ( ) ) ; activateHostAfterInstallEditor.addContentWidgetContainerStyleName ( style.activateHostAfterInstallStyle ( ) ) ; publicKeyEditor.setCustomStyle ( style.pkStyle ( ) ) ; }
public void addContentWidgetStyleName ( java.lang.String styleName ) { contentWidgetContainer.addStyleName ( styleName ) ; }
protected void onEntityChanged ( ) { super . onEntityChanged ( ) ; if ( ( getEntity ( ) ) != null ) { getSearchCommand ( ) . Execute ( ) ; } }
public void setCanDoActionMsg ( org.ovirt.engine.core.common.errors.EngineMessage canDoActionMsg ) { this . canDoActionMsg = canDoActionMsg ; }
protected void onCommonModelChange ( ) { super . onCommonModelChange ( ) ; if ( ( taskHandler ) != null ) { taskHandler.updateTree ( ) ; } }
public void setVmIp ( java.lang.String value ) { this . vmDynamic.setvm_ip ( value ) ; }
private org.ovirt.engine.core.common.businessentities.VmTemplate getBaseTemplate ( ) { if ( ( cachedBaseTemplate ) == null ) { cachedBaseTemplate = org.ovirt.engine.core.bll.AddVmTemplateCommand.getVmTemplateDAO ( ) . get ( org.ovirt.engine.core.bll.AddVmTemplateCommand.getParameters ( ) . getBaseTemplateId ( ) ) ; } return cachedBaseTemplate ; }
protected org.ovirt.engine.api.model.HostDevice addParents ( org.ovirt.engine.api.model.HostDevice model ) { model.setVm ( new org.ovirt.engine.api.model.VM ( ) ) ; model.getVm ( ) . setId ( vmId.toString ( ) ) ; return super . addParents ( model ) ; }
public void setMaxVdsMemoryOverCommit ( int value ) { maxVdsMemoryOverCommit = value ; }
private void SetIsExpandedRecursively ( boolean value , org.ovirt.engine.ui.uicommonweb.models.SystemTreeItemModel root ) { root.setIsExpanded ( value ) ; for ( org.ovirt.engine.ui.uicommonweb.models.SystemTreeItemModel model : root.getChildren ( ) ) { SetIsExpandedRecursively ( value , model ) ; } }
public void testGetClusterByClusterPolicyIdNegative ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.VDSGroup > result = dao.getClustersByClusterPolicyId ( org.ovirt.engine.core.compat.Guid.newGuid ( ) ) ; org.junit.Assert.assertTrue ( ( ( result == null ) || ( ( result.size ( ) ) == 0 ) ) ) ; }
public abstract org.ovirt.engine.core.common.businessentities.AsyncTask getByVdsmTaskId ( org.ovirt.engine.core.compat.Guid vdsmTaskId ) ;
private void setDiskStorageDomainInfo ( org.ovirt.engine.core.common.businessentities.DiskImage disk ) { java.util.ArrayList < org.ovirt.engine.core.compat.Guid > storageDomain = new java.util.ArrayList < org.ovirt.engine.core.compat.Guid > ( ) ; storageDomain.add ( imageToDestinationDomainMap.get ( disk.getId ( ) ) ) ; disk.setStorageIds ( storageDomain ) ; }
public void testGetAllForStorageEmpty ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.profiles.CpuProfile > result = dao.getAllForCluster ( org.ovirt.engine.core.compat.Guid.newGuid ( ) ) ; org.junit.Assert.assertNotNull ( result ) ; org.junit.Assert.assertTrue ( result.isEmpty ( ) ) ; }
void provisionHost ( org.ovirt.engine.core.common.businessentities.VDS vds , org.ovirt.engine.core.common.businessentities.ExternalHostGroup hg , org.ovirt.engine.core.common.businessentities.ExternalComputeResource computeResource , java.lang.String mac , java.lang.String discoverName , java.lang.String rootPassword ) ;
public java.lang.Void runInTransaction ( ) { AddVmStatic ( ) ; AddVmDynamic ( ) ; addVmInterfaces ( ) ; AddVmStatistics ( ) ; getCompensationContext ( ) . stateChanged ( ) ; return null ; }
public void insufficientStorageSpace ( ) { setupForStorageTests ( ) ; org.mockito.Mockito.doReturn ( new org.ovirt.engine.core.bll.ValidationResult ( org.ovirt.engine.core.common.errors.VdcBllMessages.ACTION_TYPE_FAILED_DISK_SPACE_LOW_ON_STORAGE_DOMAIN ) ) . when ( multipleSdValidator ) . allDomainsHaveSpaceForClonedDisks ( org.mockito.Matchers.anyList ( ) ) ; org.junit.Assert.assertFalse ( cmd.imagesRelatedChecks ( ) ) ; }
public void executeCommandWhenFailed ( ) { setupMocks ( ) ; mockBackendStatusChange ( false ) ; cmd.executeCommand ( ) ; org.junit.Assert.assertFalse ( cmd.getReturnValue ( ) . getSucceeded ( ) ) ; org.junit.Assert.assertEquals ( AuditLogType.GLUSTER_HOOK_DISABLE_FAILED , cmd.getAuditLogTypeValue ( ) ) ; }
public java.util.List < org.ovirt.engine.core.compat.Guid > getAsyncTaskIdsByEntity ( org.ovirt.engine.core.compat.Guid entityId ) { org.springframework.jdbc.core.namedparam.MapSqlParameterSource parameterSource = getCustomMapSqlParameterSource ( ) ; parameterSource.addValue ( "entity_id" , entityId ) ; return getCallsHandler ( ) . executeReadList ( "GetAsyncTasksByEntityId" , org.ovirt.engine.core.dao.AsyncTaskDAODbFacadeImpl.IdRowMapper.instance , parameterSource ) ; }
private org.ovirt.engine.api.restapi.types.Mapper < org.ovirt.engine.api.model.Cluster , org.ovirt.engine.core.common.businessentities.VDSGroup > getMapper ( ) { org.ovirt.engine.api.restapi.types.MappingLocator mappingLocator = new org.ovirt.engine.api.restapi.types.MappingLocator ( ) ; mappingLocator.populate ( ) ; return mappingLocator.getMapper ( org.ovirt.engine.api.model.Cluster.class , org.ovirt.engine.core.common.businessentities.VDSGroup.class ) ; }
public java.util.List < org.ovirt.engine.core.common.businessentities.VdsStatic > getAllForVdsGroup ( org.ovirt.engine.core.compat.Guid vdsGroup ) { return multipleResults ( entityManager.createNamedQuery ( "VdsStatic.getAllForVdsGroup" , org.ovirt.engine.core.common.businessentities.VdsStatic.class ) . setParameter ( "vdsGroupId" , vdsGroup ) ) ; }
private static void mapIPv4Addresses ( org.ovirt.engine.api.model.IpConfiguration entityIpConfiguration , org.ovirt.engine.api.model.IPv4S iPv4Configuration ) { for ( org.ovirt.engine.core.common.businessentities.network.IPv4Address iPv4Address : entityIpConfiguration.getIPv4Addresses ( ) ) { iPv4Configuration.getIPv4Addresses ( ) . add ( org.ovirt.engine.api.restapi.types.NetworkAttachmentMapper.mapIPv4Address ( iPv4Address ) ) ; } }
public void testGroupLinks ( ) { org.ovirt.engine.api.model.Group group = new org.ovirt.engine.api.model.Group ( ) ; group.setId ( org.ovirt.engine.api.restapi.util.LinkHelperTest.GROUP_ID ) ; org.ovirt.engine.api.restapi.util.LinkHelper.addLinks ( group ) ; org.junit.Assert.assertEquals ( org.ovirt.engine.api.restapi.util.LinkHelperTest.GROUP_HREF , group.getHref ( ) ) ; }
public void setDisplayType ( org.ovirt.engine.core.common.businessentities.DisplayType value ) { this . vmDynamic.setDisplayType ( value ) ; }
int readRefreshRate ( ) { java.lang.String refreshRate = clientStorage.getLocalItem ( getRefreshRateItemKey ( ) ) ; try { return new java.lang.Integer ( refreshRate ) . intValue ( ) ; } catch ( java.lang.NumberFormatException e ) { return org.ovirt.engine.ui.common.widget.refresh.AbstractRefreshManager.DEFAULT_REFRESH_RATE ; } }
private org.ovirt.engine.core.bll.ValidationResult validateCoherentNicIdentification ( org.ovirt.engine.core.common.businessentities.network.NetworkAttachment attachment ) { return validateCoherentIdentification ( attachment.getId ( ) , attachment.getNicId ( ) , attachment.getNicName ( ) , EngineMessage.NETWORK_ATTACHMENT_REFERENCES_NICS_INCOHERENTLY , existingInterfacesMap ) ; }
public void put ( org.ovirt.engine.core.compat.Guid stepId , org.ovirt.engine.core.compat.Guid commandId , org.ovirt.engine.core.compat.Guid parentCommandId , org.ovirt.engine.core.bll.tasks.SPMAsyncTask task ) ;
private void Provisioning_SelectedItemChanged ( java.lang.Object sender , org.ovirt.engine.ui.uicompat.EventArgs args ) { behavior.Provisioning_SelectedItemChanged ( ) ; }
public void onValueChange ( com.google.gwt.event.logical.shared.ValueChangeEvent < T > event ) { ctx.setInModel ( event.getValue ( ) ) ; }
public java.lang.String getNewParentTagName ( ) { org.ovirt.engine.core.common.businessentities.tags newParent = org.ovirt.engine.core.bll.TagsDirector.getInstance ( ) . GetTagById ( org.ovirt.engine.core.bll.MoveTagCommand.getParameters ( ) . getNewParentId ( ) ) ; if ( newParent != null ) { return newParent.gettag_name ( ) ; } return "[null]" ; }
public static org.ovirt.engine.core.common.businessentities.network.NetworkAttachment newNetworkAttachment ( org.ovirt.engine.core.common.businessentities.network.Network network , org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface targetNic ) { return org.ovirt.engine.ui.uicommonweb.models.hosts.network.NetworkOperation.newNetworkAttachment ( network , targetNic , null ) ; }
public void testExceptionForCommandWithNoTasks ( ) { org.ovirt.engine.core.common.action.PermissionsOperationsParametes params = new org.ovirt.engine.core.common.action.PermissionsOperationsParametes ( ) ; org.ovirt.engine.core.bll.AddPermissionCommand < org.ovirt.engine.core.common.action.PermissionsOperationsParametes > cmd = new org.ovirt.engine.core.bll.AddPermissionCommand < org.ovirt.engine.core.common.action.PermissionsOperationsParametes > ( params ) ; cmd.ConcreteCreateTask ( org.ovirt.engine.core.bll.BackwardCompatibilityTaskCreationTest.nextAsyncTaskCreationInfo ( ) , VdcActionType.Unknown ) ; }
public java.util.List < org.ovirt.engine.core.common.businessentities.VdsStatic > getAllForVdsGroup ( org.ovirt.engine.core.compat.Guid vdsGroup ) { return multipleResults ( entityManager.createNamedQuery ( "VdsStatic.getAllForVdsGroup" , org.ovirt.engine.core.common.businessentities.VdsStatic.class ) . setParameter ( "vdsGroupId" , vdsGroup ) ) ; }
public javax.ws.rs.core.Response deactivate ( org.ovirt.engine.api.model.Action action ) { org.ovirt.engine.core.common.action.HotPlugUnplugVmNicParameters params = new org.ovirt.engine.core.common.action.HotPlugUnplugVmNicParameters ( guid , org.ovirt.engine.core.common.action.PlugAction.UNPLUG ) ; params.setVmId ( ( ( org.ovirt.engine.api.restapi.resource.BackendNicsResource ) ( collection ) ) . parentId ) ; return performAction ( VdcActionType.HotPlugUnplugVmNic , params ) ; }
private org.ovirt.engine.core.vdsbroker.vdsbroker.VDSExceptionBase createException ( ) { final java.lang.String errorMessage = java.lang.String.format ( "Failed to %1$s, error = %2$s" , org.ovirt.engine.core.vdsbroker.vdsbroker.BrokerCommandBase.getCommandName ( ) , getReturnStatus ( ) . mMessage ) ; return createDefaultConcreteException ( errorMessage ) ; }
public void nameExists ( ) { newPoolNameIsAlreadyTaken ( ) ; canDoActionFailed ( VdcBllMessages.ACTION_TYPE_FAILED_STORAGE_POOL_NAME_ALREADY_EXIST.toString ( ) ) ; }
public void setEntity ( java.lang.Object value ) { if ( ( value == null ) || ( ! ( value.equals ( getEntity ( ) ) ) ) ) { super . setEntity ( value ) ; } }
public static long greatestCommonDivisor ( long a , long b ) { while ( b != 0 ) { a = b ; b = a % b ; } return a ; }
protected boolean IsUserAutorizedToRunAction ( ) { if ( log.isDebugEnabled ( ) ) { log.debugFormat ( "IsUserAutorizedToRunAction: Login - no permission check" ) ; } return true ; }
public java.util.Map < java.lang.String , java.lang.Object > glusterVolumeGeoRepStatusDetail ( java.lang.String volumeName , java.lang.String slaveHost , java.lang.String slaveVolumeName ) ;
private static void logException ( final java.lang.RuntimeException ex ) { org.ovirt.engine.core.vdsbroker.VdsManager.log.error ( "ResourceManager::refreshVdsRunTimeInfo" , ex ) ; }
org.ovirt.engine.core.vdsbroker.gluster.GlusterServicesReturnForXmlRpc glusterServiceManage ( org.ovirt.engine.core.compat.Guid serverId , java.lang.String [ ] serviceList , java.lang.String actionType , boolean failOnError ) ;
public final void SetStringValue ( java.lang.String name , java.lang.String value ) { SetValue ( name , value , ConfigCommon.defaultConfigurationVersion ) ; }
private void localize ( org.ovirt.engine.ui.webadmin.ApplicationConstants constants ) { nameEditor.setLabel ( constants.clusterPolicyNameLabel ( ) ) ; descriptionEditor.setLabel ( constants.clusterPolicyDescriptionLabel ( ) ) ; }
private org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface createBondSlave ( org.ovirt.engine.core.common.businessentities.network.Bond bond , java.lang.String slaveName ) { org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface slaveA = new org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface ( ) ; slaveA.setName ( slaveName ) ; slaveA.setBondName ( bond.getName ( ) ) ; slaveA.setBonded ( true ) ; return slaveA ; }
public void testValidate ( ) { org.ovirt.engine.core.bll.UpdateRngDeviceCommand command = mockCommand ( ) ; org.junit.Assert.assertEquals ( true , command.validate ( ) ) ; }
public static boolean isMemorySizeLegal ( org.ovirt.engine.core.common.businessentities.VmOsType osType , int memSizeInMB , java.lang.String clusterVersion ) { return ( memSizeInMB >= ( org.ovirt.engine.core.common.utils.VmValidationUtils.getMinMemorySizeInMb ( ) ) ) && ( memSizeInMB <= ( org.ovirt.engine.core.common.utils.VmValidationUtils.getMaxMemorySizeInMb ( osType , clusterVersion ) ) ) ; }
public void snapshotExistsBySnapshotReturnsInvalidResultWhenNoSnapshot ( ) throws java.lang.Exception { org.ovirt.engine.core.bll.snapshots.SnapshotsValidatorTest.validateInvalidResult ( validator.snapshotExists ( null ) , VdcBllMessages.ACTION_TYPE_FAILED_VM_SNAPSHOT_DOES_NOT_EXIST ) ; }
protected void ExecuteVdsBrokerCommand ( ) { _result = org.ovirt.engine.core.vdsbroker.vdsbroker.HSMGetAllTasksInfoVDSCommand.getBroker ( ) . getAllTasksInfo ( ) ; org.ovirt.engine.core.vdsbroker.vdsbroker.HSMGetAllTasksInfoVDSCommand.proceedProxyReturnValue ( ) ; setReturnValue ( ParseTaskInfoList ( _result.TaskInfoList ) ) ; }
private boolean isOvirtReInstallOrUpgrade ( ) { return ( org.ovirt.engine.core.bll.InstallVdsCommand.getParameters ( ) . getIsReinstallOrUpgrade ( ) ) && ( ( org.ovirt.engine.core.bll.InstallVdsCommand.getVds ( ) . getvds_type ( ) ) == ( org.ovirt.engine.core.common.businessentities.VDSType.oVirtNode ) ) ; }
public org.ovirt.engine.core.compat.Guid eval ( org.ovirt.engine.core.common.businessentities.DiskImage diskImage ) { return diskImage.getId ( ) ; }
public java.lang.Object call ( ) { getStoragePoolIsoMapDAO ( ) . remove ( new org.ovirt.engine.core.common.businessentities.StoragePoolIsoMapId ( mapToRemove.getstorage_id ( ) , mapToRemove.getstorage_pool_id ( ) ) ) ; return null ; }
java.lang.String pressKeyToReleaseCursor ( java.lang.String key ) ;
public void testSimpleMatches ( ) { org.ovirt.engine.core.compat.Regex regex = new org.ovirt.engine.core.compat.Regex ( "[0-9]" ) ; org.junit.Assert.assertTrue ( "A number should match" , regex.IsMatch ( "1" ) ) ; org.junit.Assert.assertFalse ( "A letter should not match" , regex.IsMatch ( "a" ) ) ; }
public java.util.ArrayList < org.ovirt.engine.ui.uicommonweb.models.userportal.UserPortalItemModel > GetUpVms ( java.lang.Iterable items ) { return GetUpVms ( items , false ) ; }
public void onUiCommonInit ( org.ovirt.engine.ui.common.uicommon.model.UiCommonInitEvent event ) { this . onCommonModelChange ( ) ; }
org.ovirt.engine.core.common.businessentities.StoragePool getForVdsGroup ( org.ovirt.engine.core.compat.Guid vdsGroup ) ;
private org.ovirt.engine.core.bll.SearchQuery < org.ovirt.engine.core.common.queries.SearchParameters > spySearchQuery ( org.ovirt.engine.core.common.queries.SearchParameters searchParam ) { org.ovirt.engine.core.bll.SearchQuery < org.ovirt.engine.core.common.queries.SearchParameters > searchQuery = org.mockito.Mockito.spy ( new org.ovirt.engine.core.bll.SearchQuery < org.ovirt.engine.core.common.queries.SearchParameters > ( searchParam ) ) ; return searchQuery ; }
public void validateFailsOnNullCluster ( ) { cmd.setClusterId ( null ) ; org.junit.Assert.assertFalse ( cmd.validate ( ) ) ; org.junit.Assert.assertTrue ( cmd.getReturnValue ( ) . getValidationMessages ( ) . contains ( EngineMessage.ACTION_TYPE_FAILED_CLUSTER_IS_NOT_VALID.toString ( ) ) ) ; }
public java.lang.String encode ( org.ovirt.engineextensions.aaa.ldap.ASN1OctetString value ) { return java.util.Base64.encode ( value.getValue ( ) ) ; }
public org.ovirt.engine.api.model.StorageConnectionExtension update ( org.ovirt.engine.api.model.StorageConnectionExtension incoming ) { org.ovirt.engine.api.restapi.resource.QueryIdResolver resolver = new org.ovirt.engine.api.restapi.resource.QueryIdResolver ( org.ovirt.engine.core.common.queries.VdcQueryType.GetStorageServerConnectionExtensionById , org.ovirt.engine.core.common.queries.IdQueryParameters.class ) ; return performUpdate ( incoming , resolver , ActionType.UpdateStorageServerConnectionExtension , new org.ovirt.engine.api.restapi.resource.BackendStorageServerConnectionExtensionResource.UpdateParametersProvider ( ) ) ; }
public void getUsbPolicyOnUpdateCurrentlyLegacyGotDisabledLegacyPolicyUsb ( ) { org.ovirt.engine.api.model.Usb usb = new org.ovirt.engine.api.model.Usb ( ) ; usb.setEnabled ( false ) ; usb.setType ( "legacy" ) ; assertEquals ( org.ovirt.engine.api.restapi.types.VmMapper.getUsbPolicyOnUpdate ( usb , UsbPolicy.ENABLED_LEGACY , null ) , UsbPolicy.DISABLED ) ; }
protected org.ovirt.engine.core.dao.DiskImageDynamicDao getDiskImageDynamicDao ( ) { return org.ovirt.engine.core.bll.ImportVmCommandBase.getDbFacade ( ) . getDiskImageDynamicDao ( ) ; }
public int compare ( org.ovirt.engine.core.common.businessentities.storage_domains x , org.ovirt.engine.core.common.businessentities.storage_domains y ) { return x.getstorage_name ( ) . compareTo ( y.getstorage_name ( ) ) ; }
protected void EntityPropertyChanged ( java.lang.Object sender , org.ovirt.engine.ui.uicompat.PropertyChangedEventArgs e ) { super . EntityPropertyChanged ( sender , e ) ; if ( e.PropertyName.equals ( "name" ) ) { getSearchCommand ( ) . Execute ( ) ; } }
private boolean balloonEnabled ( org.ovirt.engine.ui.uicommonweb.models.vms.UnitVmModel model ) { return ( model.getMemoryBalloonDeviceEnabled ( ) . getEntity ( ) ) && ( ( model.getSelectedCluster ( ) . getcompatibility_version ( ) . compareTo ( org.ovirt.engine.ui.uicommonweb.models.vms.VmListModel.BALLOON_DEVICE_MIN_VERSION ) ) >= 0 ) ; }
private void selectAsSPM ( ) { org.ovirt.engine.core.common.action.ForceSelectSPMParameters params = new org.ovirt.engine.core.common.action.ForceSelectSPMParameters ( ( ( org.ovirt.engine.core.common.businessentities.VDS ) ( getSelectedItem ( ) ) ) . getId ( ) ) ; org.ovirt.engine.ui.frontend.Frontend.RunAction ( VdcActionType.ForceSelectSPM , params ) ; }
public < T > org.ovirt.engine.core.common.businessentities.network.ReportedConfigurations add ( org.ovirt.engine.core.common.businessentities.network.ReportedConfigurationType type , T actual , T expected ) { final boolean inSync = org.ovirt.engine.core.common.utils.ObjectUtils.objectsEqual ( actual , expected ) ; return add ( type , actual , expected , inSync ) ; }
public void testValidateGatewayWhenGatewayIsNotSpecified ( ) throws java.lang.Exception { doTestValidateGateway ( "" , false , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.isValid ( ) ) ; }
public void onResponseReceived ( com.google.gwt.http.client.Request request , com.google.gwt.http.client.Response response ) { java.lang.String tokenValue = org.ovirt.engine.ui.common.utils.HttpUtils.getHeader ( response , "OVIRT-SSO-TOKEN" ) ; if ( tokenValue != null ) { org.ovirt.engine.ui.frontend.communication.SSOTokenChangeEvent.fire ( eventBus , tokenValue ) ; } callback.onResponseReceived ( request , response ) ; }
public void eventRaised ( org.ovirt.engine.ui.uicompat.Event < ? extends org.ovirt.engine.ui.uicompat.EventArgs > ev , java.lang.Object sender , org.ovirt.engine.ui.uicompat.EventArgs args ) { getCommonPassword ( ) . setIsChangable ( getUseCommonPassword ( ) . getEntity ( ) ) ; getApplyPasswordCommand ( ) . setIsExecutionAllowed ( getUseCommonPassword ( ) . getEntity ( ) ) ; }
public java.lang.Object Convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { if ( source != null ) { return source ; } return new java.util.HashMap ( ) ; }
public void setactual_size ( long size ) { this . actualSize = size ; }
public void passthroughChangedNotUsedByVms ( ) { passthroughNotChangedIfUsedByVmsTest ( false , true , false ) ; org.junit.Assert.assertThat ( validator.passthroughNotChangedIfUsedByVms ( ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.isValid ( ) ) ; }
static com.gwtplatform.mvp.client.TabData getTabData ( org.ovirt.engine.ui.common.uicommon.model.SearchableDetailModelProvider < org.ovirt.engine.core.common.businessentities.storage.Disk , org.ovirt.engine.ui.uicommonweb.models.vms.VmListModel < java.lang.Void > , org.ovirt.engine.ui.uicommonweb.models.vms.VmDiskListModel > modelProvider ) { return new org.ovirt.engine.ui.common.widget.tab.ModelBoundTabData ( org.ovirt.engine.ui.webadmin.section.main.presenter.tab.virtualMachine.SubTabVirtualMachineVirtualDiskPresenter.constants.virtualMachineVirtualDiskSubTabLabel ( ) , 2 , modelProvider ) ; }
public org.ovirt.engine.api.resource.HostNumaNodeResource getHostNumaNodeSubResource ( @ javax.ws.rs.PathParam ( value = "id" ) java.lang.String id ) ;
protected org.ovirt.engine.core.compat.Guid getEntityGuid ( ) { return org.ovirt.engine.ui.uicommonweb.DataProvider.GetEntityGuid ( getEntity ( ) ) ; }
public void saveAll ( java.util.Collection < org.ovirt.engine.core.common.businessentities.VdsDynamic > entities ) { updateAll ( entities ) ; }
public void goForward ( ) { org.ovirt.engine.ui.common.uicommon.model.DataBoundTabModelProvider.getModel ( ) . getSearchNextPageCommand ( ) . Execute ( ) ; }
private boolean isVnicProfileChanged ( org.ovirt.engine.core.common.businessentities.network.VmNic oldNic , org.ovirt.engine.core.common.businessentities.network.VmNic newProfile ) { return ! ( org.apache.commons.lang.ObjectUtils.equals ( oldNic.getVnicProfileId ( ) , newProfile.getVnicProfileId ( ) ) ) ; }
private void mockStorageDomainDAOGetForStoragePool ( int domainSpaceGB , org.ovirt.engine.core.compat.Guid storageDomainId ) { org.mockito.Mockito.when ( sdDAO.getForStoragePool ( storageDomainId , org.ovirt.engine.core.bll.RemoveSnapshotCommandTest.STORAGE_POOLD_ID ) ) . thenReturn ( org.ovirt.engine.core.bll.RemoveSnapshotCommandTest.createStorageDomain ( domainSpaceGB , storageDomainId ) ) ; }
public boolean runInThread ( java.lang.Runnable runnable ) { try { executorService.submit ( runnable ) ; return true ; } catch ( java.util.concurrent.RejectedExecutionException e ) { return false ; } }
private void logSsoOnDesktopFailed ( org.ovirt.engine.ui.uicommonweb.ILogger logger , java.lang.String vmName ) { logger.Info ( ( ( "SpiceConsoleManager::Connect: Failed to perform SSO on Destkop " + vmName ) + ", cancel open spice console request." ) ) ; }
private org.ovirt.engine.core.bll.ValidationResult storagePoolExists ( ) { return ( org.ovirt.engine.core.bll.network.dc.UpdateNetworkCommand.getStoragePool ( ) ) == null ? new org.ovirt.engine.core.bll.ValidationResult ( org.ovirt.engine.core.dal.VdcBllMessages.ACTION_TYPE_FAILED_STORAGE_POOL_NOT_EXIST ) : org.ovirt.engine.core.bll.ValidationResult.VALID ; }
public void validateEnumsWrongArchitecture ( ) { org.ovirt.engine.api.model.CPU entity = new org.ovirt.engine.api.model.CPU ( ) ; entity.setArchitecture ( "wrongarchitecture" ) ; new org.ovirt.engine.api.restapi.resource.validation.CPUValidator ( ) . validateEnums ( entity ) ; }
public void testGetRelevantQuotasExistingVdsGroup ( ) throws java.lang.Exception { assertGetAllRelevantQuoatsForVdsGroup ( FixturesTool.VDS_GROUP_RHEL6_NFS , org.ovirt.engine.core.dao.QuotaDAOTest.NUM_QUOTAS ) ; }
protected void executeCommand ( ) { org.ovirt.engine.core.bll.AddVmToPoolCommand.getVmPoolDao ( ) . addVmToPool ( new org.ovirt.engine.core.common.businessentities.VmPoolMap ( org.ovirt.engine.core.bll.AddVmToPoolCommand.getVmId ( ) , org.ovirt.engine.core.bll.AddVmToPoolCommand.getVmPoolId ( ) ) ) ; org.ovirt.engine.core.bll.AddVmToPoolCommand.setSucceeded ( true ) ; }
protected void InitDetailModels ( ) { super . InitDetailModels ( ) ; org.ovirt.engine.core.compat.ObservableCollection < org.ovirt.engine.ui.uicommonweb.models.EntityModel > list = new org.ovirt.engine.core.compat.ObservableCollection < org.ovirt.engine.ui.uicommonweb.models.EntityModel > ( ) ; list.add ( new org.ovirt.engine.ui.uicommonweb.models.configure.roles_ui.RolePermissionListModel ( ) ) ; setDetailModels ( list ) ; }
public org.ovirt.engine.ui.uicommonweb.models.vms.ConsoleModel read ( boolean value , org.ovirt.engine.ui.uicommonweb.models.vms.ConsoleModel model ) { if ( model instanceof org.ovirt.engine.ui.uicommonweb.models.vms.SpiceConsoleModel ) { updateModel ( ( ( org.ovirt.engine.ui.uicommonweb.models.vms.SpiceConsoleModel ) ( model ) ) . getspice ( ) , value ) ; } return model ; }
public void validateVmMemoryCanStartOnVdsHostTooSmallButLowOverhead ( ) { vds.setMemFree ( 8835L ) ; vds.setGuestOverhead ( 0 ) ; boolean vmPassedMemoryRequirement = org.ovirt.engine.core.bll.scheduling.SlaValidator.getInstance ( ) . hasPhysMemoryToRunVM ( vds , vm , 0 ) ; org.junit.Assert.assertEquals ( vmPassedMemoryRequirement , true ) ; }
public static java.util.function.Predicate < org.ovirt.api.metamodel.concepts.Concept > named ( org.ovirt.api.metamodel.concepts.Name name ) { return ( x ) -> java.util.Objects.equals ( x.getName ( ) , name ) ; }
public boolean eval ( org.ovirt.engine.core.common.businessentities.StorageDomain a ) { return ( ( a.getstorage_domain_type ( ) ) == ( org.ovirt.engine.core.common.businessentities.StorageDomainType.Master ) ) && ( ( a.getstatus ( ) ) == ( org.ovirt.engine.core.common.businessentities.StorageDomainStatus.Active ) ) ; }
private void addHostDeviceColumn ( org.ovirt.engine.ui.common.widget.editor.EntityModelCellTable < org.ovirt.engine.ui.uicommonweb.models.ListModel < org.ovirt.engine.ui.uicommonweb.models.EntityModel < org.ovirt.engine.core.common.businessentities.HostDeviceView > > > hostDeviceTable , java.lang.String header , org.ovirt.engine.ui.common.widget.table.column.AbstractTextColumn < org.ovirt.engine.ui.uicommonweb.models.EntityModel < org.ovirt.engine.core.common.businessentities.HostDeviceView > > column ) { column.makeSortable ( ) ; hostDeviceTable.addColumn ( column , header ) ; }
protected void initDetailModels ( ) { super . initDetailModels ( ) ; org.ovirt.engine.ui.uicompat.ObservableCollection < org.ovirt.engine.ui.uicommonweb.models.EntityModel > list = new org.ovirt.engine.ui.uicompat.ObservableCollection < org.ovirt.engine.ui.uicommonweb.models.EntityModel > ( ) ; list.add ( new org.ovirt.engine.ui.uicommonweb.models.configure.roles_ui.RolePermissionListModel ( ) ) ; setDetailModels ( list ) ; }
protected java.util.Map < java.lang.String , org.ovirt.engine.core.common.utils.Pair < java.lang.String , java.lang.String > > getExclusiveLocks ( ) { return java.util.Collections.singletonMap ( org.ovirt.engine.core.bll.storage.AddStoragePoolWithStoragesCommand.getStoragePoolId ( ) . toString ( ) , org.ovirt.engine.core.bll.LockMessagesMatchUtil.makeLockingPair ( LockingGroup.POOL , VdcBllMessages.ACTION_TYPE_FAILED_OBJECT_LOCKED ) ) ; }
public boolean getRefreshStatistics ( ) { if ( ( vmsRefresher ) == null ) { return false ; } return vmsRefresher.getRefreshStatistics ( ) ; }
private void assertValidateMsgCount ( java.util.List < java.lang.String > validationMessages , java.lang.String msg , int count ) { org.junit.Assert.assertEquals ( java.util.Collections.frequency ( validationMessages , msg ) , count ) ; }
protected void onSelectedItemChanged ( ) { super . onSelectedItemChanged ( ) ; updateActionAvailability ( ) ; }
public void onTabAccessibleChange ( org.ovirt.engine.ui.common.widget.tab.TabAccessibleChangeEvent event ) { getView ( ) . recalculateSize ( ) ; getView ( ) . showScrollButtons ( ) ; }
public void testGetTreeForEntityWithClusterType ( ) { baseTestGetTreeForEntity ( org.ovirt.engine.core.dao.PermissionDaoTest.CLUSTER_ENTITY_ID , VdcObjectType.VdsGroups , org.ovirt.engine.core.dao.PermissionDaoTest.VDS_GROUP_ID ) ; }
org.ovirt.engine.core.common.action.PersistentSetupNetworksParameters buildParameters ( org.ovirt.engine.core.compat.Guid vdsId , java.util.List < org.ovirt.engine.core.common.businessentities.network.Network > labeledNetworksToBeAdded , java.util.List < org.ovirt.engine.core.common.businessentities.network.Network > labeledNetworksToBeRemoved , java.util.Map < java.lang.String , org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface > nicsByLabel , java.util.List < org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface > labeledNicsToBeRemoved ) ;
protected org.ovirt.engine.core.compat.Guid getQuotaId ( ) { if ( ( ( getNewDisk ( ) ) != null ) && ( isDiskImage ( ) ) ) { return ( ( org.ovirt.engine.core.common.businessentities.storage.DiskImage ) ( getNewDisk ( ) ) ) . getQuotaId ( ) ; } return null ; }
public void cleaningCompensationDataAfterSuccess ( ) { macsToReleaseOnCommit.forEach ( macPool :: freeMac ) ; }
public void sendMessage ( byte [ ] message ) { send ( new org.ovirt.vdsm.jsonrpc.client.reactors.stomp.impl.Message ( ) . send ( ) . withHeader ( org.ovirt.vdsm.jsonrpc.client.reactors.stomp.impl.Message.HEADER_DESTINATION , org.ovirt.vdsm.jsonrpc.client.reactors.stomp.StompClient.REQUEST_QUEUE ) . withContent ( new java.lang.String ( message , org.ovirt.vdsm.jsonrpc.client.utils.JsonUtils.UTF8 ) ) . build ( ) ) ; }
protected org.ovirt.engine.core.dao.network.NetworkDao getNetworkDao ( ) { return mockNetworkDao ; }
public org.ovirt.vdsmfake.domain.Host getActiveHost ( ) { final java.lang.String serverName = org.ovirt.vdsmfake.ContextHolder.getServerName ( ) ; final org.ovirt.vdsmfake.domain.Host host = org.ovirt.vdsmfake.domain.VdsmManager.getInstance ( ) . getHostByName ( serverName ) ; return host ; }
private void updateProperties ( ) { org.ovirt.engine.core.common.businessentities.DbUser user = ( ( org.ovirt.engine.core.common.businessentities.DbUser ) ( getEntity ( ) ) ) ; setDomain ( user.getDomain ( ) ) ; setEmail ( user.getEmail ( ) ) ; setStatus ( user.getLdapStatus ( ) ) ; }
public void remove ( final org.ovirt.engine.core.compat.Guid commandId ) { commandMap.remove ( commandId ) ; org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getCommandEntityDao ( ) . remove ( commandId ) ; }
private void writeToAuditLog ( ) { try { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogDirector.log ( logable , getAuditLogTypeValue ( ) ) ; } catch ( java.lang.RuntimeException ex ) { log.error ( "RegisterVdsQuery::WriteToAuditLog: An exception has been thrown." , ex ) ; } }
public void Cancel ( ) { setWindow ( null ) ; org.ovirt.engine.ui.frontend.Frontend.Unsubscribe ( ) ; }
protected void validateContainerFormat ( com.woorea.openstack.glance.model.Image glanceImage ) { if ( ! ( glanceImage.getContainerFormat ( ) . equals ( org.ovirt.engine.core.bll.provider.OpenStackImageProviderProxy.GlanceImageContainer.BARE.getValue ( ) ) ) ) { throw new java.lang.RuntimeException ( "Unsupported container format" ) ; } }
public boolean Match ( org.ovirt.engine.core.common.businessentities.storage_pool source ) { return id.equals ( source.getId ( ) ) ; }
public void testIsNotLocalFsWithDefaultCluster ( ) { storagePool.setIsLocal ( true ) ; org.mockito.Mockito.doReturn ( false ) . when ( validator ) . containsDefaultCluster ( ) ; org.junit.Assert.assertTrue ( validator.isNotLocalfsWithDefaultCluster ( ) . isValid ( ) ) ; }
public void testUpdate ( ) { existingVmStatic.setdescription ( "updated" ) ; dao.update ( existingVmStatic ) ; org.ovirt.engine.core.common.businessentities.VmStatic result = dao.get ( org.ovirt.engine.core.dao.VmStaticDAOTest.EXISTING_VM_ID ) ; org.junit.Assert.assertNotNull ( result ) ; org.junit.Assert.assertEquals ( existingVmStatic , result ) ; }
protected void onSelectedItemChanged ( ) { super . onSelectedItemChanged ( ) ; updateActionAvailability ( ) ; }
protected void updateStorageDomains ( final org.ovirt.engine.core.common.businessentities.StoragePool datacenter ) { }
public void setHBAs ( java.util.Map < java.lang.String , java.util.List < java.util.Map < java.lang.String , java.lang.String > > > HBAs ) { this . mVdsDynamic.setHBAs ( HBAs ) ; }
private org.ovirt.engine.core.common.businessentities.VmTemplate lookupInstanceTypeByName ( org.ovirt.engine.api.model.Template template ) { return getEntity ( org.ovirt.engine.core.common.businessentities.VmTemplate.class , VdcQueryType.GetVmTemplate , new org.ovirt.engine.core.common.queries.GetVmTemplateParameters ( template.getName ( ) ) , "GetVmTemplate" ) ; }
public void onSuccess ( java.lang.Object model , java.lang.Object returnValue ) { setItems ( new org.ovirt.engine.ui.frontend.INewAsyncCallback ( ) { @ java.lang.Override public void onSuccess ( java.lang.Object model , java.lang.Object returnValue ) { doInit ( ) ; } } , externalVms ) ; }
public java.util.Map < java.lang.String , java.lang.Object > glusterVolumeGeoRepSessionResume ( java.lang.String volumeName , java.lang.String slaveHostName , java.lang.String slaveVolumeName , boolean force ) ;
public void checkMaskFormatValidation ( ) { runSetup ( TEST_MASK , false , false , VdcBllMessages.UPDATE_NETWORK_ADDR_IN_SUBNET_BAD_FORMAT.name ( ) ) ; runVerify ( TEST_MASK , VdcBllMessages.UPDATE_NETWORK_ADDR_IN_SUBNET_BAD_FORMAT.name ( ) ) ; }
protected org.ovirt.engine.core.common.action.VdcActionParametersBase getRemoveDiskProfileParams ( org.ovirt.engine.core.common.businessentities.profiles.DiskProfile profile ) { return new org.ovirt.engine.core.common.action.DiskProfileParameters ( profile , profile.getId ( ) ) ; }
private void initSpyCommand ( ) { org.mockito.Mockito.doReturn ( true ) . when ( command ) . validateSpaceRequirements ( ) ; org.mockito.Mockito.doReturn ( true ) . when ( command ) . checkImagesStatus ( ) ; org.mockito.Mockito.doReturn ( true ) . when ( command ) . setAndValidateDiskProfiles ( ) ; }
public void mapNoMethodSsoFromRestToBackend ( ) throws java.lang.Exception { org.ovirt.engine.api.model.Sso restSso = new org.ovirt.engine.api.model.Sso ( ) ; restSso.setMethods ( new org.ovirt.engine.api.model.Methods ( ) ) ; org.ovirt.engine.core.common.businessentities.SsoMethod expectedBackendSsoMethod = org.ovirt.engine.core.common.businessentities.SsoMethod.NONE ; junit.framework.Assert.assertEquals ( expectedBackendSsoMethod , org.ovirt.engine.api.restapi.types.SsoMapper.map ( restSso , null ) ) ; }
private void mockNullVm ( ) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBaseMockUtils.mockVmDao ( command , vmDAO ) ; mockGetForDisk ( null ) ; org.mockito.Mockito.when ( vmDAO.get ( command.getParameters ( ) . getVmId ( ) ) ) . thenReturn ( null ) ; }
public org.ovirt.engine.core.common.eventqueue.EventResult call ( ) { org.ovirt.engine.core.common.eventqueue.EventResult result = new org.ovirt.engine.core.common.eventqueue.EventResult ( true , org.ovirt.engine.core.common.eventqueue.EventType.DOMAINMONITORING ) ; updateProblematicVdsData ( vdsId , vdsName , domainsInProblems ) ; updateMaintenanceVdsData ( vdsId , vdsName , domainsInMaintenance ) ; return result ; }
private void mockSameNameQuery ( boolean result ) { org.mockito.Mockito.doReturn ( result ) . when ( command ) . isVmWithSameNameExists ( org.mockito.Matchers.anyString ( ) , org.mockito.Matchers.any ( org.ovirt.engine.core.compat.Guid.class ) ) ; }
protected org.ovirt.engine.core.common.businessentities.network getEntity ( int index ) { return org.ovirt.engine.api.restapi.resource.AbstractBackendNetworksResourceTest.setUpEntityExpectations ( control.createMock ( org.ovirt.engine.core.common.businessentities.network.class ) , false , index ) ; }
public java.lang.String getVdcUserNameAndDomain ( ) { java.lang.String username = org.ovirt.engine.ui.frontend.Frontend.getLoggedInUser ( ) . getUserName ( ) ; java.lang.String domain = org.ovirt.engine.ui.frontend.Frontend.getLoggedInUser ( ) . getDomainControler ( ) ; return username.contains ( "@" ) ? username : ( username + "@" ) + domain ; }
public org.ovirt.engine.core.common.businessentities.VmPauseStatus getVmPauseStatus ( ) { return this . mVmDynamic.getPauseStatus ( ) ; }
public java.lang.Object Convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { return source != null ? ( ( java.util.Set < org.ovirt.engine.core.common.businessentities.AdditionalFeature > ) ( source ) ) : new java.util.HashSet < org.ovirt.engine.core.common.businessentities.AdditionalFeature > ( ) ; }
protected void OnEntityChanged ( ) { super . OnEntityChanged ( ) ; if ( ( super . getEntity ( ) ) != null ) { UpdateProperties ( ) ; } }
private static void detachNetwork ( java.util.List < org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface > allNics , org.ovirt.engine.ui.uicommonweb.models.hosts.network.LogicalNetworkModel networkToDetach ) { if ( networkToDetach.hasVlan ( ) ) { allNics.remove ( networkToDetach.getVlanNicModel ( ) . getEntity ( ) ) ; } networkToDetach.detach ( ) ; }
private java.util.List < org.ovirt.engine.core.common.businessentities.network.Network > getClusterNetworks ( ) { if ( ( cachedClusterNetworks ) == null ) { cachedClusterNetworks = getNetworkDao ( ) . getAllForCluster ( vm.getVdsGroupId ( ) ) ; } return cachedClusterNetworks ; }
public void setUp ( ) { org.ovirt.engine.core.bll.VmHandler.Init ( ) ; }
protected boolean isTemplateInValidDc ( ) { return org.ovirt.engine.core.bll.AddVmCommand.getVmTemplate ( ) . getStoragePoolId ( ) . equals ( org.ovirt.engine.core.bll.AddVmCommand.getStoragePoolId ( ) ) ; }
protected java.util.List < org.ovirt.engine.core.common.businessentities.tags > GetTagsAttachedToObject ( ) { return getTagDAO ( ) . getAllForVm ( org.ovirt.engine.core.bll.VmCommand.getParameters ( ) . getVmId ( ) . toString ( ) ) ; }
public void eventRaised ( org.ovirt.engine.ui.uicompat.Event < ? extends org.ovirt.engine.ui.uicompat.EventArgs > ev , java.lang.Object sender , org.ovirt.engine.ui.uicompat.EventArgs args ) { org.ovirt.engine.core.common.businessentities.VDSGroup entity = modelProvider.getModel ( ) . getEntity ( ) ; if ( entity != null ) { setMainTabSelectedItem ( entity ) ; } }
protected void mockFenceAgent ( ) { fenceAgents = createSingleAgentList ( 1 ) ; org.mockito.Mockito.doReturn ( fenceAgents ) . when ( fencedHost ) . getFenceAgents ( ) ; }
public void testExistingPassDiscardFunctionalityIsPreservedSdHasNoDisks ( ) { setSdFullDiscardSupport ( ) ; org.junit.Assert.assertTrue ( discardHelper.isExistingPassDiscardFunctionalityPreserved ( new java.util.LinkedList < > ( ) , storageDomain ) ) ; }
private java.lang.String getCallBackMethod ( org.ovirt.engine.core.compat.CommandStatus status ) { switch ( status ) { case FAILED : case FAILED_RESTARTED : return "onFailed" ; case SUCCEEDED : return "onSucceeded" ; case ACTIVE : return "doPolling" ; default : return "Unknown" ; } }
public void setConsoleCurrentUserName ( java.lang.String value ) { this . vmDynamic.setConsole_current_user_name ( value ) ; }
protected void endWithFailure ( ) { updateOldImageActive ( SnapshotType.ACTIVE , true ) ; org.ovirt.engine.core.bll.TryBackToSnapshotCommand.UndoActionOnSourceAndDestination ( ) ; org.ovirt.engine.core.bll.TryBackToSnapshotCommand.setSucceeded ( true ) ; }
public void testIsNetworkInSyncWhenIpv4StaticBootProtocolAddressEqual ( ) throws java.lang.Exception { initIpv4ConfigurationBootProtocolAddress ( org.ovirt.engine.core.utils.NetworkInSyncWithVdsNetworkInterfaceTest.IPV4_BOOT_PROTOCOL , true ) ; org.junit.Assert.assertThat ( createTestedInstance ( ) . isNetworkInSync ( ) , org.hamcrest.CoreMatchers.is ( true ) ) ; }
private org.ovirt.engine.core.common.businessentities.LeaseStatus getLeaseStatus ( java.lang.Object [ ] owners ) { return org.ovirt.engine.core.vdsbroker.vdsbroker.VdsBrokerObjectsBuilder.buildLeaseStatus ( java.util.Collections.singletonMap ( "owners" , owners ) ) ; }
protected org.ovirt.engine.core.dao.profiles.DiskProfileDao getProfileDao ( ) { return getDbFacade ( ) . getDiskProfileDao ( ) ; }
private void CleanConnection ( org.ovirt.engine.core.common.businessentities.storage_server_connections connection , org.ovirt.engine.core.compat.Guid hostId ) { org.ovirt.engine.ui.frontend.Frontend.RunAction ( VdcActionType.RemoveStorageServerConnection , new org.ovirt.engine.core.common.action.StorageServerConnectionParametersBase ( connection , hostId ) , new org.ovirt.engine.ui.uicompat.IFrontendActionAsyncCallback ( ) { @ java.lang.Override public void Executed ( org.ovirt.engine.ui.uicompat.FrontendActionAsyncResult result ) { } } , this ) ; }
public boolean isLogDirSet ( ) { return ( ( getLogDir ( ) ) != null ) && ( ( getLogDir ( ) . trim ( ) . length ( ) ) > 0 ) ; }
public void executed ( org.ovirt.engine.ui.uicompat.FrontendActionAsyncResult result ) { org.ovirt.engine.core.common.action.VdcReturnValueBase returnValue = result.getReturnValue ( ) ; context.addVDSGroupReturnValue = returnValue ; prepare3 ( ) ; }
public void testGetDataAndSetDataWithEmptySession ( ) { org.junit.Assert.assertNull ( "Get should return null with an empty session" , container.getData ( "" , org.ovirt.engine.core.bll.session.SessionDataContainerTest.TEST_KEY , false ) ) ; }
public void AddIsoStorage ( ) { AddStorageInternal ( org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance ( ) . getConstants ( ) . newISOLibraryTitle ( ) , StorageDomainType.ISO ) ; }
protected org.ovirt.engine.core.common.businessentities.StorageServerConnections findConnectionWithSameDetails ( org.ovirt.engine.core.common.businessentities.StorageServerConnections connection ) { return org.ovirt.engine.core.bll.storage.connection.ISCSIStorageHelper.findConnectionWithSameDetails ( connection ) ; }
public void setConsoleCurrentUserName ( java.lang.String value ) { this . vmDynamic.setConsole_current_user_name ( value ) ; }
public void executed ( org.ovirt.engine.ui.uicompat.FrontendActionAsyncResult result ) { getCallback ( ) . vnicCreated ( id ) ; }
public void checkValidIpv6ConfigurationStaticBootProtocol ( ) { initIpv6ConfigurationDetails ( Ipv6BootProtocol.STATIC_IP , true , true ) ; org.junit.Assert.assertThat ( underTest.validateNetworkAttachmentIpConfiguration ( networkAttachments ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.isValid ( ) ) ; }
public java.lang.String renderNullSafe ( org.ovirt.engine.core.common.businessentities.StoragePool storagePool ) { return storagePool.getName ( ) ; }
public void canDoActionSucceedsInitFormatDataDomain30 ( ) { sd.setStorageFormat ( null ) ; sp.setcompatibility_version ( Version.v3_0 ) ; org.ovirt.engine.core.bll.CanDoActionTestUtils.runAndAssertCanDoActionSuccess ( cmd ) ; org.junit.Assert.assertEquals ( "Format not initialized correctly" , StorageFormatType.V1 , sd.getStorageFormat ( ) ) ; }
private boolean lunsEqual ( org.ovirt.engine.api.model.LogicalUnit firstLun , org.ovirt.engine.api.model.LogicalUnit secondLun ) { return firstLun.getId ( ) . equals ( secondLun.getId ( ) ) ; }
protected static void handleException ( java.lang.Exception e ) { throw new org.ovirt.engine.core.common.errors.VdcBLLException ( org.ovirt.engine.core.common.errors.VdcBllErrors.PROVIDER_FAILURE , e.getMessage ( ) ) ; }
public void onSuccess ( java.lang.Object target , java.lang.Object returnValue ) { org.ovirt.engine.ui.uicommonweb.models.vms.VmDiskListModel model = ( ( org.ovirt.engine.ui.uicommonweb.models.vms.VmDiskListModel ) ( target ) ) ; org.ovirt.engine.core.common.businessentities.StoragePool storagePool = ( ( org.ovirt.engine.core.common.businessentities.StoragePool ) ( returnValue ) ) ; model.setDataCenterVersion ( storagePool.getcompatibility_version ( ) ) ; }
public boolean matches ( java.lang.Object argument ) { if ( ! ( argument instanceof org.ovirt.engine.core.common.vdscommands.VdsIdVDSCommandParametersBase ) ) { return false ; } return ( ( org.ovirt.engine.core.common.vdscommands.VdsIdVDSCommandParametersBase ) ( argument ) ) . getVdsId ( ) . equals ( org.ovirt.engine.core.bll.gluster.GlusterHookSyncJobTest.SERVER_GUIDS [ 0 ] ) ; }
protected void ExecuteVdsBrokerCommand ( ) { status = org.ovirt.engine.core.vdsbroker.gluster.StartGlusterVolumeVDSCommand.getBroker ( ) . glusterVolumeStart ( org.ovirt.engine.core.vdsbroker.gluster.StartGlusterVolumeVDSCommand.getParameters ( ) . getVolumeName ( ) , org.ovirt.engine.core.vdsbroker.gluster.StartGlusterVolumeVDSCommand.getParameters ( ) . isForceAction ( ) ) ; org.ovirt.engine.core.vdsbroker.gluster.StartGlusterVolumeVDSCommand.proceedProxyReturnValue ( ) ; }
public static void RunMultipleActions ( final org.ovirt.engine.core.common.action.VdcActionType actionType , final java.util.List < org.ovirt.engine.core.common.action.VdcActionParametersBase > parameters , final org.ovirt.engine.ui.uicompat.IFrontendActionAsyncCallback successCallback ) { org.ovirt.engine.ui.frontend.Frontend.RunMultipleActions ( actionType , parameters , successCallback , null ) ; }
public void parametersWithSecureDeletionAreNotFixedOnBlockDomainWhenPostZeroIsFalse ( ) { org.ovirt.engine.core.bll.storage.domain.PostDeleteActionHandlerTest.ParametersWithPostDeleteAction parameters = org.ovirt.engine.core.bll.storage.domain.PostDeleteActionHandler.fixParameters ( new org.ovirt.engine.core.bll.storage.domain.PostDeleteActionHandlerTest.ParametersWithPostDeleteAction ( false ) , false ) ; assertPostZeroValue ( parameters , false ) ; }
private static org.ovirt.engine.core.common.businessentities.StoragePool createStoragePoolLocalFS ( ) { org.ovirt.engine.core.common.businessentities.StoragePool pool = new org.ovirt.engine.core.common.businessentities.StoragePool ( ) ; pool.setStorageType ( StorageType.LOCALFS ) ; return pool ; }
public void eventRaised ( org.ovirt.engine.ui.uicompat.Event ev , java.lang.Object sender , org.ovirt.engine.ui.uicompat.EventArgs args ) { resiliencePolicyTab.setVisible ( object.getisResiliencePolicyTabAvailable ( ) ) ; applyModeCustomizations ( ) ; }
public void setVolumeType ( org.ovirt.engine.core.common.businessentities.VolumeType type ) { volumeType = type ; }
public void setAutoSuspend ( boolean value ) { this . vmStatic.setAutoSuspend ( value ) ; }
public java.lang.Integer parse ( java.lang.CharSequence text ) throws java.text.ParseException { return incraseNumOfVmsEditor.asEditor ( ) . getValue ( ) ; }
public void testDefaultRouteNonDefaultRouteNetworkIsIgnored ( ) { iface.setIpv4DefaultRoute ( true ) ; network.setDnsResolverConfiguration ( sampleDnsResolverConfiguration ) ; org.junit.Assert.assertThat ( createTestedInstance ( false , sampleDnsResolverConfiguration ) . isNetworkInSync ( ) , org.hamcrest.CoreMatchers.is ( true ) ) ; }
public void setValue ( java.lang.String value ) { this . value = value ; }
public void numOfVfsIsNotInRange ( ) { numOfVfsInValidRange ( false ) ; assertValidateFailure ( EngineMessage.ACTION_TYPE_FAILED_NUM_OF_VFS_NOT_IN_VALID_RANGE.toString ( ) ) ; }
public void onBrowserEvent ( org.ovirt.engine.ui.common.widget.table.column.Context context , com.google.gwt.dom.client.Element parent , java.lang.String value , com.google.gwt.dom.client.NativeEvent event , com.google.gwt.cell.client.ValueUpdater < java.lang.String > valueUpdater ) { delegate.onBrowserEvent ( context , parent , value , event , valueUpdater ) ; }
protected boolean doesStorageDomainhaveSpaceForRequest ( org.ovirt.engine.core.common.businessentities.StorageDomain storageDomain , long sizeRequested ) { return validate ( new org.ovirt.engine.core.bll.validator.StorageDomainValidator ( storageDomain ) . isDomainHasSpaceForRequest ( sizeRequested ) ) ; }
public java.util.List < org.ovirt.engine.core.common.businessentities.storage_server_connections > getStorageServerConnectionsByDomain ( org.ovirt.engine.core.common.businessentities.storage_domain_static storageDomain ) { return new java.util.ArrayList < org.ovirt.engine.core.common.businessentities.storage_server_connections > ( ) ; }
public int compare ( org.ovirt.engine.core.common.businessentities.network.Network x , org.ovirt.engine.core.common.businessentities.network.Network y ) { return org.ovirt.engine.core.common.businessentities.comparators.LexoNumericComparator.comp ( x.getName ( ) , y.getName ( ) ) ; }
public javax.ws.rs.core.Response remove ( ) { get ( ) ; org.ovirt.engine.api.model.DiskProfile diskProfile = getDiskProfile ( id ) ; return performAction ( VdcActionType.RemoveDiskProfile , new org.ovirt.engine.core.common.action.DiskProfileParameters ( diskProfile ) ) ; }
public void onSuccess ( java.lang.Object target , java.lang.Object returnValue ) { org.ovirt.engine.ui.uicommonweb.models.vms.VmModelBehaviorBase behavior = this ; behavior.maxCpus = ( ( java.lang.Integer ) ( returnValue ) ) ; behavior.postUpdateNumOfSockets2 ( ) ; }
protected void moveTag ( org.ovirt.engine.core.compat.Guid newParentId ) { performAction ( VdcActionType.MoveTag , new org.ovirt.engine.core.common.action.MoveTagParameters ( guid , newParentId ) , java.lang.Void.class ) ; }
public org.ovirt.vdsmfake.service.StorageDomain getStorageDomainById ( java.lang.String id ) { return org.ovirt.vdsmfake.service.VdsmManager.getInstance ( ) . getStorageDomainById ( id ) ; }
public void testGetForStoragePoolWithInvalidId ( ) { org.ovirt.engine.core.common.businessentities.StorageDomain result = dao.getForStoragePool ( org.ovirt.engine.core.compat.Guid.NewGuid ( ) , org.ovirt.engine.core.dao.StorageDomainDAOTest.EXISTING_STORAGE_POOL_ID ) ; org.junit.Assert.assertNull ( result ) ; }
public org.ovirt.engine.core.bll.ValidationResult interfaceExists ( ) { return org.ovirt.engine.core.bll.ValidationResult.failWith ( VdcBllMessages.HOST_NETWORK_INTERFACE_NOT_EXIST ) . when ( ( ( iface ) == null ) ) ; }
protected void setActionMessageParameters ( ) { addCanDoActionMessage ( EngineMessage.VAR__ACTION__REBALANCE_STOP ) ; addCanDoActionMessage ( EngineMessage.VAR__TYPE__GLUSTER_VOLUME ) ; super . setActionMessageParameters ( ) ; }
protected void vdsNonOperational ( org.ovirt.engine.core.common.businessentities.VDS vds ) { org.ovirt.engine.core.vdsbroker.ResourceManager.getInstance ( ) . getEventListener ( ) . vdsNonOperational ( vds.getId ( ) , NonOperationalReason.KVM_NOT_RUNNING , true , true , Guid.Empty ) ; }
public org.ovirt.engine.core.common.action.VdcReturnValueBase runInternalAction ( org.ovirt.engine.core.common.action.VdcActionType actionType , org.ovirt.engine.core.common.action.VdcActionParametersBase parameters ) { return runActionImpl ( actionType , parameters , true , null ) ; }
public com.google.gwt.resources.client.ImageResource getValue ( org.ovirt.engine.core.common.businessentities.Disk object ) { return ( object.getDiskStorageType ( ) ) == ( org.ovirt.engine.core.common.businessentities.Disk.DiskStorageType.LUN ) ? resources.externalDiskIcon ( ) : null ; }
public void testInterfaceByNameExistsWhenInterfacesNameIsNull ( ) throws java.lang.Exception { org.junit.Assert.assertThat ( new org.ovirt.engine.core.bll.validator.HostInterfaceValidator ( createVdsNetworkInterfaceWithName ( null ) ) . interfaceByNameExists ( ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( VdcBllMessages.HOST_NETWORK_INTERFACE_NOT_EXIST ) ) ; }
public void testIsInStatusValid ( ) { org.junit.Assert.assertThat ( validator.isInStatus ( StoragePoolStatus.Up , StoragePoolStatus.Contend ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.isValid ( ) ) ; }
public void validate ( ) { initializeSuppliedImage ( ) ; org.junit.Assert.assertTrue ( getCommand ( ) . validate ( ) ) ; }
private void logFailureMessage ( java.lang.String messagePrefix , java.lang.RuntimeException ex ) { org.ovirt.engine.core.vdsbroker.VdsUpdateRunTimeInfo.log.errorFormat ( "{0} Error: {1}, vds = {2} : {3}" , messagePrefix , org.apache.commons.lang.exception.ExceptionUtils.getMessage ( ex ) , _vds.getId ( ) , _vds.getName ( ) ) ; }
protected void executeQueryCommand ( ) { org.ovirt.engine.core.bll.GetVmCustomPropertiesQuery.getQueryReturnValue ( ) . setReturnValue ( org.ovirt.engine.core.utils.customprop.VmPropertiesUtils.getInstance ( ) . getAllVmProperties ( ) ) ; }
protected org.ovirt.engine.api.model.VM getEntityWithProvidedId ( int index , org.ovirt.engine.core.compat.Guid vmId ) { org.ovirt.engine.api.model.VM vm = new org.ovirt.engine.api.model.VM ( ) ; return org.ovirt.engine.api.restapi.resource.BackendVmsResourceTest.setUpEntityExpectations ( vm , vm.getStatisticsData ( ) , index , vmId ) ; }
public com.google.gwt.safehtml.shared.SafeHtml getTooltip ( org.ovirt.engine.ui.uicommonweb.models.EntityModel object ) { return null ; }
public void statusNotSupportedForHostInstallation ( ) { org.mockito.Mockito.when ( oldHost.getStatus ( ) ) . thenReturn ( VDSStatus.Up ) ; validator = createValidatorForHostInstallation ( ) ; org.junit.Assert.assertThat ( validator.statusSupportedForHostInstallation ( ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( EngineMessage.VDS_CANNOT_INSTALL_STATUS_ILLEGAL ) ) ; }
private boolean runVm ( org.ovirt.engine.core.compat.Guid vmId , org.ovirt.engine.core.utils.lock.EngineLock lock ) { return org.ovirt.engine.core.bll.Backend.getInstance ( ) . runInternalAction ( VdcActionType.RunVm , new org.ovirt.engine.core.common.action.RunVmParams ( vmId ) , org.ovirt.engine.core.bll.job.ExecutionHandler.createInternalJobContext ( lock ) ) . getSucceeded ( ) ; }
protected void executeVDSCommand ( ) { org.ovirt.engine.core.vdsbroker.vdsbroker.HotUnplugNicVDSCommand.init ( ) ; status = org.ovirt.engine.core.vdsbroker.vdsbroker.HotUnplugNicVDSCommand.getBroker ( ) . hotUnplugNic ( struct ) ; org.ovirt.engine.core.vdsbroker.vdsbroker.HotUnplugNicVDSCommand.proceedProxyReturnValue ( ) ; }
public void testNoBase ( ) throws java.io.IOException { org.ovirt.engine.core.utils.archivers.tar.Tar.doTar ( new java.io.ByteArrayOutputStream ( ) , new java.io.File ( "/asdasdsadasdasdsa" ) ) ; }
public boolean eval ( org.ovirt.engine.core.common.businessentities.StorageDomain storage_domains ) { return ( storage_domains.getstorage_domain_type ( ) ) == ( org.ovirt.engine.core.common.businessentities.StorageDomainType.Master ) ; }
protected void asyncSearch ( ) { super . asyncSearch ( ) ; setAsyncResult ( org.ovirt.engine.ui.frontend.Frontend.RegisterSearch ( getSearchString ( ) , SearchType.Network , getSearchPageSize ( ) ) ) ; setItems ( getAsyncResult ( ) . getData ( ) ) ; }
public void eventRaised ( org.ovirt.engine.core.compat.Event ev , java.lang.Object sender , org.ovirt.engine.core.compat.EventArgs args ) { model.getUpdateCommand ( ) . Execute ( ) ; }
protected org.ovirt.engine.core.common.utils.ToStringBuilder appendAttributes ( org.ovirt.engine.core.common.utils.ToStringBuilder tsb ) { return super . appendAttributes ( tsb ) . append ( "diskId" , disk.getId ( ) ) ; }
protected void RunCommands ( ) { for ( org.ovirt.engine.core.bll.CommandBase < ? > command : getCommands ( ) ) { executeValidatedCommands ( command ) ; } }
private static org.ovirt.engine.core.common.businessentities.DiskImage createPreallocDiskImage ( ) { org.ovirt.engine.core.common.businessentities.DiskImage image = new org.ovirt.engine.core.common.businessentities.DiskImage ( ) ; image.setVolumeType ( VolumeType.Preallocated ) ; image.setDiskInterface ( DiskInterface.IDE ) ; image.setSizeInGigabytes ( 5 ) ; return image ; }
public void testGetForStoragePoolWithInvalidPool ( ) { org.ovirt.engine.core.common.businessentities.StorageDomain result = dao.getForStoragePool ( existingDomain.getId ( ) , org.ovirt.engine.core.compat.Guid.newGuid ( ) ) ; org.junit.Assert.assertNull ( result ) ; }
public void setAuthn ( java.lang.String sessionId , org.ovirt.engine.core.extensions.mgr.ExtensionProxy authn ) { setData ( sessionId , org.ovirt.engine.core.bll.aaa.SessionDataContainer.AUTHN_PARAMETER_NAME , authn ) ; }
public void setvds_type ( org.ovirt.engine.core.common.businessentities.VDSType value ) { this . mVdsStatic.setvds_type ( value ) ; }
com.google.gwt.safehtml.shared.SafeHtml underlinedHeader ( com.google.gwt.safehtml.shared.SafeHtml html ) ;
public org.ovirt.engine.core.bll.ValidationResult notManagementNetwork ( ) { return org.ovirt.engine.core.utils.NetworkUtils.isManagementNetwork ( network ) ? new org.ovirt.engine.core.bll.ValidationResult ( org.ovirt.engine.core.common.errors.VdcBllMessages.NETWORK_CANNOT_REMOVE_MANAGEMENT_NETWORK , java.lang.String.format ( "$NetworkName %s" , network.getName ( ) ) ) : org.ovirt.engine.core.bll.ValidationResult.VALID ; }
protected org.ovirt.engine.core.common.businessentities.storage_pool setUpStoragePool ( org.ovirt.engine.core.compat.Guid id ) { org.ovirt.engine.core.common.businessentities.storage_pool pool = control.createMock ( org.ovirt.engine.core.common.businessentities.storage_pool.class ) ; org.easymock.classextension.EasyMock.expect ( pool.getId ( ) ) . andReturn ( id ) . anyTimes ( ) ; return pool ; }
public java.lang.String getDisplayIp ( ) { return this . displayIp ; }
protected void AsyncSearch ( ) { super . AsyncSearch ( ) ; setAsyncResult ( org.ovirt.engine.ui.frontend.Frontend.RegisterSearch ( getSearchString ( ) , SearchType.VM , getSearchPageSize ( ) ) ) ; setItems ( getAsyncResult ( ) . getData ( ) ) ; }
java.util.Map < java.lang.String , java.lang.String > getVmToHostAssignments ( ) ;
public java.lang.Object runInTransaction ( ) { HandleVdsInformation ( ) ; vm.setrun_on_vds ( getVdsId ( ) ) ; org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getVmDynamicDAO ( ) . update ( vm.getDynamicData ( ) ) ; return null ; }
public void allCharsetCanPass ( org.ovirt.engine.core.common.utils.I18NRegexpTest.CorrectString correct ) { org.junit.Assert.assertThat ( ( ( "Check can not recognize all chars in a valid string '" + ( correct.text ) ) + "'" ) , new org.ovirt.engine.core.compat.Regex ( org.ovirt.engine.core.common.utils.I18NRegexpTest.REGEXP ) . isMatch ( correct.text ) , org.hamcrest.core.Is.is ( true ) ) ; }
public java.lang.String GetCustomValue ( final java.lang.String name ) { if ( customValues.containsKey ( name ) ) { return customValues.get ( name ) ; } return "" ; }
private void verifyManagementNetwork ( org.ovirt.engine.core.common.businessentities.Cluster updatedCluster ) { org.junit.Assert.assertEquals ( java.lang.String.format ( "%s/%s/%s/%s/%s" , org.ovirt.engine.api.restapi.resource.BASE_PATH , "clusters" , GUIDS [ 0 ] , "networks" , org.ovirt.engine.api.restapi.resource.BackendDataCenterClusterResourceTest.MANAGEMENT_NETWORK_ID ) , updatedCluster.getManagementNetwork ( ) . getHref ( ) ) ; }
public org.ovirt.engine.core.bll.ValidationResult isNotLocalfsWithDefaultCluster ( ) { if ( ( ( storagePool.getstorage_pool_type ( ) ) == ( org.ovirt.engine.core.common.businessentities.StorageType.LOCALFS ) ) && ( containsDefaultCluster ( ) ) ) { return new org.ovirt.engine.core.bll.ValidationResult ( org.ovirt.engine.core.dal.VdcBllMessages.ACTION_TYPE_FAILED_STORAGE_POOL_WITH_DEFAULT_VDS_GROUP_CANNOT_BE_LOCALFS ) ; } return org.ovirt.engine.core.bll.ValidationResult.VALID ; }
public java.lang.Object Convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { return source != null ? ( ( java.util.Collection < org.ovirt.engine.core.aaa.ProfileEntry > ) ( source ) ) : new java.util.ArrayList < org.ovirt.engine.core.aaa.ProfileEntry > ( ) ; }
public org.ovirt.engine.api.resource.VnicProfileResource getVnicProfileSubResource ( java.lang.String id ) { return inject ( new org.ovirt.engine.api.restapi.resource.BackendVnicProfileResource ( id ) ) ; }
public void setMetadataDevice ( java.lang.String metadataDevice ) { getStorageStaticData ( ) . setMetadataDevice ( metadataDevice ) ; }
public static void getVmTemplatesWithPermittedAction ( org.ovirt.engine.ui.frontend.AsyncQuery aQuery , org.ovirt.engine.core.common.businessentities.ActionGroup actionGroup ) { aQuery.converterCallback = new org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncDataProvider.TemplateConverter ( ) ; org.ovirt.engine.core.common.queries.GetEntitiesWithPermittedActionParameters getEntitiesWithPermittedActionParameters = new org.ovirt.engine.core.common.queries.GetEntitiesWithPermittedActionParameters ( ) ; getEntitiesWithPermittedActionParameters.setActionGroup ( actionGroup ) ; org.ovirt.engine.ui.frontend.Frontend.getInstance ( ) . runQuery ( VdcQueryType.GetVmTemplatesWithPermittedAction , getEntitiesWithPermittedActionParameters , aQuery ) ; }
public void parseLunFromXmlRpcReturnsUnknownForNoField ( ) throws java.lang.Exception { java.util.Map < java.lang.String , java.lang.Object > xlun = new java.util.HashMap < java.lang.String , java.lang.Object > ( ) ; org.ovirt.engine.core.common.businessentities.LUNs lun = org.ovirt.engine.core.vdsbroker.vdsbroker.GetDeviceListVDSCommand.parseLunFromXmlRpc ( xlun ) ; org.junit.Assert.assertEquals ( StorageType.UNKNOWN , lun.getLunType ( ) ) ; }
public java.util.List < org.ovirt.engine.core.common.businessentities.QuotaVdsGroup > getAllQuotaVdsGroupIncludingConsumption ( ) { org.springframework.jdbc.core.namedparam.MapSqlParameterSource parameterSource = new org.springframework.jdbc.core.namedparam.MapSqlParameterSource ( ) ; return getCallsHandler ( ) . executeReadList ( "calculateAllVdsGroupUsage" , getVdsGroupQuotaResultSet ( ) , parameterSource ) ; }
private boolean isNetworkDevice ( org.ovirt.engine.core.common.businessentities.HostDevice device ) { return hostNicVfsConfigHelper.isNetworkDevice ( device ) ; }
public java.lang.String toString ( ) { return org.ovirt.engine.core.utils.ObjectDescriptor.toString ( this ) ; }
private void setDataCenterDetails ( ) { org.ovirt.engine.core.common.businessentities.StoragePool dc = org.ovirt.engine.core.bll.storage.AddEmptyStoragePoolCommand.getParameters ( ) . getStoragePool ( ) ; setCompatibilityVersion ( dc.getcompatibility_version ( ) . toString ( ) ) ; setQuotaEnforcementType ( dc.getQuotaEnforcementType ( ) . name ( ) ) ; }
public org.ovirt.engine.core.common.businessentities.Tags GetRootTag ( ) { return tagsMapByID.get ( org.ovirt.engine.core.bll.TagsDirector.ROOT_TAG_ID ) ; }
public void testEmptyDisksUsages ( ) { java.lang.Object [ ] disksUsages = new java.lang.Object [ 0 ] ; org.ovirt.engine.core.vdsbroker.xmlrpc.XmlRpcStruct xml = setDisksUsageInXmlRpc ( disksUsages ) ; validateDisksUsagesList ( getVmStatistics ( ) , disksUsages , xml ) ; }
public java.lang.Object convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { if ( source == null ) { return new java.util.ArrayList < org.ovirt.engine.core.common.businessentities.Provider > ( ) ; } return source ; }
public void onSuccess ( java.lang.Object model , java.lang.Object ReturnValue ) { setItems ( ( ( java.util.Collection < org.ovirt.engine.core.common.utils.PairQueryable < org.ovirt.engine.core.common.businessentities.VDSGroup , org.ovirt.engine.core.common.businessentities.network.NetworkCluster > > ) ( ( ( org.ovirt.engine.core.common.queries.VdcQueryReturnValue ) ( ReturnValue ) ) . getReturnValue ( ) ) ) ) ; }
public int hashCode ( ) { return java.util.Objects.hash ( getType ( ) , getActualValue ( ) , getExpectedValue ( ) , isInSync ( ) ) ; }
protected void addErrorMessages ( org.ovirt.engine.core.common.errors.EngineMessage messageActionTypeParameter , org.ovirt.engine.core.common.errors.EngineMessage messageReason ) { addValidationMessage ( EngineMessage.VAR__TYPE__BOOKMARK ) ; addValidationMessage ( messageActionTypeParameter ) ; addValidationMessage ( messageReason ) ; }
public void osTypeChanged ( java.lang.Integer selectedItem ) { getDomain ( ) . setIsAvailable ( ( ( selectedItem != null ) && ( org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncDataProvider.isWindowsOsType ( selectedItem ) ) ) ) ; }
public java.lang.Boolean call ( ) throws java.lang.Exception { _deploy.getParser ( ) . cliEnvironmentSet ( VMConsoleEnv.CAKEY , PKIResources.Resource.CACertificate.toString ( PKIResources.Format.OPENSSH_PUBKEY ) . replace ( "\n" , "" ) ) ; return true ; }
public java.lang.Integer getProgressValue ( org.ovirt.engine.core.common.businessentities.VM object ) { return object.getusage_mem_percent ( ) ; }
public void setSpmPriorityValue ( java.lang.Integer value ) { if ( spmInitialized ) { UpdateSpmPriority ( value ) ; } else { postponedSpmPriority = value ; } }
public java.lang.String getValue ( org.ovirt.engine.core.common.businessentities.Disk object ) { return object.getId ( ) . toString ( ) ; }
private org.ovirt.engine.core.common.businessentities.network.Network getPersistedNetwork ( ) { if ( ( persistedNetwork ) == null ) { persistedNetwork = org.ovirt.engine.core.bll.network.cluster.DetachNetworkToVdsGroupCommand.getNetworkDao ( ) . get ( getNetwork ( ) . getId ( ) ) ; } return persistedNetwork ; }
public void setDisplayIp ( java.lang.String value ) { this . vmDynamic.setDisplayIp ( value ) ; }
public void testUpdateVmPool ( ) { existingVmPool.setVmPoolDescription ( "This is an updated VM pool." ) ; dao.update ( existingVmPool ) ; org.ovirt.engine.core.common.businessentities.VmPool result = dao.get ( existingVmPool.getVmPoolId ( ) ) ; org.junit.Assert.assertEquals ( existingVmPool , result ) ; }
public void testIsNetworkInSyncWhenIpConfigurationIsNull ( ) throws java.lang.Exception { this . testedNetworkAttachment.setIpConfiguration ( null ) ; org.junit.Assert.assertThat ( createTestedInstance ( ) . isNetworkInSync ( ) , org.hamcrest.CoreMatchers.is ( true ) ) ; }
protected final boolean failCanDoAction ( org.ovirt.engine.core.dal.VdcBllMessages message ) { addCanDoActionMessage ( message ) ; return false ; }
protected void onClick ( T value ) { org.ovirt.engine.ui.uicommonweb.UICommand command = resolveCommand ( value ) ; if ( command != null ) { command.Execute ( ) ; } }
private org.ovirt.engine.core.common.businessentities.GraphicsType deriveGraphicsType ( ) { org.ovirt.engine.core.common.businessentities.VM vm = getEntity ( org.ovirt.engine.core.common.businessentities.VM.class , VdcQueryType.GetVmByVmId , new org.ovirt.engine.core.common.queries.IdQueryParameters ( guid ) , "GetVmByVmId" ) ; return vm == null ? null : org.ovirt.engine.api.restapi.types.VmMapper.deriveGraphicsType ( vm.getGraphicsInfos ( ) ) ; }
private org.ovirt.engine.core.common.action.VdcReturnValueBase getErrorCommandReturnValue ( org.ovirt.engine.core.common.errors.EngineMessage message ) { org.ovirt.engine.core.common.action.VdcReturnValueBase returnValue = new org.ovirt.engine.core.common.action.VdcReturnValueBase ( ) ; returnValue.setCanDoAction ( false ) ; returnValue.getCanDoActionMessages ( ) . add ( message.toString ( ) ) ; return returnValue ; }
private static org.ovirt.engine.core.bll.validator.StorageDomainValidator mockStorageDomainValidatorWithSpace ( ) { org.ovirt.engine.core.bll.validator.StorageDomainValidator storageDomainValidator = org.ovirt.engine.core.bll.AddDiskToVmCommandTest.mockStorageDomainValidator ( ) ; org.mockito.Mockito.when ( storageDomainValidator.hasSpaceForNewDisk ( org.mockito.Matchers.any ( org.ovirt.engine.core.common.businessentities.DiskImage.class ) ) ) . thenReturn ( ValidationResult.VALID ) ; return storageDomainValidator ; }
public org.ovirt.engine.core.common.businessentities.network.IPv4Address createPrimaryAddress ( ) { org.ovirt.engine.core.common.businessentities.network.IPv4Address iPv4Address = new org.ovirt.engine.core.common.businessentities.network.IPv4Address ( ) ; iPv4Address.setBootProtocol ( NetworkBootProtocol.DHCP ) ; return iPv4Address ; }
private java.util.List < org.ovirt.engine.core.common.businessentities.VmDevice > getVmWatchdogDevices ( ) { return getVmDeviceDao ( ) . getVmDeviceByVmIdAndType ( getParameters ( ) . getId ( ) , VmDeviceGeneralType.WATCHDOG ) ; }
public void validateVmMemoryCantStartOnVdsVmTooBig ( ) { vm.setMinAllocatedMem ( 8865 ) ; vm.setVmMemSizeMb ( 8865 ) ; boolean vmPassedMemoryRequirement = org.ovirt.engine.core.bll.scheduling.SlaValidator.getInstance ( ) . hasPhysMemoryToRunVM ( vds , vm , 0 ) ; org.junit.Assert.assertEquals ( vmPassedMemoryRequirement , false ) ; }
public boolean isLsmBetweenMixedStorageDomainsSupported ( org.ovirt.engine.core.compat.Version version ) { return ( ( java.lang.Boolean ) ( getConfigValuePreConverted ( ConfigurationValues.LiveStorageMigrationBetweenDifferentStorageTypes , version.toString ( ) ) ) ) ; }
private static org.ovirt.engine.core.common.businessentities.VDSGroup createVdsGroupWithOlderVersion ( ) { org.ovirt.engine.core.common.businessentities.VDSGroup group = org.ovirt.engine.core.bll.UpdateVdsGroupCommandTest.createNewVdsGroup ( ) ; group.setcompatibility_version ( org.ovirt.engine.core.bll.UpdateVdsGroupCommandTest.VERSION_1_0 ) ; return group ; }
private void logAction ( org.ovirt.engine.core.common.businessentities.VDS vds , org.ovirt.engine.core.common.AuditLogType type ) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBase loggable = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBase ( ) ; loggable.addCustomValue ( "Host" , vds.getName ( ) ) ; org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogDirector.log ( loggable , type ) ; }
public void setValue ( java.lang.Object value , boolean fireEvents ) { asSuggestBox ( ) . setValue ( ( ( java.lang.String ) ( value ) ) , fireEvents ) ; }
public void setBonds ( java.util.List < org.ovirt.engine.core.common.businessentities.network.Bond > bonds ) { this . bonds = bonds ; }
private void propagateLabeledNetworksChanges ( ) { runInternalAction ( VdcActionType.PropagateLabeledNetworksToClusterHosts , getParameters ( ) ) ; }
org.ovirt.engine.core.vdsbroker.vdsbroker.StatusOnlyReturnForXmlRpc glusterGeoRepMountBrokerSetup ( java.lang.String remoteVolumeName , java.lang.String remoteUserName , java.lang.String remoteGroupName ) ;
public < T > T getOptionalEntity ( java.lang.Class < T > clz , org.ovirt.engine.core.common.queries.VdcQueryType query , org.ovirt.engine.core.common.queries.VdcQueryParametersBase queryParams , java.lang.String identifier , boolean notFoundAs404 ) { return getEntity ( clz , query , queryParams , identifier , notFoundAs404 , false ) ; }
public java.util.Date getGuestLastLogoutTime ( ) { return this . vmDynamic.getguest_last_logout_time ( ) ; }
private void DataCenter_SelectedItemChanged ( ) { UpdateItemsAvailability ( ) ; }
public void incorrect ( ) { org.junit.Assert.assertFalse ( validation.validate ( "someHostname:" ) . getSuccess ( ) ) ; org.junit.Assert.assertFalse ( validation.validate ( "://someHostname" ) . getSuccess ( ) ) ; org.junit.Assert.assertFalse ( validation.validate ( "so m eHostname" ) . getSuccess ( ) ) ; org.junit.Assert.assertFalse ( validation.validate ( "asd:/someHostname" ) . getSuccess ( ) ) ; org.junit.Assert.assertFalse ( validation.validate ( "asd:someHostname" ) . getSuccess ( ) ) ; org.junit.Assert.assertFalse ( validation.validate ( "someHostname:abc" ) . getSuccess ( ) ) ; }
public static org.ovirt.engine.core.bll.TagsDirector getInstance ( ) { return org.ovirt.engine.core.bll.TagsDirector.instance ; }
private org.ovirt.engine.core.bll.ValidationResult networkExists ( org.ovirt.engine.core.common.businessentities.network.Network oldNetwork ) { return oldNetwork == null ? new org.ovirt.engine.core.bll.ValidationResult ( org.ovirt.engine.core.dal.VdcBllMessages.NETWORK_NOT_EXISTS ) : org.ovirt.engine.core.bll.ValidationResult.VALID ; }
private org.ovirt.engine.core.dao.StoragePoolIsoMapDAO getStoragePoolIsoMapDAO ( ) { return org.ovirt.engine.core.bll.storage.CINDERStorageHelper.getDbFacade ( ) . getStoragePoolIsoMapDao ( ) ; }
public org.ovirt.engine.core.common.businessentities.VmOsType extractOsType ( org.ovirt.engine.ui.uicommonweb.models.userportal.UserPortalItemModel item ) { return item.getOsType ( ) ; }
public void hostDoesNotExist ( ) { validator = new org.ovirt.engine.core.bll.validator.UpdateHostValidator ( dbFacade , null , host , false ) ; org.junit.Assert.assertThat ( validator.hostExists ( ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( EngineMessage.VDS_INVALID_SERVER_ID ) ) ; }
public org.ovirt.engine.core.compat.Guid getQuotaId ( ) { return this . mVmStatic.getQuotaId ( ) ; }
public void storagePoolStatusChange ( org.ovirt.engine.core.compat.Guid storagePoolId , org.ovirt.engine.core.common.businessentities.StoragePoolStatus status , org.ovirt.engine.core.common.AuditLogType auditLogType , org.ovirt.engine.core.common.errors.VdcBllErrors error ) { storagePoolStatusChange ( storagePoolId , status , auditLogType , error , null ) ; }
public void testRemove ( ) { dao.remove ( FixturesTool.HOOK_ID ) ; org.ovirt.engine.core.common.businessentities.gluster.GlusterHookEntity hook = dao.getById ( FixturesTool.HOOK_ID ) ; org.junit.Assert.assertNull ( hook ) ; org.ovirt.engine.core.common.businessentities.gluster.GlusterServerHook serverhook = dao.getGlusterServerHook ( FixturesTool.HOOK_ID , org.ovirt.engine.core.dao.gluster.GlusterHooksDaoTest.SERVER_ID ) ; org.junit.Assert.assertNull ( serverhook ) ; }
public org.ovirt.engine.core.vdsbroker.vdsbroker.ServerConnectionListReturnForXmlRpc getStorageConnectionsList ( java.lang.String spUUID ) { return null ; }
public void testLongName ( ) { vmStatic.setName ( "this_should_be_very_long_vm_name_so_it will_fail_can_do_action_validation" ) ; org.junit.Assert.assertFalse ( "canDoAction should fail for too long vm name." , command.canDoAction ( ) ) ; assertCanDoActionMessage ( VdcBllMessages.ACTION_TYPE_FAILED_NAME_LENGTH_IS_TOO_LONG ) ; }
private static org.ovirt.engine.core.bll.tasks.AsyncTaskManager getAsyncTaskManager ( ) { return org.ovirt.engine.core.bll.tasks.AsyncTaskManager.getInstance ( org.ovirt.engine.core.bll.tasks.CommandCoordinatorImpl.getInstance ( ) ) ; }
public org.ovirt.engine.api.model.Network lookupEntity ( org.ovirt.engine.core.compat.Guid ignore ) throws org.ovirt.engine.api.restapi.resource.BackendFailureException { return getEntity ( org.ovirt.engine.api.model.Network.class , VdcQueryType.GetNetworkById , new org.ovirt.engine.core.common.queries.IdQueryParameters ( guid ) , id ) ; }
public static < R extends org.ovirt.engine.api.model.BaseResource > R newModel ( java.lang.Class < R > clz ) { R ret = null ; try { ret = clz.newInstance ( ) ; } catch ( java.lang.Exception e ) { } return ret ; }
private java.util.Collection < org.ovirt.engine.api.model.DetailedLink > getGlusterLinks ( ) { return org.ovirt.engine.api.restapi.util.ApiRootLinksCreator.getGlusterLinks ( getUriInfo ( ) ) ; }
protected void EntityPropertyChanged ( java.lang.Object sender , org.ovirt.engine.ui.uicompat.PropertyChangedEventArgs e ) { super . EntityPropertyChanged ( sender , e ) ; UpdateProperties ( ) ; }
public boolean Match ( org.ovirt.engine.core.common.businessentities.VDS source ) { return source.getStatus ( ) . equals ( status ) ; }
public void addOrUpdateTaskInDB ( final org.ovirt.engine.core.common.businessentities.AsyncTasks asyncTask ) { persistCommand ( copyToCommandEntity ( asyncTask , commandsCache.get ( asyncTask.getCommandId ( ) ) ) ) ; org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getAsyncTaskDao ( ) . saveOrUpdate ( asyncTask ) ; }
com.google.gwt.safehtml.shared.SafeHtml link ( java.lang.String id ) ;
public void edit ( org.ovirt.engine.ui.uicommonweb.models.userportal.UserPortalLoginModel object ) { driver.edit ( object ) ; }
public org.ovirt.engine.api.model.Network lookupEntity ( org.ovirt.engine.core.compat.Guid id ) throws org.ovirt.engine.api.restapi.resource.BackendFailureException { return getEntity ( org.ovirt.engine.api.model.Network.class , VdcQueryType.GetNetworkById , new org.ovirt.engine.core.common.queries.IdQueryParameters ( id ) , id.toString ( ) ) ; }
private boolean validateSourceStorageDomain ( org.ovirt.engine.core.common.businessentities.StorageDomain sourceDomain ) { org.ovirt.engine.core.bll.validator.StorageDomainValidator validator = new org.ovirt.engine.core.bll.validator.StorageDomainValidator ( sourceDomain ) ; return validate ( validator.isDomainExistAndActive ( ) ) ; }
private org.ovirt.engine.core.compat.Guid createTaskImpl ( org.ovirt.engine.core.compat.Guid taskId , org.ovirt.engine.core.common.asynctasks.AsyncTaskCreationInfo asyncTaskCreationInfo , org.ovirt.engine.core.common.action.VdcActionType parentCommand , java.lang.String description , java.util.Map < org.ovirt.engine.core.compat.Guid , org.ovirt.engine.core.common.VdcObjectType > entitiesMap ) { return org.ovirt.engine.core.bll.tasks.TaskManagerUtil.createTask ( taskId , this , asyncTaskCreationInfo , parentCommand , description , entitiesMap ) ; }
public void testValidModifiedBondsFailsWhenInsufficientNumberOfSlaves ( ) throws java.lang.Exception { org.ovirt.engine.core.common.businessentities.network.Bond bond = createBond ( ) ; doTestValidModifiedBonds ( bond , ValidationResult.VALID , ValidationResult.VALID , new org.ovirt.engine.core.bll.ValidationResult ( org.ovirt.engine.core.common.errors.EngineMessage.NETWORK_BONDS_INVALID_SLAVE_COUNT , org.ovirt.engine.core.utils.ReplacementUtils.createSetVariableString ( HostSetupNetworksValidator.VAR_NETWORK_BONDS_INVALID_SLAVE_COUNT_LIST , bond.getName ( ) ) ) , ValidationResult.VALID ) ; }
public void prepareConnectHostToStoragePoolServers ( org.ovirt.engine.core.common.action.ConnectHostToStoragePoolServersParameters parameters , java.util.List < org.ovirt.engine.core.common.businessentities.StorageServerConnections > connections ) { }
public final void setCallback ( org.ovirt.engine.core.utils.hostinstall.IVdsInstallerCallback callback ) { this . callback = callback ; }
private void logFailureMessage ( java.lang.RuntimeException ex ) { org.ovirt.engine.core.vdsbroker.VdsManager.log.warnFormat ( "VdsManager::refreshVdsRunTimeInfo::Failed to refresh VDS , vds = {0} : {1}, error = '{2}', continuing." , _vds.getId ( ) , _vds.getvds_name ( ) , org.apache.commons.lang.exception.ExceptionUtils.getMessage ( ex ) ) ; }
protected boolean canDoAction ( ) { if ( ! ( super . canDoAction ( ) ) ) { return false ; } try { getUpServer ( ) ; return true ; } catch ( org.ovirt.engine.core.common.errors.VdcBLLException e ) { addCanDoActionMessage ( VdcBllMessages.ACTION_TYPE_FAILED_NO_UP_SERVER_FOUND ) ; return false ; } }
public void addToHistory_zeroLimit ( ) { org.junit.Assert.assertEquals ( java.util.Collections.emptyList ( ) , statistics.addToHistory ( java.util.Arrays.asList ( 9 , 10 , 11 , 12 ) , 13 , 0 ) ) ; }
public java.util.ArrayList < org.ovirt.engine.core.common.action.VdcReturnValueBase > runInternalMultipleActions ( org.ovirt.engine.core.common.action.VdcActionType actionType , java.util.ArrayList < org.ovirt.engine.core.common.action.VdcActionParametersBase > parameters , org.ovirt.engine.core.bll.job.ExecutionContext executionContext ) { return runMultipleActionsImpl ( actionType , parameters , true , executionContext ) ; }
protected org.ovirt.engine.core.compat.Guid getCurrentVdsId ( ) { return ( getVdsDestinationId ( ) ) != null ? getVdsDestinationId ( ) : super . getCurrentVdsId ( ) ; }
public void canDoAction_testNameChange_Test ( ) { org.mockito.Mockito.doReturn ( new org.ovirt.engine.core.common.scheduling.AffinityGroup ( ) ) . when ( affinityGroupDao ) . getByName ( affinityGroup.getName ( ) ) ; org.ovirt.engine.core.bll.CanDoActionTestUtils.runAndAssertCanDoActionFailure ( command , EngineMessage.ACTION_TYPE_FAILED_AFFINITY_GROUP_NAME_EXISTS ) ; }
public void setInfoMessage ( org.ovirt.engine.ui.uicommonweb.models.EntityModel < java.lang.String > infoMessage ) { this . infoMessage = infoMessage ; }
protected void ExecuteVmCommand ( ) { performDiskUpdate ( ) ; }
protected boolean isVmWithSameNameExists ( java.lang.String name ) { return org.ovirt.engine.core.bll.VmHandler.isVmWithSameNameExistStatic ( name ) ; }
public void validateVmMemoryCantStartOnVdsHostTooSmall ( ) { vds.setMemFree ( 8835L ) ; boolean vmPassedMemoryRequirement = org.ovirt.engine.core.bll.scheduling.SlaValidator.getInstance ( ) . hasPhysMemoryToRunVM ( vds , vm , 0 ) ; org.junit.Assert.assertEquals ( vmPassedMemoryRequirement , false ) ; }
private void processVm ( ) { if ( ( org.ovirt.engine.core.bll.MigrateVmCommand.getVm ( ) . getStatus ( ) ) != ( org.ovirt.engine.core.common.businessentities.VMStatus.Up ) ) { decreasePendingVms ( org.ovirt.engine.core.bll.MigrateVmCommand.getVds ( ) . getId ( ) ) ; } }
protected java.lang.String getSearchPattern ( ) { java.lang.String user_defined_pattern = org.ovirt.engine.api.common.util.QueryHelper.getConstraint ( getUriInfo ( ) , "" , modelType ) ; return user_defined_pattern.equals ( "Users : " ) ? user_defined_pattern + ( org.ovirt.engine.api.restapi.resource.BackendUsersResourceBase.USERS_SEARCH_PATTERN ) : ( user_defined_pattern + ( org.ovirt.engine.api.restapi.resource.BackendUsersResourceBase.AND_SEARCH_PATTERN ) ) + ( org.ovirt.engine.api.restapi.resource.BackendUsersResourceBase.USERS_SEARCH_PATTERN ) ; }
public void setEntity ( org.ovirt.engine.core.common.businessentities.VM value ) { super . setEntity ( value ) ; UpdateIsDiskHotPlugAvailable ( ) ; }
private java.util.List < org.ovirt.engine.core.common.action.LiveMigrateDiskParameters > createLiveMigrateVmDisksParameters ( org.ovirt.engine.core.compat.Guid srcStorageId , org.ovirt.engine.core.compat.Guid dstStorageId ) { return java.util.Arrays.asList ( new org.ovirt.engine.core.common.action.LiveMigrateDiskParameters ( diskImageId , srcStorageId , dstStorageId , vmId , quotaId , diskImageGroupId ) ) ; }
public boolean isNetworkExclusivenessPermissiveValidation ( java.lang.String version ) { return ( ( java.lang.Boolean ) ( getConfigValuePreConverted ( ConfigurationValues.NetworkExclusivenessPermissiveValidation , version ) ) ) ; }
public org.ovirt.engine.core.compat.NGuid getrun_on_vds ( ) { return this . runOnVds ; }
public void resetAndFocus ( ) { userNameEditor.asValueBox ( ) . selectAll ( ) ; userNameEditor.asValueBox ( ) . setFocus ( true ) ; clearErrorMessage ( ) ; }
public void lowerVersionMgmtNetworkSupportedFeatures ( ) { storagePoolWithLowerVersion ( ) ; addNonDefaultClusterToPool ( ) ; addManagementNetworkToPool ( ) ; setupNetworkValidator ( true ) ; org.junit.Assert.assertTrue ( cmd.canDoAction ( ) ) ; }
public org.ovirt.engine.core.common.action.VdcActionParametersBase createActionParameters ( org.ovirt.engine.core.common.businessentities.VM vm ) { return new org.ovirt.engine.core.common.action.StopVmParameters ( vm.getId ( ) , org.ovirt.engine.core.common.action.StopVmTypeEnum.NORMAL ) ; }
public void networkNameTakenByDifferentNetwork ( ) throws java.lang.Exception { networkNameAvailableTest ( org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( EngineMessage.ACTION_TYPE_FAILED_NETWORK_NAME_IN_USE ) , getSingletonNamedNetworkList ( DEFAULT_NETWORK_NAME , OTHER_GUID ) ) ; }
public void cancelConfirmFocusPM ( ) { org.ovirt.engine.ui.uicommonweb.models.hosts.HostModel hostModel = ( ( org.ovirt.engine.ui.uicommonweb.models.hosts.HostModel ) ( getWindow ( ) ) ) ; hostModel.setIsPowerManagementTabSelected ( true ) ; setConfirmWindow ( null ) ; }
private static void addToAuditLogErrorMessage ( java.lang.String problematicRepoFilesList ) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBase logable = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBase ( ) ; logable.addCustomValue ( "imageDomains" , problematicRepoFilesList ) ; org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogDirector.log ( logable , AuditLogType.REFRESH_REPOSITORY_IMAGE_LIST_FAILED ) ; }
protected java.util.Map < java.lang.String , org.ovirt.engine.core.common.utils.Pair < java.lang.String , java.lang.String > > getExclusiveLocks ( ) { return org.ovirt.engine.core.bll.pm.FenceVdsBaseCommand.createFenceExclusiveLocksMap ( org.ovirt.engine.core.bll.pm.VdsKdumpDetectionCommand.getVdsId ( ) ) ; }
private org.ovirt.engine.core.compat.Guid getVmSnapshotIdForType ( org.ovirt.engine.core.common.businessentities.Snapshot.SnapshotType type ) { return org.ovirt.engine.core.bll.RestoreStatelessVmCommand.getSnapshotDao ( ) . getId ( org.ovirt.engine.core.bll.RestoreStatelessVmCommand.getVmId ( ) , type ) ; }
private void rdp_Disconnected ( java.lang.Object sender , org.ovirt.engine.ui.uicommonweb.models.vms.ErrorCodeEventArgs e ) { getrdp ( ) . getDisconnectedEvent ( ) . removeListener ( this ) ; if ( ( e.getErrorCode ( ) ) > 100 ) { getErrorEvent ( ) . raise ( this , e ) ; } }
public void setpm_user ( java.lang.String value ) { mVdsStatic.setpm_user ( value ) ; OnPropertyChanged ( new org.ovirt.engine.core.compat.PropertyChangedEventArgs ( "pm_user" ) ) ; }
protected org.ovirt.engine.core.aaa.DirectoryGroup getEntity ( int index ) { return new org.ovirt.engine.core.aaa.DirectoryGroup ( DOMAIN , new java.lang.String ( javax.xml.bind.DatatypeConverter.parseHexBinary ( EXTERNAL_IDS [ index ] ) , java.nio.charset.Charset.forName ( "UTF-8" ) ) , NAMES [ index ] ) ; }
public void run ( ) { processVmPoolOnStopVm ( ) ; }
public void eventRaised ( org.ovirt.engine.core.compat.Event ev , java.lang.Object sender , org.ovirt.engine.core.compat.EventArgs args ) { updateInfoPanel ( ) ; }
public static boolean setDiskAlias ( org.ovirt.engine.core.common.businessentities.BaseDisk disk , org.ovirt.engine.core.common.businessentities.VM vm ) { return org.ovirt.engine.core.bll.ImagesHandler.setDiskAlias ( disk , vm , org.ovirt.engine.core.bll.ImagesHandler.nullSafeGetCount ( vm ) ) ; }
private boolean hasVMs ( ) { return ! ( org.ovirt.engine.core.bll.ClearNonResponsiveVdsVmsCommand.getVmDao ( ) . getAllRunningForVds ( org.ovirt.engine.core.bll.ClearNonResponsiveVdsVmsCommand.getVdsId ( ) ) . isEmpty ( ) ) ; }
public void setPrincipal ( java.lang.String sessionId , java.lang.String principal ) { setData ( sessionId , org.ovirt.engine.core.bll.aaa.SessionDataContainer.PRINCIPAL_PARAMETER_NAME , principal ) ; }
public void testUpdateFieldsQuotaEnforcementType ( ) { vm.setQuotaEnforcementType ( QuotaEnforcementTypeEnum.DISABLED ) ; vmStatic.setQuotaEnforcementType ( QuotaEnforcementTypeEnum.SOFT_ENFORCEMENT ) ; org.junit.Assert.assertTrue ( "Quota enforcement type should be updatable" , command.areUpdatedFieldsLegal ( ) ) ; }
protected void OnEntityChanged ( ) { super . OnEntityChanged ( ) ; getSearchCommand ( ) . Execute ( ) ; }
public void CancelConfirmFocusPM ( ) { org.ovirt.engine.ui.uicommonweb.models.hosts.HostModel hostModel = ( ( org.ovirt.engine.ui.uicommonweb.models.hosts.HostModel ) ( getWindow ( ) ) ) ; hostModel.setIsPowerManagementTabSelected ( true ) ; setConfirmWindow ( null ) ; }
public abstract java.util.List < org.ovirt.engine.core.common.businessentities.VmDevice > getVmUnamagedDeviceList ( ) ;
private boolean checkIsDomainLocked ( org.ovirt.engine.core.common.businessentities.StoragePoolIsoMap domainMap ) { if ( ( org.ovirt.engine.core.common.businessentities.StorageDomainStatus.Locked ) == ( domainMap.getStatus ( ) ) ) { addInvalidSDStatusMessage ( StorageDomainStatus.Locked ) ; return true ; } return false ; }
public static void startPollingTask ( org.ovirt.engine.core.compat.Guid taskID ) { org.ovirt.engine.core.bll.tasks.TaskManagerUtil.getAsyncTaskManager ( ) . startPollingTask ( taskID ) ; }
public void validateVmMemoryCanRunOnVds ( ) { boolean vmPassedMemoryRequirement = slaValidator.hasOvercommitMemoryToRunVM ( vds , vm ) ; org.junit.Assert.assertTrue ( vmPassedMemoryRequirement ) ; }
private void pause ( ) { org.ovirt.engine.core.common.businessentities.VM entity = ( ( org.ovirt.engine.core.common.businessentities.VM ) ( getItem ( ) . getEntity ( ) ) ) ; org.ovirt.engine.ui.frontend.Frontend.RunAction ( VdcActionType.HibernateVm , new org.ovirt.engine.core.common.action.VmOperationParameterBase ( entity.getId ( ) ) ) ; }
public void getUsbPolicyOnUpdateCurrentlyDisabledGotDisabledLegacyPolicyUsb ( ) { org.ovirt.engine.api.model.Usb usb = new org.ovirt.engine.api.model.Usb ( ) ; usb.setEnabled ( false ) ; usb.setType ( "legacy" ) ; assertEquals ( org.ovirt.engine.api.restapi.types.VmMapper.getUsbPolicyOnUpdate ( usb , UsbPolicy.DISABLED , null ) , UsbPolicy.DISABLED ) ; }
public org.ovirt.engine.api.resource.AssignedNetworksResource getAssignedNetworksSubResource ( ) { return org.ovirt.engine.api.restapi.resource.BackendClusterResource.inject ( new org.ovirt.engine.api.restapi.resource.BackendClusterNetworksResource ( id ) ) ; }
public final boolean connect ( java.lang.String server , java.lang.String rootPassword , long timeout ) { org.ovirt.engine.core.utils.hostinstall.Credentials creds = prepareCredentials ( rootPassword ) ; return _do_connect ( server , creds , timeout ) ; }
public org.ovirt.engine.core.common.businessentities.DisplayType getDisplayType ( ) { return this . vmDynamic.getDisplayType ( ) ; }
public org.ovirt.engine.core.bll.ValidationResult clusterNetworkNotUsedByBricks ( ) { return new org.ovirt.engine.core.bll.network.cluster.PluralMessages ( org.ovirt.engine.core.common.errors.EngineMessage.VAR__ENTITIES__GLUSTER_BRICK , org.ovirt.engine.core.common.errors.EngineMessage.VAR__ENTITIES__GLUSTER_BRICKS ) . getNetworkInUse ( getEntitiesNames ( org.ovirt.engine.core.bll.network.cluster.DetachNetworkFromClusterInternalCommand.DetachNetworkValidator.getGlusterBrickDao ( ) . getAllByClusterAndNetworkId ( networkCluster.getClusterId ( ) , network.getId ( ) ) ) ) ; }
public void testGetAllWithPermissionsDisabledForUnpriviligedUser ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.VmTemplate > result = dao.getAll ( org.ovirt.engine.core.dao.UNPRIVILEGED_USER_ID , false ) ; org.ovirt.engine.core.dao.VmTemplateDAOTest.assertGetAllResult ( result ) ; }
public void testGetImagesWithNoDiskReturnsEmptyList ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.DiskImage > result = dao.getImagesWithNoDisk ( org.ovirt.engine.core.compat.Guid.NewGuid ( ) ) ; org.junit.Assert.assertNotNull ( result ) ; org.junit.Assert.assertTrue ( result.isEmpty ( ) ) ; }
protected void Perform ( ) { org.ovirt.engine.core.bll.StopVmCommand.Destroy ( ) ; org.ovirt.engine.core.bll.StopVmCommand.setSucceeded ( true ) ; }
public void validateFailureOnCopyingLunDisk ( ) { initializeCommand ( new org.ovirt.engine.core.common.businessentities.storage.LunDisk ( ) ) ; command.getParameters ( ) . setOperation ( ImageOperation.Copy ) ; command.init ( ) ; org.ovirt.engine.core.bll.ValidateTestUtils.runAndAssertValidateFailure ( command , EngineMessage.ACTION_TYPE_FAILED_NOT_SUPPORTED_DISK_STORAGE_TYPE ) ; }
private boolean isRemoveCommandAvailable ( java.util.ArrayList < org.ovirt.engine.core.common.businessentities.DiskImage > disks ) { for ( org.ovirt.engine.core.common.businessentities.DiskImage disk : disks ) { boolean isImageLocked = ( disk.getimageStatus ( ) ) == ( org.ovirt.engine.core.common.businessentities.ImageStatus.LOCKED ) ; if ( isImageLocked ) { return false ; } } return true ; }
public void onSuccess ( java.lang.Object target , java.lang.Object returnValue ) { getDefaultConfigurationVersion ( target ) ; }
protected boolean isVirtioScsiEnabled ( ) { java.lang.Boolean virtioScsiEnabled = org.ovirt.engine.core.bll.UpdateVmCommand.getParameters ( ) . isVirtioScsiEnabled ( ) ; return virtioScsiEnabled != null ? virtioScsiEnabled : org.ovirt.engine.core.bll.utils.VmDeviceUtils.isVirtioScsiControllerAttached ( getVmId ( ) ) ; }
public static boolean hasVmGraphicsDeviceOfType ( org.ovirt.engine.core.compat.Guid vmId , org.ovirt.engine.core.common.businessentities.GraphicsType type ) { return ! ( org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getVmDeviceDao ( ) . getVmDeviceByVmIdTypeAndDevice ( vmId , VmDeviceGeneralType.GRAPHICS , type.name ( ) . toLowerCase ( ) ) . isEmpty ( ) ) ; }
protected boolean RunConnectionStorageToDomain ( org.ovirt.engine.core.common.businessentities.storage_domains storageDomain , org.ovirt.engine.core.compat.Guid vdsId , int type ) { return RunConnectionStorageToDomain ( storageDomain , vdsId , type , null , Guid.Empty ) ; }
public void testIsWindows ( ) { org.junit.Assert.assertFalse ( OsRepositoryImpl.INSTANCE.isWindows ( 777 ) ) ; }
public int getCpuOverCommitDurationMinutes ( ) { return this . cpuOverCommitDurationMinutes ; }
private static org.ovirt.engine.core.common.businessentities.VDSGroup createVdsGroupWithDifferentPool ( ) { org.ovirt.engine.core.common.businessentities.VDSGroup group = org.ovirt.engine.core.bll.UpdateVdsGroupCommandTest.createNewVdsGroup ( ) ; group.setStoragePoolId ( org.ovirt.engine.core.compat.Guid.newGuid ( ) ) ; return group ; }
protected abstract com.google.gwt.user.client.ui.IsWidget createIconPanel ( ) ;
public java.lang.String getValue ( org.ovirt.engine.core.common.businessentities.VDSGroup object ) { return object.getCpuName ( ) ; }
protected void updateExistingEntity ( ) { existingEntity.setAddress ( "type:'drive', controller:'0', bus:'0', unit:'0'" ) ; }
private void writeEnumValue ( org.ovirt.api.metamodel.concepts.EnumValue value ) { writer.writeStartElement ( "value" ) ; writeCommon ( value ) ; writer.writeEndElement ( ) ; }
private void logException ( java.lang.Throwable ex ) { org.ovirt.engine.core.vdsbroker.irsbroker.IrsBrokerCommand.log.errorFormat ( "IrsBroker::Failed::{0} due to: {1}" , org.ovirt.engine.core.vdsbroker.irsbroker.IrsBrokerCommand.getCommandName ( ) , org.apache.commons.lang.exception.ExceptionUtils.getMessage ( ex ) ) ; }
protected boolean canDoAction ( ) { org.ovirt.engine.core.bll.profiles.DiskProfileValidator validator = new org.ovirt.engine.core.bll.profiles.DiskProfileValidator ( getProfile ( ) ) ; return ( validate ( validator.diskProfileIsSet ( ) ) ) && ( validate ( validator.diskProfileExists ( ) ) ) ; }
protected void MoveOrCopyAllImageGroups ( ) { MoveOrCopyAllImageGroups ( org.ovirt.engine.core.bll.ExportVmCommand.getVm ( ) . getId ( ) , getDisksBasedOnImage ( ) ) ; }
private void writeEndElement ( ) { try { writer.writeEndElement ( ) ; } catch ( javax.xml.stream.XMLStreamException exception ) { throw new java.lang.IllegalStateException ( "Can't write end element" , exception ) ; } }
public void updateSubnetTabValidity ( boolean isValid ) { if ( isValid ) { subnetTab.markAsValid ( ) ; } else { subnetTab.markAsInvalid ( null ) ; } }
protected void executeQueryCommand ( ) { P params = org.ovirt.engine.core.bll.GetClustersWithPermittedActionQuery.getParameters ( ) ; setReturnValue ( org.ovirt.engine.core.bll.GetClustersWithPermittedActionQuery.getDbFacade ( ) . getClusterDao ( ) . getClustersWithPermittedAction ( org.ovirt.engine.core.bll.GetClustersWithPermittedActionQuery.getUserID ( ) , params.getActionGroup ( ) ) ) ; }
public void setUp ( ) { underTest = new org.ovirt.engine.core.bll.network.cluster.DefaultManagementNetworkFinderImpl ( mockNetworkDao , mockManagementNetworkUtil ) ; }
public void setCommonModel ( org.ovirt.engine.ui.uicommonweb.models.CommonModel commonModel ) { oracle.setCommonModel ( commonModel ) ; }
public static java.lang.String translateVdcFault ( org.ovirt.engine.core.common.errors.VdcFault fault ) { return org.ovirt.engine.ui.frontend.Frontend.vdsmErrorsTranslator.TranslateErrorTextSingle ( ( ( fault.getError ( ) ) == null ? fault.getMessage ( ) : fault.getError ( ) . toString ( ) ) ) ; }
public void testAddValueEnumWithGetValue ( ) { paramSource.addValue ( paramName , org.ovirt.engine.core.dal.dbbroker.CustomMapSqlParameterSourceTest.TestEnumWithGetValue.TWO ) ; org.junit.Assert.assertEquals ( "wrong value returned from parameter source" , org.ovirt.engine.core.dal.dbbroker.CustomMapSqlParameterSourceTest.TestEnumWithGetValue.TWO.getValue ( ) , paramSource.getValue ( paramName ) ) ; }
public javax.ws.rs.core.Response remove ( @ javax.ws.rs.PathParam ( value = "id" ) java.lang.String id , org.ovirt.engine.api.model.Host host ) ;
protected void updateModelClusterFromVds ( java.util.ArrayList < org.ovirt.engine.core.common.businessentities.VDSGroup > clusters , org.ovirt.engine.core.common.businessentities.VDS vds ) { if ( clusters != null ) { getCluster ( ) . setSelectedItem ( org.ovirt.engine.ui.uicommonweb.Linq.firstOrDefault ( clusters , new org.ovirt.engine.ui.uicommonweb.Linq.ClusterPredicate ( vds.getVdsGroupId ( ) ) ) ) ; } }
public void testValidateNotRemovingUsedNetworkByVmsWhenNotUsedByVms ( ) throws java.lang.Exception { org.ovirt.engine.core.bll.network.host.HostSetupNetworksValidator validator = org.mockito.Mockito.spy ( new org.ovirt.engine.core.bll.network.host.HostSetupNetworksValidatorTest.HostSetupNetworksValidatorBuilder ( ) . build ( ) ) ; org.junit.Assert.assertThat ( validator.validateNotRemovingUsedNetworkByVms ( "removedNet" ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.isValid ( ) ) ; }
public void testIsNetworkExclusiveInvalid ( ) { org.junit.Assert.assertFalse ( underTest.isNetworkExclusive ( java.util.Arrays.asList ( org.ovirt.engine.core.bll.validator.network.NetworkType.VM , org.ovirt.engine.core.bll.validator.network.NetworkType.VLAN , org.ovirt.engine.core.bll.validator.network.NetworkType.VLAN , org.ovirt.engine.core.bll.validator.network.NetworkType.VM ) ) ) ; }
private static boolean hasSnappableDisks ( org.ovirt.engine.core.common.businessentities.VM vm ) { return ! ( vm.getImages ( ) . isEmpty ( ) ) ; }
public org.ovirt.engine.api.model.Network update ( org.ovirt.engine.api.model.Network incoming ) { return performUpdate ( incoming , new org.ovirt.engine.api.restapi.resource.BackendNetworkResource.UpdatedNetworkResolver ( ) , VdcActionType.UpdateNetwork , new org.ovirt.engine.api.restapi.resource.BackendNetworkResource.UpdateParametersProvider ( ) ) ; }
public org.ovirt.engine.ui.uicommonweb.models.Model setIsChangable ( boolean value ) { if ( ( isChangable ) != value ) { isChangable = value ; OnPropertyChanged ( new org.ovirt.engine.ui.uicompat.PropertyChangedEventArgs ( "IsChangable" ) ) ; if ( isChangable ) { privateChangeProhibitionReason = null ; } } return this ; }
public java.lang.Object convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { return source != null ? source : new java.util.HashMap < org.ovirt.engine.core.common.businessentities.VmTemplate , java.util.ArrayList < org.ovirt.engine.core.common.businessentities.storage.DiskImage > > ( ) ; }
public static void logAndFailTaskOfCommandWithEmptyVdsmId ( org.ovirt.engine.core.common.businessentities.AsyncTask task , java.lang.String message ) { org.ovirt.engine.core.bll.tasks.CommandCoordinatorUtil.getAsyncTaskManager ( ) . logAndFailPartiallySubmittedTaskOfCommand ( task , message ) ; }
public void testInvalid ( ) throws java.lang.Exception { try { org.ovirt.engine.api.common.util.EnumValidator.validateEnum ( java.lang.Thread.State.class , "foobar" ) ; fail ( "expected WebApplicationException on invalid value" ) ; } catch ( javax.ws.rs.WebApplicationException wae ) { verifyInvalidValueException ( wae , "foobar" , "State" ) ; } }
public org.ovirt.engine.api.model.Steps list ( ) { org.ovirt.engine.core.common.queries.GetStepsWithSubjectEntitiesByJobIdQueryParameters params = new org.ovirt.engine.core.common.queries.GetStepsWithSubjectEntitiesByJobIdQueryParameters ( jobId ) ; java.util.List < org.ovirt.engine.api.model.Step > steps = getBackendCollection ( VdcQueryType.GetStepsWithSubjectEntitiesByJobId , params ) ; return mapCollection ( steps ) ; }
public java.util.Map < java.lang.String , java.lang.Object > glusterVolumeCreate ( java.lang.String volumeName , java.lang.String [ ] brickList , int replicaCount , int stripeCount , java.lang.String [ ] transportList ) ;
protected void syncSearch ( ) { syncSearch ( VdcQueryType.GetUnregisteredVms , new org.ovirt.engine.core.common.businessentities.comparators.LexoNumericNameableComparator ( ) ) ; }
protected boolean isMemoryStateRemovable ( java.lang.String memoryVolume ) { return ( ! ( memoryVolume.isEmpty ( ) ) ) && ( ( getSnapshotDao ( ) . getNumOfSnapshotsByMemory ( memoryVolume ) ) == 0 ) ; }
public java.lang.String getValue ( org.ovirt.engine.core.common.businessentities.Disk object ) { return object.getDiskAlias ( ) ; }
private java.util.HashMap < org.ovirt.engine.core.compat.Version , java.util.ArrayList < java.lang.String > > getCustomPropertiesKeysList ( ) { return privateCustomPropertiesKeysList ; }
public void onSuccess ( java.lang.Object model , java.lang.Object returnValue ) { org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncDataProvider.osNames = ( ( org.ovirt.engine.core.common.queries.VdcQueryReturnValue ) ( returnValue ) ) . getReturnValue ( ) ; org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncDataProvider.initOsIds ( ) ; }
private static org.ovirt.engine.core.dao.VdcOptionDAO getVdcOptionDAO ( ) { return org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getVdcOptionDAO ( ) ; }
private void Frontend_QueryComplete ( ) { ( queryCounter ) -- ; if ( ( queryCounter ) == 0 ) { StopProgress ( ) ; } }
public void testGetBySessionId ( ) { org.ovirt.engine.core.common.businessentities.EngineSession result = dao.getBySessionId ( existingEngineSession.getEngineSessionId ( ) ) ; org.junit.Assert.assertNotNull ( result ) ; org.junit.Assert.assertEquals ( existingEngineSession , result ) ; }
public org.ovirt.engine.core.compat.Match Match ( java.lang.String input ) { com.google.gwt.regexp.shared.MatchResult matchResult = impl.exec ( input ) ; return new org.ovirt.engine.core.compat.Match ( matchResult ) ; }
public void leaseNotFreeSingleOwner ( ) { java.lang.Object [ ] owners = new java.lang.Object [ ] { 1 } ; org.junit.Assert.assertFalse ( getLeaseStatus ( owners ) . isFree ( ) ) ; }
public void Executed ( org.ovirt.engine.ui.uicompat.FrontendActionAsyncResult result ) { org.ovirt.engine.ui.uicommonweb.models.vms.VmDiskListModel localModel = ( ( org.ovirt.engine.ui.uicommonweb.models.vms.VmDiskListModel ) ( result.getState ( ) ) ) ; localModel.getWindow ( ) . StopProgress ( ) ; Cancel ( ) ; }
public void setOptions ( java.lang.String options ) { this . options = options ; optionsMap = org.ovirt.engine.core.common.businessentities.pm.FenceAgent.pmOptionsStringToMap ( options ) ; }
public void isConnectionNotExists ( ) { validator = new org.ovirt.engine.core.bll.validator.storage.StorageConnectionValidator ( null ) ; org.junit.Assert.assertEquals ( VdcBllMessages.ACTION_TYPE_FAILED_STORAGE_CONNECTION_NOT_EXIST , validator.isConnectionExists ( ) . getMessage ( ) ) ; }
public void testValidateSuccess ( ) { storageDomain.setStorageType ( StorageType.NFS ) ; storageDomain.setStorageDomainType ( StorageDomainType.Data ) ; org.ovirt.engine.core.bll.ValidateTestUtils.runAndAssertValidateSuccess ( command ) ; }
protected boolean isSoundDeviceEnabled ( ) { java.lang.Boolean soundDeviceEnabled = org.ovirt.engine.core.bll.UpdateVmTemplateCommand.getParameters ( ) . isSoundDeviceEnabled ( ) ; return soundDeviceEnabled != null ? soundDeviceEnabled : org.ovirt.engine.core.bll.utils.VmDeviceUtils.hasSoundDevice ( org.ovirt.engine.core.bll.UpdateVmTemplateCommand.getParameters ( ) . getVmTemplateData ( ) . getId ( ) ) ; }
void setUserId ( java.lang.String userId ) { this . userId = userId ; }
public void createParameters ( ) { parameters = new org.ovirt.engine.core.common.action.EndExternalJobParameters ( org.ovirt.engine.core.bll.EndExternalJobCommandTest.jobId , org.ovirt.engine.core.common.job.JobExecutionStatus.FINISHED , false ) ; }
public int hashCode ( ) { return ( to.hashCode ( ) ) + ( from.hashCode ( ) ) ; }
public void activated ( ) { if ( ( getBehavior ( ) . getInstanceTypeManager ( ) ) != null ) { getBehavior ( ) . getInstanceTypeManager ( ) . updateFields ( ) ; } }
protected java.util.Map < java.lang.String , java.lang.String > getStepMessageMap ( org.ovirt.engine.core.common.job.JobExecutionStatus status ) { java.util.Map < java.lang.String , java.lang.String > stepMessageMap = super . getStepMessageMap ( status ) ; stepMessageMap.put ( GlusterConstants.JOB_STATUS , "COMMITTED" ) ; return stepMessageMap ; }
static com.gwtplatform.mvp.client.TabData getTabData ( org.ovirt.engine.ui.webadmin.gin.ClientGinjector ginjector ) { return new org.ovirt.engine.ui.common.widget.tab.ModelBoundTabData ( ginjector.getApplicationConstants ( ) . volumeBrickSubTabLabel ( ) , 1 , ginjector.getSubTabVolumeBrickModelProvider ( ) ) ; }
public void validateVmMemoryCantRunOnVdsHighOverhead ( ) { vds.setGuestOverhead ( 1024 ) ; boolean vmPassedMemoryRequirement = org.ovirt.engine.core.bll.scheduling.SlaValidator.getInstance ( ) . hasOvercommitMemoryToRunVM ( vds , vm ) ; org.junit.Assert.assertEquals ( vmPassedMemoryRequirement , false ) ; }
protected java.util.List < org.ovirt.engine.core.common.businessentities.VM > getVmsUsingProfile ( ) { return getDbFacade ( ) . getVmDao ( ) . getAllForDiskProfiles ( java.util.Collections.singletonList ( getProfile ( ) . getId ( ) ) ) ; }
public com.google.gwt.event.shared.HandlerRegistration addValueChangeHandler ( com.google.gwt.event.logical.shared.ValueChangeHandler < java.lang.Integer > handler ) { return eventBus.addHandler ( com.google.gwt.event.logical.shared.ValueChangeEvent.getType ( ) , handler ) ; }
com.google.gwt.safehtml.shared.SafeHtml textAndTitle ( java.lang.String text , java.lang.String title ) ;
public java.lang.String call ( ) { com.woorea.openstack.cinder.model.SnapshotForCreate snapshotForCreate = new com.woorea.openstack.cinder.model.SnapshotForCreate ( ) ; snapshotForCreate.setVolumeId ( cinderDisk.getImageId ( ) . toString ( ) ) ; return proxy.createSnapshot ( snapshotForCreate ) ; }
public void onSuccess ( java.lang.Object model , java.lang.Object returnValue ) { org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncDataProvider.spiceSupportMatrix = ( ( org.ovirt.engine.core.common.queries.VdcQueryReturnValue ) ( returnValue ) ) . getReturnValue ( ) ; }
public void setpm_port ( java.lang.Integer value ) { pmPort = value ; }
private void cancel ( ) { cancelConfirmation ( ) ; setWindow ( null ) ; updateActionAvailability ( ) ; }
protected void setUpVersionExpectations ( ) throws java.lang.Exception { setUpGetEntityExpectations ( VdcQueryType.GetAvailableStoragePoolVersions , org.ovirt.engine.core.common.queries.IdQueryParameters.class , new java.lang.String [ ] { "Id" } , new java.lang.Object [ ] { GUIDS [ 0 ] } , getVersions ( ) ) ; }
public java.lang.Integer getDisplay ( ) { return this . vmDynamic.getDisplay ( ) ; }
public void setDedicatedVmForVds ( org.ovirt.engine.core.compat.NGuid value ) { vmStatic.setdedicated_vm_for_vds ( value ) ; }
public java.util.Map < java.lang.String , java.lang.Object > getTaskInfo ( java.lang.String taskUUID ) ;
public void setDataCenterName ( java.lang.String name ) { mainLabel.setText ( messages.theNetworkWillBeAddedToTheDataCenterAsWell ( name ) ) ; }
private java.lang.String getPath ( java.lang.Class < ? > clazz ) { javax.ws.rs.Path pathAnnotation = clazz.getAnnotation ( javax.ws.rs.Path.class ) ; return pathAnnotation == null ? null : pathAnnotation.value ( ) ; }
public void setIsResiliencePolicyTabAvailable ( boolean value ) { if ( ( getisResiliencePolicyTabAvailable ( ) ) != value ) { setisResiliencePolicyTabAvailable ( value ) ; onPropertyChanged ( new org.ovirt.engine.ui.uicompat.PropertyChangedEventArgs ( "IsResiliencePolicyTabAvailable" ) ) ; } }
public java.util.List < org.ovirt.engine.core.common.businessentities.StoragePool > getAllWithQuery ( java.lang.String query ) { return jdbcTemplate.query ( query , org.ovirt.engine.core.dao.StoragePoolDAODbFacadeImpl.mapper ) ; }
public void save ( org.ovirt.engine.core.common.businessentities.DbUser user ) { setIdIfNeeded ( user ) ; new org.springframework.jdbc.core.simple.SimpleJdbcCall ( jdbcTemplate ) . withProcedureName ( "InsertUser" ) . execute ( new org.ovirt.engine.core.dao.DbUserDAODbFacadeImpl.DbUserMapSqlParameterSource ( user ) ) ; }
private void attachStorageToDataCenter ( org.ovirt.engine.core.compat.Guid storageId , org.ovirt.engine.core.compat.Guid dataCenterId ) { org.ovirt.engine.ui.frontend.Frontend.RunAction ( VdcActionType.AttachStorageDomainToPool , new org.ovirt.engine.core.common.action.StorageDomainPoolParametersBase ( storageId , dataCenterId ) , null , this ) ; }
public java.lang.String getValue ( org.ovirt.engine.core.common.businessentities.NetworkView object ) { return ( object.getvlan_id ( ) ) == null ? "-" : object.getvlan_id ( ) . toString ( ) ; }
public void testChangeToExistingName ( ) { prepareVmToPassValidate ( ) ; mockSameNameQuery ( true ) ; org.junit.Assert.assertFalse ( "validate should have failed with vm name already in use." , command.validate ( ) ) ; assertValidateMessage ( EngineMessage.ACTION_TYPE_FAILED_NAME_ALREADY_USED ) ; }
public void testBootProtocolSetForDisplayNetworkWhenNullValuedIpConfigurationAndWhenNetworkClusterDisplayIsFalse ( ) { doTestBootProtocolSetForDisplayNetworkWhenNullValuedIpConfigurationAndWhenNetworkClusterDisplay ( false , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.isValid ( ) ) ; }
protected boolean failPassthroughVnicHotPlug ( ) { if ( ( org.ovirt.engine.core.common.businessentities.network.VmInterfaceType.pciPassthrough ) == ( org.ovirt.engine.core.common.businessentities.network.VmInterfaceType.forValue ( org.ovirt.engine.core.bll.network.vm.ActivateDeactivateVmNicCommand.getParameters ( ) . getNic ( ) . getType ( ) ) ) ) { addCanDoActionMessage ( EngineMessage.HOT_PLUG_UNPLUG_PASSTHROUGH_VNIC_NOT_SUPPORTED ) ; return true ; } return false ; }
protected java.util.ArrayList < org.ovirt.engine.core.compat.Guid > getTaskIdList ( ) { return ( getParameters ( ) . getParentCommand ( ) ) != ( org.ovirt.engine.core.common.action.VdcActionType.Unknown ) ? getReturnValue ( ) . getInternalTaskIdList ( ) : getReturnValue ( ) . getTaskIdList ( ) ; }
private void swithAccordingToMode ( final org.ovirt.engine.ui.uicommonweb.models.vms.UnitVmModel model ) { org.ovirt.engine.ui.common.widget.popup.AbstractVmBasedPopupPresenterWidget.getView ( ) . switchMode ( ( ( java.lang.Boolean ) ( model.getAdvancedMode ( ) . getEntity ( ) ) ) ) ; }
public void setstorage_ids ( java.util.ArrayList < org.ovirt.engine.core.compat.Guid > value ) { storageIds = value ; }
public void testAddUser4 ( ) throws java.lang.Exception { setUpEntityQueryExpectations ( QueryType.GetDomainList , org.ovirt.engine.core.common.queries.VdcQueryParametersBase.class , new java.lang.String [ ] { } , new java.lang.Object [ ] { } , setUpDomains ( ) ) ; setUpAddUserExpectations ( ( ( ( "ADUSER@" + ( DOMAIN ) ) + ":: username=" ) + ( NAMES [ 0 ] ) ) ) ; org.ovirt.engine.api.model.User model = new org.ovirt.engine.api.model.User ( ) ; model.setUserName ( NAMES [ 0 ] ) ; org.ovirt.engine.api.model.Domain domain = new org.ovirt.engine.api.model.Domain ( ) ; domain.setName ( org.ovirt.engine.api.restapi.resource.aaa.DOMAIN ) ; domain.setId ( org.ovirt.engine.api.restapi.utils.DirectoryEntryIdUtils.encode ( domain.getName ( ) ) ) ; model.setDomain ( domain ) ; javax.ws.rs.core.Response response = collection.add ( model ) ; verifyAddUser ( response ) ; }
public void testGetStorageDomainWithStatusForExistingPool ( ) { org.ovirt.engine.core.common.businessentities.StorageDomain result = dao.getStorageDomain ( FixturesTool.DATA_CENTER , existingDomain.getStorageDomainType ( ) , StorageDomainStatus.Active ) ; assertGetResult ( result ) ; }
private java.lang.String getVdsCertificateSubject ( ) { return backend.runInternalQuery ( VdcQueryType.GetVdsCertificateSubjectByVmId , new org.ovirt.engine.core.common.queries.IdQueryParameters ( getCachedVm ( ) . getId ( ) ) ) . getReturnValue ( ) ; }
public void execute ( ) { if ( ( canInvokePlugins ) && ( plugin.isInState ( PluginState.IN_USE ) ) ) { invokePlugin ( plugin , functionName , functionArgs ) ; } }
public org.ovirt.engine.core.common.businessentities.VDSType getHostType ( ) { return org.ovirt.engine.core.common.businessentities.VDSType.oVirtVintageNode ; }
private org.ovirt.engine.core.common.businessentities.gluster.GlusterVolumeEntity getStoppedVolume ( org.ovirt.engine.core.compat.Guid volumeId ) { org.ovirt.engine.core.common.businessentities.gluster.GlusterVolumeEntity volume = getGlusterVolume ( volumeId ) ; volume.setStatus ( GlusterVolumeStatus.DOWN ) ; return volume ; }
protected org.ovirt.engine.api.model.Bookmark getEntity ( int index ) { org.ovirt.engine.api.model.Bookmark bookmark = new org.ovirt.engine.api.model.Bookmark ( ) ; bookmark.setbookmark_id ( GUIDS [ index ] ) ; bookmark.setbookmark_name ( NAMES [ index ] ) ; bookmark.setbookmark_value ( org.ovirt.engine.api.restapi.resource.BackendBookmarksResourceTest.VALUES [ index ] ) ; return bookmark ; }
public void testGetAllForVmPools ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.Tags > result = dao.getAllForVmPools ( vmPool.toString ( ) ) ; org.junit.Assert.assertNotNull ( result ) ; org.junit.Assert.assertFalse ( result.isEmpty ( ) ) ; }
public void addDriveToImageMap ( java.lang.String drive , org.ovirt.engine.core.common.businessentities.DiskImage image ) { mDiskMap.put ( drive , image ) ; getDiskList ( ) . add ( image ) ; }
protected void startPollingAsyncTasks ( ) { startPollingAsyncTasks ( getReturnValue ( ) . getTaskIdList ( ) ) ; }
public void setvds_group_id ( org.ovirt.engine.core.compat.Guid value ) { this . mVdsStatic.setvds_group_id ( value ) ; }
public org.ovirt.engine.core.bll.ValidationResult stpForVmNetworkOnly ( ) { return ( network.isVmNetwork ( ) ) || ( ! ( network.getStp ( ) ) ) ? org.ovirt.engine.core.bll.ValidationResult.VALID : new org.ovirt.engine.core.bll.ValidationResult ( org.ovirt.engine.core.dal.VdcBllMessages.NON_VM_NETWORK_CANNOT_SUPPORT_STP ) ; }
public void testGetByGlusterServerUuid ( ) { org.ovirt.engine.core.common.businessentities.gluster.GlusterServer entity = dao.getByGlusterServerUuid ( FixturesTool.GLUSTER_SERVER_UUID1 ) ; org.junit.Assert.assertNotNull ( entity ) ; org.junit.Assert.assertEquals ( org.ovirt.engine.core.dao.gluster.GlusterServerDaoTest.SERVER_ID1 , entity.getId ( ) ) ; org.junit.Assert.assertEquals ( FixturesTool.GLUSTER_SERVER_UUID1 , entity.getGlusterServerUuid ( ) ) ; }
protected void handleError ( ) { addCanDoActionMessage ( EngineMessage.VDS_FENCE_OPERATION_FAILED ) ; addCanDoActionMessage ( EngineMessage.VAR__TYPE__HOST ) ; addCanDoActionMessage ( EngineMessage.VAR__ACTION__STOP ) ; org.ovirt.engine.core.bll.pm.StopVdsCommand.log.error ( "Failed to run StopVdsCommand on vds '{}'" , org.ovirt.engine.core.bll.pm.StopVdsCommand.getVdsName ( ) ) ; }
public java.lang.Object ExecuteWithReturnValue ( ) { Execute ( ) ; return getReturnValue ( ) ; }
private void updateVolumeType ( org.ovirt.engine.core.common.businessentities.StorageType storageType ) { getVolumeType ( ) . setSelectedItem ( ( storageType.isBlockDomain ( ) ? org.ovirt.engine.core.common.businessentities.VolumeType.Preallocated : org.ovirt.engine.core.common.businessentities.VolumeType.Sparse ) ) ; VolumeType_SelectedItemChanged ( ) ; }
protected void executeQueryCommand ( ) { getQueryReturnValue ( ) . setReturnValue ( getDbFacade ( ) . getCpuProfileDao ( ) . getAllForCluster ( getParameters ( ) . getId ( ) , getUserID ( ) , getParameters ( ) . isFiltered ( ) ) ) ; }
public static boolean isImagesExists ( java.lang.Iterable < org.ovirt.engine.core.common.businessentities.DiskImage > images , org.ovirt.engine.core.compat.Guid storagePoolId ) { return org.ovirt.engine.core.bll.ImagesHandler.isImagesExists ( images , storagePoolId , new java.util.ArrayList < org.ovirt.engine.core.common.businessentities.DiskImage > ( ) ) ; }
public void testCanDoActionFlowVmNotDown ( ) { org.mockito.Mockito.doReturn ( null ) . when ( cmd ) . getDisk ( ) ; org.ovirt.engine.core.bll.CanDoActionTestUtils.runAndAssertCanDoActionFailure ( cmd , VdcBllMessages.ACTION_TYPE_FAILED_VM_IMAGE_DOES_NOT_EXIST ) ; }
public void updateInterface ( org.ovirt.engine.core.compat.Version clusterVersion ) { getDiskInterface ( ) . setItems ( org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncDataProvider.getDiskInterfaceList ( clusterVersion ) ) ; }
protected org.ovirt.engine.core.common.businessentities.DiskImage cloneDiskImage ( org.ovirt.engine.core.compat.Guid newImageGuid ) { org.ovirt.engine.core.common.businessentities.DiskImage returnValue = super . cloneDiskImage ( newImageGuid ) ; returnValue.setImageTemplateId ( org.ovirt.engine.core.bll.CreateSnapshotFromTemplateCommand.getImage ( ) . getImageId ( ) ) ; return returnValue ; }
public void testGetPeersWithWrongPassword ( ) throws javax.naming.AuthenticationException { glusterUtil.getPeers ( org.ovirt.engine.core.utils.gluster.GlusterUtilTest.SERVER_NAME1 , org.ovirt.engine.core.utils.gluster.GlusterUtilTest.WRONG_PASSWORD ) ; }
private void selectAsSPM ( ) { org.ovirt.engine.core.common.action.ForceSelectSPMParameters params = new org.ovirt.engine.core.common.action.ForceSelectSPMParameters ( ( ( org.ovirt.engine.core.common.businessentities.VDS ) ( getSelectedItem ( ) ) ) . getId ( ) ) ; org.ovirt.engine.ui.frontend.Frontend.getInstance ( ) . runAction ( VdcActionType.ForceSelectSPM , params ) ; }
public boolean getIsAvailable ( ) { if ( ( getDetailModel ( ) . getEntity ( ) ) == null ) { return false ; } return ! ( ( ( org.ovirt.engine.core.common.businessentities.aaa.DbUser ) ( getDetailModel ( ) . getEntity ( ) ) ) . isGroup ( ) ) ; }
private void unlockImageInDb ( ) { final org.ovirt.engine.core.common.businessentities.DiskImage diskImage = ( ( org.ovirt.engine.core.common.businessentities.DiskImage ) ( getOldDisk ( ) ) ) ; diskImage.setImageStatus ( ImageStatus.OK ) ; org.ovirt.engine.core.bll.ImagesHandler.updateImageStatus ( diskImage.getImageId ( ) , ImageStatus.OK ) ; }
protected void ExecuteVdsBrokerCommand ( ) { super . ExecuteVdsBrokerCommand ( ) ; org.ovirt.engine.core.vdsbroker.vdsbroker.CollectVdsNetworkDataVDSCommand.persistAndEnforceNetworkCompliance ( org.ovirt.engine.core.vdsbroker.vdsbroker.CollectVdsNetworkDataVDSCommand.getVds ( ) ) ; org.ovirt.engine.core.vdsbroker.vdsbroker.CollectVdsNetworkDataVDSCommand.ProceedProxyReturnValue ( ) ; }
public org.ovirt.engine.api.model.Network addParents ( org.ovirt.engine.api.model.Network model ) { model = org.ovirt.engine.api.restapi.resource.BackendNetworkHelper.addParents ( model ) ; model.setCluster ( new org.ovirt.engine.core.common.businessentities.Cluster ( ) ) ; model.getCluster ( ) . setId ( clusterId.toString ( ) ) ; return model ; }
public void copyDataTo ( ovirt_engine_dwh.configurationsync_4_1.ConfigurationSync.updateFirstSyncStruct other ) { other.var_name = this . var_name ; other.var_value = this . var_value ; other.var_datetime = this . var_datetime ; }
public static void Alert ( org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBase auditLogable , org.ovirt.engine.core.common.AuditLogType logType , java.lang.String message ) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogDirector.log ( auditLogable , logType , message ) ; }
public void setup ( ) { org.mockito.Mockito.when ( underTest.getActionType ( ) ) . thenReturn ( VdcActionType.ChangeVMCluster ) ; }
public void testIsNetworkInSyncWhenIpv6StaticBootProtocolAddressEqual ( ) throws java.lang.Exception { initIpv6ConfigurationBootProtocolAddress ( org.ovirt.engine.core.utils.NetworkInSyncWithVdsNetworkInterfaceTest.IPV6_BOOT_PROTOCOL , true ) ; org.junit.Assert.assertThat ( createTestedInstance ( ) . isNetworkInSync ( ) , org.hamcrest.CoreMatchers.is ( true ) ) ; }
public void testIsNotLocalFsWithDefaultClusterWhenClusterIsDefault ( ) { storagePool.setIsLocal ( true ) ; org.mockito.Mockito.doReturn ( true ) . when ( validator ) . containsDefaultCluster ( ) ; org.junit.Assert.assertThat ( validator.isNotLocalfsWithDefaultCluster ( ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( EngineMessage.ACTION_TYPE_FAILED_STORAGE_POOL_WITH_DEFAULT_VDS_GROUP_CANNOT_BE_LOCALFS ) ) ; }
public void setUsageMemPercent ( java.lang.Integer value ) { this . mVdsStatistics.setusage_mem_percent ( value ) ; }
public void testIsDomainExistAndActiveDomainNotExists ( ) { validator = new org.ovirt.engine.core.bll.validator.storage.StorageDomainValidator ( null ) ; org.junit.Assert.assertThat ( "Wrong failure for null domain" , validator.isDomainExistAndActive ( ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( EngineMessage.ACTION_TYPE_FAILED_STORAGE_DOMAIN_NOT_EXIST ) ) ; }
public void put ( org.ovirt.engine.core.compat.Guid commandId , org.ovirt.engine.core.compat.Guid rootCommandId , org.ovirt.engine.core.common.action.VdcActionType actionType , org.ovirt.engine.core.common.action.VdcActionParametersBase params , org.ovirt.engine.core.compat.CommandStatus status , boolean enableCallBack ) ;
org.ovirt.engine.core.vdsbroker.gluster.StorageDeviceListReturnForXmlRpc getStorageDeviceList ( ) ;
private void assertCanDoActionMessage ( org.ovirt.engine.core.dal.VdcBllMessages msg ) { junit.framework.Assert.assertTrue ( "canDoAction failed for the wrong reason" , command.getReturnValue ( ) . getCanDoActionMessages ( ) . contains ( msg.name ( ) ) ) ; }
public void onClick ( com.google.gwt.event.dom.client.ClickEvent event ) { ( ( org.ovirt.engine.ui.common.widget.AddRemoveRowWidget < M , T , V > . AddRemoveRowPanel ) ( item.getSecond ( ) . getParent ( ) ) ) . swapButton ( createButton ( item ) ) ; addGhostEntry ( ) ; }
private org.ovirt.engine.core.common.businessentities.VmDevice createUnmanagedNetworkInterface ( boolean plugged ) { org.ovirt.engine.core.common.businessentities.VmDevice device = createNetworkInterfaceDevice ( plugged , org.ovirt.engine.core.compat.Guid.newGuid ( ) ) ; device.setIsManaged ( false ) ; return device ; }
public void eventRaised ( org.ovirt.engine.core.compat.Event ev , java.lang.Object sender , org.ovirt.engine.core.compat.EventArgs args ) { getBehavior ( ) . updateTimeZone ( ) ; }
public java.util.Date getvm_creation_date ( ) { return this . mVmStatic.getcreation_date ( ) ; }
private void NewServer ( ) { NewInternal ( VmType.Server ) ; }
public java.lang.String renderNullSafe ( java.lang.Object object ) { return ( ( org.ovirt.engine.core.common.businessentities.VDSGroup ) ( object ) ) . getName ( ) ; }
public void testValidateNetworkExclusiveOnNicsVmAndVlanAttachedToInterface ( ) throws java.lang.Exception { checkVmNetworkIsSoleAssignedInterface ( failsWithNetworkInterfacesNotExclusivelyUsedByNetwork ( ) , vmNetwork1 , vlanNetwork ) ; }
private org.ovirt.engine.core.common.businessentities.Cluster createCluster ( ) { org.ovirt.engine.core.common.businessentities.Cluster cluster = new org.ovirt.engine.core.common.businessentities.Cluster ( ) ; cluster.setId ( org.ovirt.engine.core.bll.gluster.GlusterServiceSyncJobTest.CLUSTER_ID ) ; cluster.setGlusterService ( true ) ; cluster.setCompatibilityVersion ( Version.v3_3 ) ; return cluster ; }
public org.ovirt.engine.core.common.AuditLogType getAuditLogTypeValue ( ) { if ( getSucceeded ( ) ) { return org.ovirt.engine.core.common.AuditLogType.GLUSTER_VOLUME_OPTIONS_RESET ; } else { return ( errorType ) == null ? org.ovirt.engine.core.common.AuditLogType.GLUSTER_VOLUME_OPTIONS_RESET_FAILED : errorType ; } }
protected void executeQueryCommand ( ) { org.ovirt.engine.core.bll.GetVirtioScsiControllersQuery.getQueryReturnValue ( ) . setReturnValue ( org.ovirt.engine.core.bll.utils.VmDeviceUtils.getVirtioScsiControllers ( org.ovirt.engine.core.bll.GetVirtioScsiControllersQuery.getParameters ( ) . getId ( ) , org.ovirt.engine.core.bll.GetVirtioScsiControllersQuery.getUserID ( ) , org.ovirt.engine.core.bll.GetVirtioScsiControllersQuery.getParameters ( ) . isFiltered ( ) ) ) ; }
protected org.ovirt.engine.core.common.action.VdcReturnValueBase runCanDoActionOnly ( final int currentCanDoActionId , final int totalSize ) { try { return super . runCanDoActionOnly ( currentCanDoActionId , totalSize ) ; } finally { getCommands ( ) . get ( currentCanDoActionId ) . freeLock ( ) ; } }
public void setPrestartedVmsHint ( java.lang.String value ) { if ( ( prestartedVmsHint ) != value ) { prestartedVmsHint = value ; OnPropertyChanged ( new org.ovirt.engine.core.compat.PropertyChangedEventArgs ( "PrestartedVmsHint" ) ) ; } }
public void setNfsVersion ( org.ovirt.engine.core.common.businessentities.NfsVersion nfsVersion ) { if ( ( this . nfsVersion ) != nfsVersion ) { this . nfsVersion = nfsVersion ; OnPropertyChanged ( new org.ovirt.engine.ui.uicompat.PropertyChangedEventArgs ( "NfsVersion" ) ) ; } }
private org.ovirt.engine.core.common.action.RemoveMemoryVolumesParameters buildRemoveMemoryVolumesParameters ( java.lang.String memoryState , org.ovirt.engine.core.compat.Guid vmId ) { org.ovirt.engine.core.common.action.RemoveMemoryVolumesParameters params = new org.ovirt.engine.core.common.action.RemoveMemoryVolumesParameters ( memoryState , vmId ) ; params.setEntityInfo ( getParameters ( ) . getEntityInfo ( ) ) ; return params ; }
public void getVMProperties ( org.ovirt.engine.core.compat.Version version , java.util.Map < java.lang.String , java.lang.String > propertiesMap , java.lang.String vmPropertiesFieldValue ) { if ( org.apache.commons.lang.StringUtils.isEmpty ( vmPropertiesFieldValue ) ) { return ; } populateVMProperties ( version , vmPropertiesFieldValue , propertiesMap ) ; }
protected void executeCommand ( ) { org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getVdsGroupDAO ( ) . remove ( org.ovirt.engine.core.bll.RemoveVdsGroupCommand.getVdsGroup ( ) . getId ( ) ) ; org.ovirt.engine.core.bll.RemoveVdsGroupCommand.setSucceeded ( true ) ; }
private static org.ovirt.engine.core.bll.validator.storage.StorageDomainValidator mockStorageDomainValidatorWithoutSpace ( ) { org.ovirt.engine.core.bll.validator.storage.StorageDomainValidator storageDomainValidator = org.ovirt.engine.core.bll.MoveOrCopyDiskCommandTest.mockStorageDomainValidator ( ) ; org.mockito.Mockito.when ( storageDomainValidator.hasSpaceForClonedDisk ( org.mockito.Matchers.any ( org.ovirt.engine.core.common.businessentities.storage.DiskImage.class ) ) ) . thenReturn ( new org.ovirt.engine.core.bll.ValidationResult ( org.ovirt.engine.core.common.errors.EngineMessage.ACTION_TYPE_FAILED_DISK_SPACE_LOW_ON_STORAGE_DOMAIN ) ) ; return storageDomainValidator ; }
private org.ovirt.engine.core.common.businessentities.VDS getHost ( ) { org.ovirt.engine.core.common.businessentities.VDS vds = new org.ovirt.engine.core.common.businessentities.VDS ( ) ; vds.setId ( GUIDS [ 2 ] ) ; return vds ; }
public void eventRaised ( com.google.gwt.user.client.Event ev , java.lang.Object sender , org.ovirt.engine.ui.uicompat.PropertyChangedEventArgs args ) { if ( "SearchString" . equals ( args.propertyName ) ) { if ( ! ( model.isSearchValidForServerSideSorting ( ) ) ) { model.clearSortOptions ( ) ; clearColumnSort ( ) ; } } }
protected java.lang.String getAdditionalInformation ( ) { if ( ( getVds ( ) ) != null ) { return java.lang.String.format ( "HostName = %1$s" , getVds ( ) . getName ( ) ) ; } else { return super . getAdditionalInformation ( ) ; } }
protected java.util.Map < java.lang.String , org.ovirt.engine.core.common.utils.Pair < java.lang.String , java.lang.String > > getSharedLocks ( ) { return java.util.Collections.emptyMap ( ) ; }
public org.ovirt.engine.core.common.businessentities.network.NetworkBootProtocol getBootProtocol ( ) { return nic.getBootProtocol ( ) ; }
public void testIsInternalExecutionFalse ( ) { org.ovirt.engine.core.bll.QueriesCommandBaseTest.ThereIsNoSuchQuery query = new org.ovirt.engine.core.bll.QueriesCommandBaseTest.ThereIsNoSuchQuery ( ) ; query.setInternalExecution ( true ) ; query.setInternalExecution ( false ) ; org.junit.Assert.assertFalse ( "Query should not be marked for internal execution" , query.isInternalExecution ( ) ) ; }
public void Cancel ( ) { CancelConfirm ( ) ; setWindow ( null ) ; }
protected org.ovirt.engine.api.model.OpenStackVolumeProvider doPopulate ( org.ovirt.engine.api.model.OpenStackVolumeProvider model , org.ovirt.engine.core.common.businessentities.Provider entity ) { return model ; }
public static org.ovirt.engine.core.common.businessentities.Provider getProvider ( org.ovirt.engine.api.restapi.resource.BackendResource resource , java.lang.String id ) { org.ovirt.engine.core.compat.Guid guid = org.ovirt.engine.core.compat.Guid.createGuidFromString ( id ) ; org.ovirt.engine.core.common.queries.IdQueryParameters parameters = new org.ovirt.engine.core.common.queries.IdQueryParameters ( guid ) ; return resource.getEntity ( org.ovirt.engine.core.common.businessentities.Provider.class , VdcQueryType.GetProviderById , parameters , id , true ) ; }
protected boolean shouldRenderCell ( org.ovirt.engine.ui.uicommonweb.models.userportal.UserPortalItemModel model ) { return ( ( model.getVM ( ) ) != null ) && ( model.getVM ( ) . isRunningOrPaused ( ) ) ; }
protected abstract void readGeneralData ( org.ovirt.engine.core.compat.backendcompat.XmlNode content ) ;
public void testRootHasNoParent ( ) throws java.lang.Exception { java.io.File file = writeConf ( ) ; org.ovirt.engine.core.extensions.mgr.Configuration config = org.ovirt.engine.core.extensions.mgr.Configuration.loadFile ( file ) ; org.junit.Assert.assertNotNull ( config ) ; org.junit.Assert.assertNull ( config.getParent ( ) ) ; }
protected void executeQueryCommand ( ) { org.ovirt.engine.core.bll.GetTagByTagNameQuery.getQueryReturnValue ( ) . setReturnValue ( org.ovirt.engine.core.bll.TagsDirector.getInstance ( ) . GetTagByName ( org.ovirt.engine.core.bll.GetTagByTagNameQuery.getParameters ( ) . getName ( ) ) ) ; }
public void onSetupNetworks ( ) { org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncDataProvider.GetNetworkConnectivityCheckTimeoutInSeconds ( new org.ovirt.engine.ui.frontend.AsyncQuery ( sourceListModel , new org.ovirt.engine.ui.frontend.INewAsyncCallback ( ) { @ java.lang.Override public void onSuccess ( java.lang.Object target , java.lang.Object returnValue ) { getConnectivityTimeout ( ) . setEntity ( returnValue ) ; postOnSetupNetworks ( ) ; } } ) ) ; }
public void testGetByVolumeId ( ) { org.ovirt.engine.core.common.businessentities.gluster.GlusterVolumeSnapshotSchedule schedule = dao.getByVolumeId ( org.ovirt.engine.core.dao.gluster.GlusterVolumeSnapshotScheduleDaoTest.VOLUME_ID_1 ) ; org.junit.Assert.assertNotNull ( schedule ) ; org.junit.Assert.assertEquals ( schedule , existingSchedule ) ; }
public void correlationIdMaxSize ( ) { org.ovirt.engine.core.common.action.ActionParametersBase parameters = new org.ovirt.engine.core.common.action.ActionParametersBase ( ) ; parameters.setCorrelationId ( org.apache.commons.lang.StringUtils.leftPad ( "" , BusinessEntitiesDefinitions.CORRELATION_ID_SIZE , "A" ) ) ; org.ovirt.engine.core.common.action.ActionReturnValue result = org.ovirt.engine.core.bll.job.ExecutionHandler.evaluateCorrelationId ( parameters ) ; org.junit.Assert.assertNull ( "Correlation id is size is at max permitted length" , result ) ; }
public void testGetFilteredByPermissionsForUnprivilegedUser ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.profiles.CpuProfile > result = dao.getAllForCluster ( FixturesTool.VDS_GROUP_RHEL6_ISCSI , org.ovirt.engine.core.dao.profiles.UNPRIVILEGED_USER_ID , true ) ; org.junit.Assert.assertTrue ( result.isEmpty ( ) ) ; }
public void typeMatchesProfileOnlyTypePassthrough ( ) { typeMatchesProfileCommon ( true , false ) ; org.junit.Assert.assertThat ( validator.typeMatchesProfile ( ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( EngineMessage.ACTION_TYPE_FAILED_VM_INTERFACE_TYPE_NOT_MATCH_PROFILE ) ) ; }
boolean prepareConnectStorageServer ( org.ovirt.engine.core.common.action.ConnectHostToStoragePoolServersParameters parameters , java.util.List < org.ovirt.engine.core.common.businessentities.StorageServerConnections > connections ) ;
public org.ovirt.engine.core.common.businessentities.AsyncTask getAsyncTask ( org.ovirt.engine.core.compat.Guid taskId , org.ovirt.engine.core.bll.CommandBase < ? > command , org.ovirt.engine.core.common.asynctasks.AsyncTaskCreationInfo asyncTaskCreationInfo , org.ovirt.engine.core.common.action.VdcActionType parentCommand ) { return coCoAsyncTaskHelper.getAsyncTask ( taskId , command , asyncTaskCreationInfo , parentCommand ) ; }
public org.ovirt.engineextensions.aaa.ldap.ASN1OctetString decode ( java.lang.String value ) { return conversion.decode ( value ) ; }
void processOnClientIpChange ( org.ovirt.engine.core.common.businessentities.VDS vds , org.ovirt.engine.core.compat.Guid vmId ) ;
void setupCloneTemplatePermissions ( org.ovirt.engine.core.common.action.VmManagementParametersBase params ) { boolean clonePermissions = org.ovirt.engine.api.common.util.QueryHelper.getBooleanMatrixParameter ( uriInfo , org.ovirt.engine.api.restapi.resource.BackendVmsResource.CLONE_PERMISSIONS , true , false ) ; if ( clonePermissions ) { params.setCopyTemplatePermissions ( clonePermissions ) ; } }
public void eventRaised ( org.ovirt.engine.ui.uicompat.Event ev , java.lang.Object sender , org.ovirt.engine.ui.uicompat.EventArgs args ) { getView ( ) . hideEveryoneSelection ( java.lang.Boolean.parseBoolean ( model.getIsRoleListHiddenModel ( ) . getEntity ( ) . toString ( ) ) ) ; }
public void setClusterPolicyModel ( org.ovirt.engine.ui.uicommonweb.models.clusters.ClusterPolicyModel clusterPolicyModel ) { this . clusterPolicyModel = clusterPolicyModel ; }
public java.lang.Object getQueryableId ( ) { return getId ( ) ; }
protected void OnCollectionChanged ( ) { OnCollectionChanged ( new org.ovirt.engine.ui.uicompat.NotifyCollectionChangedEventArgs ( ) ) ; }
private boolean logicalNetworkExists ( ) { if ( ( org.ovirt.engine.core.bll.network.cluster.AttachNetworkToVdsGroupCommand.getNetworkDAO ( ) . get ( getNetworkCluster ( ) . getNetworkId ( ) ) ) != null ) { return true ; } addCanDoActionMessage ( VdcBllMessages.NETWORK_NOT_EXISTS ) ; return false ; }
public void init ( ) { super . init ( ) ; org.ovirt.engine.api.restapi.utils.OsTypeMockUtils.mockOsTypes ( ) ; osRepository = control.createMock ( org.ovirt.engine.core.common.osinfo.OsRepository.class ) ; org.ovirt.engine.core.common.utils.SimpleDependencyInjector.getInstance ( ) . bind ( org.ovirt.engine.core.common.osinfo.OsRepository.class , osRepository ) ; }
public void settingSpecificNetworksNotAllowed ( ) { settingSpecificNetworksAllowedTest ( false ) ; org.junit.Assert.assertThat ( validator.settingSpecificNetworksAllowed ( ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.isValid ( ) ) ; }
public java.lang.Void runInTransaction ( ) { syncDbRecords ( false ) ; return null ; }
public java.util.List < org.ovirt.engine.core.common.businessentities.QuotaVdsGroup > getAllQuotaVdsGroupIncludingConsumption ( ) ;
public org.ovirt.engine.core.common.errors.VdcBllMessages validate ( org.ovirt.engine.core.common.businessentities.VDS vds , java.lang.StringBuilder sb , boolean isMigrate ) { if ( ! ( org.ovirt.engine.core.bll.scheduling.VdsSelector.isVMSwapValueLegal ( vds ) ) ) { sb.append ( "swap value is illegal" ) ; return org.ovirt.engine.core.common.errors.VdcBllMessages.ACTION_TYPE_FAILED_VDS_VM_SWAP ; } return null ; }
public void addLabelStyleName ( java.lang.String styleName ) { getLabelElement ( ) . addClassName ( styleName ) ; }
private static java.lang.String addLeadingZero ( int k ) { return k <= 15 ? "0" + ( java.lang.Integer.toHexString ( k ) ) : java.lang.Integer.toHexString ( k ) ; }
public boolean isManagedVm ( ) { return ( ! ( isHostedEngine ( ) ) ) && ( ! ( isExternalVm ( ) ) ) ; }
public boolean showDefaultValue ( ) { java.lang.String quotaName = getModel ( ) . getQuotaName ( ) ; return ( quotaName == null ) || ( "" . equals ( quotaName ) ) ; }
private void mockStorageDomainSpaceChecker ( org.ovirt.engine.core.common.businessentities.storage_domains domain , boolean succeeded ) { org.powermock.api.mockito.PowerMockito.when ( org.ovirt.engine.core.bll.command.utils.StorageDomainSpaceChecker.isBelowThresholds ( domain ) ) . thenReturn ( succeeded ) ; }
void processOnVmPoweringUp ( org.ovirt.engine.core.compat.Guid vds_id , org.ovirt.engine.core.compat.Guid vmid , java.lang.String display_ip , int display_port ) ;
public void testStorageNameLength ( ) { for ( org.ovirt.engine.core.common.businessentities.storage.DiskContentType d : org.ovirt.engine.core.common.businessentities.storage.DiskContentType.values ( ) ) { org.junit.Assert.assertEquals ( 4 , d.getStorageValue ( ) . length ( ) ) ; } }
public void setType ( org.ovirt.engine.ui.userportal.widget.QuotaProgressBar.QuotaType type ) { this . type = type ; }
public java.util.Map < java.lang.String , java.lang.Object > shutdownHost ( int reboot ) ;
public org.ovirt.engine.core.compat.NGuid getLastVdsRunOn ( ) { return this . vmDynamic.getlast_vds_run_on ( ) ; }
public void info ( java.lang.Object arg0 , java.lang.Throwable arg1 ) { log.info ( addPrefixToLogMessage ( arg0 ) , arg1 ) ; }
public void getUsbPolicyOnUpdateCurrentlyDisabledGotDisabledLegacyPolicyUsb ( ) { org.ovirt.engine.api.model.Usb usb = new org.ovirt.engine.api.model.Usb ( ) ; usb.setEnabled ( false ) ; usb.setType ( "legacy" ) ; assertEquals ( org.ovirt.engine.api.restapi.types.VmMapper.getUsbPolicyOnUpdate ( usb , UsbPolicy.DISABLED , null ) , UsbPolicy.DISABLED ) ; }
public java.lang.String getValue ( org.ovirt.engine.ui.uicommonweb.models.vms.ImportVmData importVmData ) { int size = importVmData.getVm ( ) . getVmMemSizeMb ( ) ; return size + " MB" ; }
public java.lang.Integer getMaxVmNameLengthWin ( ) { java.lang.Integer maxVmNameLengthWindows = ( ( java.lang.Integer ) ( getConfigValuePreConverted ( ConfigurationValues.MaxVmNameLengthWindows ) ) ) ; if ( maxVmNameLengthWindows == null ) { return 15 ; } return maxVmNameLengthWindows ; }
protected void setUpVersionExpectations ( int index ) throws java.lang.Exception { setUpGetEntityExpectations ( VdcQueryType.GetAvailableStoragePoolVersions , org.ovirt.engine.core.common.queries.GetAvailableStoragePoolVersionsParameters.class , new java.lang.String [ ] { "StoragePoolId" } , new java.lang.Object [ ] { GUIDS [ index ] } , getVersions ( ) ) ; }
public void run ( ) { try { monitorEngineServerStatus ( ) ; } catch ( java.lang.Throwable e ) { if ( ! ( java.lang.Thread.interrupted ( ) ) ) { org.ovirt.engine.core.notifier.EngineMonitorService.log.error ( "Error while trying to report engine server status" , e ) ; } isServerUp = true ; } }
public void runMultipleAction ( final org.ovirt.engine.core.common.action.VdcActionType actionType , final java.util.List < org.ovirt.engine.core.common.action.VdcActionParametersBase > parameters , final org.ovirt.engine.ui.uicompat.IFrontendMultipleActionAsyncCallback callback , final boolean showErrorDialog ) { runMultipleAction ( actionType , parameters , false , callback , null , showErrorDialog ) ; }
public void setmigrating_to_vds ( org.ovirt.engine.core.compat.NGuid value ) { this . mVmDynamic.setmigrating_to_vds ( value ) ; }
public java.util.Date getGuestLastLoginTime ( ) { return this . guestLastLoginTime ; }
protected void setStyles ( ) { super . setStyles ( ) ; connectAutomaticallyEditor.setContentWidgetContainerStyleName ( "connect-automatically-checkbox" ) ; connectAutomaticallyEditor.addContentWidgetContainerStyleName ( "connect-automatically-checkbox_pfly_fix" ) ; motdPanel.setVisible ( false ) ; }
protected org.ovirt.engine.core.dao.qos.QosDao < org.ovirt.engine.core.common.businessentities.network.NetworkQoS > getQosDao ( ) { return org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getNetworkQosDao ( ) ; }
private void template_SelectedItemChanged ( java.lang.Object sender , org.ovirt.engine.ui.uicompat.EventArgs args ) { behavior.template_SelectedItemChanged ( ) ; }
public java.util.List < org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface > getAllInterfacesWithIpAddress ( org.ovirt.engine.core.compat.Guid clusterId , java.lang.String ipAddress ) { org.springframework.jdbc.core.namedparam.MapSqlParameterSource parameterSource = getCustomMapSqlParameterSource ( ) . addValue ( "addr" , ipAddress ) . addValue ( "cluster_id" , clusterId ) ; return getCallsHandler ( ) . executeReadList ( "Getinterface_viewByAddr" , org.ovirt.engine.core.dao.network.InterfaceDaoDbFacadeImpl.vdsNetworkInterfaceRowMapper , parameterSource ) ; }
public void New ( ) { commandType = org.ovirt.engine.ui.uicommonweb.models.configure.roles_ui.RoleListModel.CommandType.New ; org.ovirt.engine.core.common.businessentities.Role role = new org.ovirt.engine.core.common.businessentities.Role ( ) ; InitRoleDialog ( role ) ; }
private void sortNics ( ) { java.util.Collections.sort ( getOriginalItems ( ) , new org.ovirt.engine.ui.uicommonweb.Linq.InterfaceComparator ( ) ) ; }
public void onClick ( com.google.gwt.event.dom.client.ClickEvent event ) { disk.getIsInternal ( ) . setEntity ( false ) ; revealStorageView ( disk ) ; revealDiskPanel ( disk ) ; }
void handleVdsMaintenanceTimeout ( org.ovirt.engine.core.common.businessentities.VDS vds ) ;
public org.ovirt.engine.core.vdsbroker.ResourceManager getResourceManager ( ) { return org.ovirt.engine.core.vdsbroker.ResourceManager.getInstance ( ) ; }
public void canDoActionFailureOnMovingCinderDisk ( ) { initializeCommand ( ImageOperation.Move , new org.ovirt.engine.core.common.businessentities.storage.CinderDisk ( ) ) ; org.ovirt.engine.core.bll.CanDoActionTestUtils.runAndAssertCanDoActionFailure ( command , EngineMessage.ACTION_TYPE_FAILED_NOT_SUPPORTED_DISK_STORAGE_TYPE ) ; }
public javax.ws.rs.core.Response migrate ( org.ovirt.engine.api.model.Action action ) { validateParameters ( action , "bricks" ) ; validateBrickNames ( action ) ; org.ovirt.engine.core.common.action.gluster.GlusterVolumeRemoveBricksParameters params = toParameters ( action.getBricks ( ) ) ; return performAction ( VdcActionType.StartRemoveGlusterVolumeBricks , params , action , false ) ; }
public void testMapConfigurationType ( ) { org.ovirt.engine.api.model.ConfigurationType configurationTypeBll = org.ovirt.engine.api.restapi.types.VmMapper.map ( ConfigurationType.OVF , null ) ; assertEquals ( org.ovirt.engine.api.model.org.ovirt.engine.core.common.businessentities.ConfigurationType , configurationTypeBll ) ; org.ovirt.engine.api.model.ConfigurationType configurationTypeApi = org.ovirt.engine.api.restapi.types.VmMapper.map ( org.ovirt.engine.api.model.org.ovirt.engine.core.common.businessentities.ConfigurationType , null ) ; assertEquals ( ConfigurationType.OVF , configurationTypeApi ) ; }
public javax.ws.rs.core.Response deactivate ( org.ovirt.engine.api.model.Action action ) { org.ovirt.engine.core.common.action.HotPlugUnplugVmNicParameters params = new org.ovirt.engine.core.common.action.HotPlugUnplugVmNicParameters ( guid , org.ovirt.engine.core.common.action.PlugAction.UNPLUG ) ; params.setVmId ( ( ( org.ovirt.engine.api.restapi.resource.BackendNicsResource ) ( collection ) ) . parentId ) ; return performAction ( VdcActionType.HotPlugUnplugVmNic , params ) ; }
public void testDnsResolverConfigurationNonDefaultRouteNetworkIsIgnored ( ) { network.setDnsResolverConfiguration ( sampleDnsResolverConfiguration ) ; testedNetworkAttachment.setDnsResolverConfiguration ( sampleDnsResolverConfiguration2 ) ; org.junit.Assert.assertThat ( createTestedInstance ( false , sampleDnsResolverConfiguration ) . isNetworkInSync ( ) , org.hamcrest.CoreMatchers.is ( true ) ) ; }
protected boolean canDoAction ( ) { return org.ovirt.engine.core.bll.aaa.SessionDataContainer.getInstance ( ) . isSessionExists ( org.ovirt.engine.core.bll.aaa.LogoutSessionCommand.getParameters ( ) . getSessionId ( ) ) ; }
private java.lang.String getTemplateSharedLockMessage ( ) { return new java.lang.StringBuilder ( VdcBllMessages.ACTION_TYPE_FAILED_TEMPLATE_IS_USED_FOR_CREATE_VM.name ( ) ) . append ( java.lang.String.format ( "$VmName %1$s" , org.ovirt.engine.core.bll.AddVmCommand.getVmName ( ) ) ) . toString ( ) ; }
public void Dispose ( ) { if ( ( _writer ) != null ) { CloseElements ( ) ; _writer.close ( ) ; _document.Load ( _fileName ) ; } deleteTmpFile ( ) ; }
public javax.ws.rs.core.Response add ( org.ovirt.engine.api.model.Nic nic ) { validateParameters ( nic , "name" ) ; return performCreate ( VdcActionType.AddVmTemplateInterface , new org.ovirt.engine.core.common.action.AddVmTemplateInterfaceParameters ( templateId , map ( nic ) ) , new org.ovirt.engine.api.restapi.resource.NicResolver ( nic.getName ( ) ) ) ; }
protected void AsyncSearch ( ) { super . AsyncSearch ( ) ; setAsyncResult ( org.ovirt.engine.ui.frontend.Frontend.RegisterQuery ( VdcQueryType.GetSystemPermissions , new org.ovirt.engine.core.common.queries.VdcQueryParametersBase ( ) ) ) ; setItems ( getAsyncResult ( ) . getData ( ) ) ; }
public void shouldCreateLessNumaNodesAsVirtualCores ( ) { vm.setNumOfSockets ( 1 ) ; vm.setCpuPerSocket ( 3 ) ; org.junit.Assert.assertTrue ( org.ovirt.engine.core.bll.numa.vm.NumaValidator.checkVmNumaNodesIntegrity ( vm , vm.getvNumaNodeList ( ) ) . isValid ( ) ) ; }
public void testInvalidNumberOfMonitors ( ) { prepareVmToPassCanDoAction ( ) ; vmStatic.setNumOfMonitors ( 99 ) ; org.junit.Assert.assertFalse ( "canDoAction should have failed with invalid number of monitors." , command.canDoAction ( ) ) ; assertCanDoActionMessage ( EngineMessage.ACTION_TYPE_FAILED_ILLEGAL_NUM_OF_MONITORS ) ; }
public void getUsbPolicyOnUpdateCurrentlyNativeGotNullUsb ( ) { org.ovirt.engine.api.model.Usb usb = null ; org.ovirt.engine.core.common.businessentities.UsbPolicy currentPolicy = org.ovirt.engine.core.common.businessentities.UsbPolicy.ENABLED_NATIVE ; assertEquals ( org.ovirt.engine.api.restapi.types.VmMapper.getUsbPolicyOnUpdate ( usb , currentPolicy , null ) , currentPolicy ) ; }
public java.lang.String getValue ( org.ovirt.engine.core.common.businessentities.gluster.GlusterBrickEntity brick ) { return brick.getQualifiedName ( ) ; }
public void RemoveVds ( org.ovirt.engine.core.compat.Guid vdsId ) { org.ovirt.engine.core.vdsbroker.VdsManager vdsManager = GetVdsManager ( vdsId ) ; if ( vdsManager != null ) { vdsManager.dispose ( ) ; vdsManagersDict.remove ( vdsId ) ; } }
public static boolean vmDeviceChanged ( org.ovirt.engine.core.compat.Guid vmId , org.ovirt.engine.core.common.businessentities.VmDeviceGeneralType deviceType , boolean deviceEnabled ) { return org.ovirt.engine.core.bll.utils.VmDeviceUtils.vmDeviceChanged ( vmId , deviceType , null , deviceEnabled ) ; }
public void interfaceBasedOnNotAVlanAtAll ( ) { org.junit.Assert.assertFalse ( org.ovirt.engine.core.utils.NetworkUtils.interfaceBasedOn ( ( ( org.ovirt.engine.core.utils.NetworkUtilsTest.IFACE_NAME ) + "1" ) , org.ovirt.engine.core.utils.NetworkUtilsTest.IFACE_NAME ) ) ; }
private org.ovirt.engine.ui.uicommonweb.action.LabelUnlabelUiAction getLabelUnlabelUiAction ( ) { return new org.ovirt.engine.ui.uicommonweb.action.LabelUnlabelUiAction ( hostSetupNetworksParametersData.addedLabels , hostSetupNetworksParametersData.removedLabels , hostSetupNetworksParametersData.removedBonds , getEntity ( ) . getId ( ) , this ) ; }
protected void SortCommands ( ) { java.util.Collections.sort ( getCommands ( ) , new org.ovirt.engine.core.bll.storage.StorageDomainsByTypeComparer ( ) ) ; }
public boolean isWarnEnabled ( ) { return log.isWarnEnabled ( ) ; }
private void initEditors ( org.ovirt.engine.ui.webadmin.ApplicationConstants constants , org.ovirt.engine.ui.webadmin.ApplicationResources resources , org.ovirt.engine.ui.webadmin.ApplicationTemplates templates ) { migrateEditor = new org.ovirt.engine.ui.common.widget.editor.generic.EntityModelCheckBoxEditor ( org.ovirt.engine.ui.common.widget.Align.RIGHT ) ; migrateInfoIcon = new org.ovirt.engine.ui.common.widget.dialog.InfoIcon ( templates.italicText ( constants.removeBricksMigrateDataInfo ( ) ) , resources ) ; }
public void UpdateVdsStatisticsData ( org.ovirt.engine.core.common.businessentities.VdsStatistics vdsStatistics ) { org.ovirt.engine.core.vdsbroker.VdsManager vdsManager = GetVdsManager ( vdsStatistics.getId ( ) ) ; if ( vdsManager != null ) { vdsManager.UpdateStatisticsData ( vdsStatistics ) ; } }
protected void changeDomainStatusWithCompensation ( org.ovirt.engine.core.common.businessentities.StoragePoolIsoMap map , org.ovirt.engine.core.common.businessentities.StorageDomainStatus compensateStatus , org.ovirt.engine.core.common.businessentities.StorageDomainStatus newStatus ) { map.setStatus ( compensateStatus ) ; changeStorageDomainStatusInTransaction ( map , newStatus ) ; }
public void InitTest ( ) { mockCpuFlagsManagerHandler ( ) ; mockOsRepository ( ) ; org.ovirt.engine.core.common.utils.SimpleDependencyInjector.getInstance ( ) . bind ( org.ovirt.engine.core.dal.dbbroker.DbFacade.class , dbFacade ) ; }
public void eventRaised ( org.ovirt.engine.ui.uicompat.Event < ? extends org.ovirt.engine.ui.uicompat.EventArgs > ev , java.lang.Object sender , org.ovirt.engine.ui.uicompat.EventArgs args ) { com.google.gwt.event.logical.shared.ValueChangeEvent.fire ( this , null ) ; }
public void setStyle ( final org.ovirt.engine.ui.webadmin.section.main.view.popup.host.panels.NetworkPanelsStyle style ) { super . setStyle ( style ) ; stylePanel ( requiredPanel , constants.requiredNetwork ( ) ) ; stylePanel ( nonRequiredPanel , constants.nonRequiredNetwork ( ) ) ; }
public void setUp ( ) throws java.lang.Exception { super . setUp ( ) ; config = new org.ovirt.engine.core.dal.dbbroker.generic.DBConfigUtils ( false ) ; config.refreshVdcOptionCache ( dbFacade ) ; }
public org.ovirt.engine.api.resource.TemplateDiskResource getDeviceSubResource ( java.lang.String id ) { return inject ( new org.ovirt.engine.api.restapi.resource.BackendTemplateDiskResource ( asGuidOr404 ( id ) , this ) ) ; }
public void setConfirmWindow ( org.ovirt.engine.ui.uicommonweb.models.Model value ) { if ( ( confirmWindow ) != value ) { confirmWindow = value ; onPropertyChanged ( new org.ovirt.engine.ui.uicompat.PropertyChangedEventArgs ( "ConfirmWindow" ) ) ; } }
protected void executeCommand ( ) { org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getTagDao ( ) . updateDefaultDisplayForVmTag ( org.ovirt.engine.core.bll.UpdateTagsVmMapDefaultDisplayTypeCommand.getParameters ( ) . getTagsVmMap ( ) ) ; org.ovirt.engine.core.bll.UpdateTagsVmMapDefaultDisplayTypeCommand.setSucceeded ( true ) ; }
public void testAddGroupWithExplicitDirectoryName ( ) throws java.lang.Exception { setUriInfo ( setUpBasicUriExpectations ( ) ) ; setUpGetEntityExpectations ( ( ( ( "ADGROUP@" + ( DOMAIN ) ) + ": allnames=" ) + ( NAMES [ 0 ] ) ) , SearchType.AdGroup , getDirectoryGroup ( 0 ) ) ; setUpCreationExpectations ( VdcActionType.AddGroup , org.ovirt.engine.core.common.action.DirectoryIdParameters.class , new java.lang.String [ ] { "Directory" , "Id" } , new java.lang.Object [ ] { DOMAIN , GUIDS [ 0 ] } , true , true , null , VdcQueryType.GetDbGroupById , org.ovirt.engine.core.common.queries.IdQueryParameters.class , new java.lang.String [ ] { "Id" } , new java.lang.Object [ ] { GUIDS [ 0 ] } , getEntity ( 0 ) ) ; org.ovirt.engine.api.model.Domain domain = new org.ovirt.engine.api.model.Domain ( ) ; domain.setName ( org.ovirt.engine.api.restapi.resource.DOMAIN ) ; org.ovirt.engine.api.model.Group model = new org.ovirt.engine.api.model.Group ( ) ; model.setName ( NAMES [ 0 ] ) ; model.setDomain ( domain ) ; javax.ws.rs.core.Response response = collection.add ( model ) ; assertEquals ( 201 , response.getStatus ( ) ) ; assertTrue ( ( ( response.getEntity ( ) ) instanceof org.ovirt.engine.api.model.Group ) ) ; verifyModel ( ( ( org.ovirt.engine.api.model.Group ) ( response.getEntity ( ) ) ) , 0 ) ; }
public void addColumn ( com.google.gwt.user.cellview.client.Column < T , ? > column , java.lang.String headerText ) { addColumn ( column , getHeader ( column , headerText , false ) ) ; }
public void unsetBoot ( ) { this . boot = null ; }
protected void updateBootOrderInVmDevice ( ) { org.ovirt.engine.core.bll.utils.VmDeviceUtils.updateBootOrder ( org.ovirt.engine.core.bll.storage.disk.AttachDiskToVmCommand.getVm ( ) . getId ( ) ) ; }
public java.util.List < org.ovirt.engine.core.common.businessentities.VDS > filter ( java.util.List < org.ovirt.engine.core.common.businessentities.VDS > hosts , org.ovirt.engine.core.common.businessentities.VM vm , java.util.Map < java.lang.String , java.lang.String > parameters , org.ovirt.engine.core.common.scheduling.PerHostMessages messages ) { return org.ovirt.engine.core.bll.scheduling.policyunits.VmAffinityFilterPolicyUnit.getAcceptableHosts ( true , hosts , vm , messages ) ; }
public java.util.List < org.ovirt.engine.core.common.businessentities.VmDevice > getVmDevicesAttachedToHost ( org.ovirt.engine.core.compat.Guid hostId ) { return getCallsHandler ( ) . executeReadList ( "GetVmDevicesAttachedToHost" , VmDeviceDaoImpl.VmDeviceRowMapper.instance , getCustomMapSqlParameterSource ( ) . addValue ( "host_id" , hostId ) ) ; }
public void testIsNetworkInSyncWhenNetworkQosIsNull ( ) throws java.lang.Exception { networkQos = null ; org.junit.Assert.assertThat ( createTestedInstanceWithSameNonQosValues ( ) . isNetworkInSync ( ) , org.hamcrest.CoreMatchers.is ( true ) ) ; }
protected boolean setAndValidateCpuProfile ( ) { return validate ( org.ovirt.engine.core.bll.profiles.CpuProfileHelper.setAndValidateCpuProfile ( getVmTemplate ( ) , getVdsGroup ( ) . getcompatibility_version ( ) ) ) ; }
public boolean AddAsyncRunningVm ( org.ovirt.engine.core.compat.Guid vmId ) { return asyncRunningVms.add ( vmId ) ; }
private void addErrataForHostsFeature ( org.ovirt.engine.api.model.Features features ) { org.ovirt.engine.api.model.Feature feature = new org.ovirt.engine.api.model.Feature ( ) ; feature.setName ( "Katello Host Errata" ) ; feature.setDescription ( "View available Katello Errata for hosts." ) ; features.getFeature ( ) . add ( feature ) ; }
public org.ovirt.engine.core.bll.quota.QuotaManager getQuotaManager ( ) { return quotaManager ; }
java.util.List < org.ovirt.engine.core.common.businessentities.VM > getAllRunningForStorageDomain ( org.ovirt.engine.core.compat.Guid storageDomain ) ;
public void setis_auto_suspend ( boolean value ) { this . mVmStatic.setis_auto_suspend ( value ) ; OnPropertyChanged ( new org.ovirt.engine.core.compat.PropertyChangedEventArgs ( "is_auto_suspend" ) ) ; }
public void setGuid ( org.ovirt.engine.core.compat.Guid guid ) { this . guid = guid ; }
public void testAllLunsSupportDiscardFailsOneLunDoesNotSupport ( ) { junit.framework.Assert.assertFalse ( discardHelper.allLunsSupportDiscard ( java.util.Arrays.asList ( createLunWithDiscardFunctionality ( 1024L , true ) , createLunWithDiscardFunctionality ( 2048L , false ) , createLunWithDiscardFunctionality ( 0L , true ) ) ) ) ; }
public void run ( ) { org.ovirt.engine.core.bll.InitBackendServicesOnStartupBean.log.infoFormat ( "MacPoolManager started: {0}" , new java.util.Date ( ) ) ; org.ovirt.engine.core.bll.MacPoolManager.getInstance ( ) . initialize ( ) ; org.ovirt.engine.core.bll.InitBackendServicesOnStartupBean.log.infoFormat ( "MacPoolManager finished: {0}" , new java.util.Date ( ) ) ; }
public java.util.List < org.ovirt.engine.core.utils.vmproperties.VmPropertiesUtils.ValidationError > validateVMProperties ( org.ovirt.engine.core.compat.Version version , org.ovirt.engine.core.common.businessentities.VmStatic vmStatic ) { java.util.List < org.ovirt.engine.core.utils.vmproperties.VmPropertiesUtils.ValidationError > errors = validateProperties ( version , vmStatic.getCustomProperties ( ) ) ; return errors ; }
private void IsTemplatePrivate_EntityChanged ( java.lang.Object sender , org.ovirt.engine.core.compat.EventArgs args ) { getIsTemplatePublic ( ) . setEntity ( ( ! ( ( java.lang.Boolean ) ( getIsTemplatePrivate ( ) . getEntity ( ) ) ) ) ) ; }
public javax.ws.rs.core.Response deactivate ( org.ovirt.engine.api.model.Action action ) { return doAction ( VdcActionType.MaintenanceNumberOfVdss , new org.ovirt.engine.core.common.action.MaintenanceNumberOfVdssParameters ( asList ( guid ) , false ) , action ) ; }
public java.lang.Object Convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { return source != null ? ( ( java.lang.Boolean ) ( source ) ) . booleanValue ( ) : true ; }
public void getFreeVfNoVfs ( ) { freeVfCommon ( 0 , 0 , 0 , 0 , 0 ) ; org.junit.Assert.assertNull ( hostNicVfsConfigHelper.getFreeVf ( nic ) ) ; }
public org.ovirt.engine.api.v3.types.V3VM update ( org.ovirt.engine.api.v3.types.V3VM vm ) { return adaptUpdate ( delegate :: update , vm ) ; }
public java.lang.String getValue ( org.ovirt.engine.core.common.businessentities.network.Network object ) { return object.getProvidedBy ( ) . getExternalId ( ) ; }
public org.ovirt.engine.api.resource.externalhostproviders.SystemKatelloErrataResource getKatelloErrataResource ( ) { return inject ( new org.ovirt.engine.api.restapi.resource.externalhostproviders.BackendSystemKatelloErrataResource ( ) ) ; }
public boolean DisconnectStorageFromLunByVdsId ( org.ovirt.engine.core.common.businessentities.storage_domains storageDomain , org.ovirt.engine.core.compat.Guid vdsId , org.ovirt.engine.core.common.businessentities.LUNs lun ) { return runConnectionStorageToDomain ( storageDomain , vdsId , VDSCommandType.DisconnectStorageServer.getValue ( ) , lun , Guid.Empty ) ; }
public int getAnonymousHugePages ( ) { return this . anonymousHugePages ; }
public void testMacIsContainedInRange ( ) { org.junit.Assert.assertThat ( rangeOf10Macs.contains ( org.ovirt.engine.core.bll.network.macpool.RangeTest.MAC_FROM_RANGE ) , org.hamcrest.CoreMatchers.is ( true ) ) ; }
protected void verifyModel ( org.ovirt.engine.api.model.User model , int index ) { assertEquals ( GUIDS [ index ] . toString ( ) , model.getId ( ) ) ; assertEquals ( ( ( ( NAMES [ index ] ) + "@" ) + ( DOMAIN ) ) , model.getUserName ( ) ) ; assertNotNull ( model.getDomain ( ) ) ; assertEquals ( new org.ovirt.engine.core.compat.Guid ( org.ovirt.engine.api.restapi.resource.aaa.DOMAIN.getBytes ( ) , true ) . toString ( ) , model.getDomain ( ) . getId ( ) ) ; assertTrue ( model.isSetGroups ( ) ) ; assertEquals ( org.ovirt.engine.api.restapi.resource.aaa.BackendUsersResourceTest.PARSED_GROUPS.length , model.getGroups ( ) . getGroups ( ) . size ( ) ) ; java.util.HashSet < java.lang.String > groupNames = new java.util.HashSet < > ( ) ; for ( org.ovirt.engine.api.model.Group group : model.getGroups ( ) . getGroups ( ) ) { groupNames.add ( group.getName ( ) ) ; } assertEquals ( new java.util.HashSet < java.lang.String > ( java.util.Arrays.asList ( org.ovirt.engine.api.restapi.resource.aaa.BackendUsersResourceTest.PARSED_GROUPS ) ) , groupNames ) ; verifyLinks ( model ) ; }
public void testGetGlusterVolumeSnapshotConfigByVolumeIdAndName ( ) { org.ovirt.engine.core.common.businessentities.gluster.GlusterVolumeSnapshotConfig config = dao.getConfigByVolumeIdAndName ( org.ovirt.engine.core.dao.gluster.GlusterVolumeSnapshotConfigDaoTest.CLUSTER_ID , org.ovirt.engine.core.dao.gluster.GlusterVolumeSnapshotConfigDaoTest.VOLUME_ID , org.ovirt.engine.core.dao.gluster.GlusterVolumeSnapshotConfigDaoTest.PARAM_NAME_2 ) ; org.junit.Assert.assertNotNull ( config ) ; org.junit.Assert.assertEquals ( config , existingConfig2 ) ; }
protected void executeVdsBrokerCommand ( ) { _result = org.ovirt.engine.core.vdsbroker.vdsbroker.HSMGetTaskStatusVDSCommand.getBroker ( ) . getTaskStatus ( org.ovirt.engine.core.vdsbroker.vdsbroker.HSMGetTaskStatusVDSCommand.getParameters ( ) . getTaskId ( ) . toString ( ) ) ; proceedProxyReturnValue ( ) ; setReturnValue ( parseTaskStatus ( _result.TaskStatus ) ) ; }
public org.ovirt.engine.core.bll.job.ExecutionContext getExecutionContext ( ) { return super . getExecutionContext ( ) ; }
protected void executeQueryCommand ( ) { org.ovirt.engine.core.bll.GetDbUserByUserIdQuery.getQueryReturnValue ( ) . setReturnValue ( org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getDbUserDAO ( ) . get ( org.ovirt.engine.core.bll.GetDbUserByUserIdQuery.getParameters ( ) . getUserId ( ) ) ) ; }
protected void executeCommand ( ) { InitOldParentTagName ( ) ; org.ovirt.engine.core.bll.TagsDirector.getInstance ( ) . MoveTag ( org.ovirt.engine.core.bll.MoveTagCommand.getParameters ( ) . getTagId ( ) , org.ovirt.engine.core.bll.MoveTagCommand.getParameters ( ) . getNewParentId ( ) ) ; org.ovirt.engine.core.bll.MoveTagCommand.setSucceeded ( true ) ; }
public java.lang.String getAddress ( ) { return nic.getAddress ( ) ; }
private void setRngDeviceToParams ( org.ovirt.engine.ui.uicommonweb.models.vms.UnitVmModel model , org.ovirt.engine.core.common.action.VmManagementParametersBase parameters ) { parameters.setUpdateRngDevice ( true ) ; parameters.setRngDevice ( ( model.getIsRngEnabled ( ) . getEntity ( ) ? model.generateRngDevice ( ) : null ) ) ; }
public void getUsbPolicyUsbTypeNative ( ) { org.ovirt.engine.api.model.Usb usb = new org.ovirt.engine.api.model.Usb ( ) ; usb.setEnabled ( true ) ; usb.setType ( UsbType.NATIVE ) ; assertEquals ( UsbPolicy.ENABLED_NATIVE , org.ovirt.engine.api.restapi.types.VmMapper.getUsbPolicyOnCreate ( usb ) ) ; }
private void setUpGetEntityExpectations ( ) throws java.lang.Exception { setUpGetEntityExpectations ( VdcQueryType.GetVmByVmId , org.ovirt.engine.core.common.queries.IdQueryParameters.class , new java.lang.String [ ] { "Id" } , new java.lang.Object [ ] { GUIDS [ 0 ] } , new org.ovirt.engine.api.model.VM ( ) ) ; }
public void testIsUsingScsiReservationValidWhenSgioIsFiltered ( ) { setupForLun ( ) ; org.ovirt.engine.core.common.businessentities.storage.LunDisk lunDisk1 = createLunDisk ( ScsiGenericIO.FILTERED , true ) ; org.junit.Assert.assertThat ( lunValidator.isUsingScsiReservationValid ( org.ovirt.engine.core.bll.validator.storage.DiskValidatorTest.createVM ( ) , lunDisk1 ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( EngineMessage.ACTION_TYPE_FAILED_SGIO_IS_FILTERED ) ) ; }
public int getmem_size_mb ( ) { return this . getvm_mem_size_mb ( ) ; }
public void testValidModifiedBondsFailsWhenReferencingExistingNonBondInterface ( ) throws java.lang.Exception { org.ovirt.engine.core.common.businessentities.network.Bond bond = createBond ( ) ; org.ovirt.engine.core.bll.ValidationResult notABondValidationResult = new org.ovirt.engine.core.bll.ValidationResult ( org.ovirt.engine.core.common.errors.VdcBllMessages.NETWORK_INTERFACE_IS_NOT_BOND , org.ovirt.engine.core.bll.validator.HostInterfaceValidator.VAR_NETWORK_INTERFACE_IS_NOT_BOND_ENTITY , bond.getName ( ) ) ; doTestValidModifiedBonds ( bond , ValidationResult.VALID , notABondValidationResult , notABondValidationResult , ValidationResult.VALID ) ; }
public void updateCpuFlags ( org.ovirt.engine.core.compat.Guid id , java.lang.String cpuFlags ) { org.ovirt.engine.core.common.businessentities.VdsDynamic entity = get ( id ) ; entity.setCpuFlags ( cpuFlags ) ; update ( entity ) ; }
protected void addCanDoActionMessage ( java.lang.String message ) { getReturnValue ( ) . getCanDoActionMessages ( ) . add ( message ) ; }
public void testNoRepeats ( ) { java.lang.String sample = org.ovirt.engine.core.utils.Ticketing.generateOTP ( ) ; for ( int x = 0 ; x < 1000 ; x ++ ) { java.lang.String other = org.ovirt.engine.core.utils.Ticketing.generateOTP ( ) ; org.junit.jupiter.api.Assertions.assertNotSame ( sample , other ) ; } }
protected boolean isStorageDomainWithinThresholds ( org.ovirt.engine.core.common.businessentities.StorageDomain storageDomain ) { return validate ( new org.ovirt.engine.core.bll.validator.StorageDomainValidator ( storageDomain ) . isDomainWithinThresholds ( ) ) ; }
public void iscsiBondDoesNotExist ( ) { org.ovirt.engine.core.bll.ValidationResult res = validator.isIscsiBondExist ( null ) ; org.junit.Assert.assertEquals ( VdcBllMessages.ISCSI_BOND_NOT_EXIST , res.getMessage ( ) ) ; }
public org.ovirt.engine.api.model.Hosts list ( ) { org.ovirt.engine.core.common.mode.ApplicationMode appMode = getCurrent ( ) . get ( org.ovirt.engine.core.common.mode.ApplicationMode.class ) ; if ( appMode == ( org.ovirt.engine.core.common.mode.ApplicationMode.GlusterOnly ) ) { return listGlusterOnly ( ) ; } else { return listAll ( ) ; } }
public java.lang.String getVar_value ( ) { return this . var_value ; }
public java.lang.Object Convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { return source != null ? ( ( org.ovirt.engine.core.common.businessentities.StorageServerConnections ) ( source ) ) : null ; }
public boolean eval ( org.ovirt.engine.core.common.businessentities.gluster.GlusterVolumeEntity slaveVolume ) { return ! ( masterVolume.getClusterId ( ) . equals ( slaveVolume.getClusterId ( ) ) ) ; }
protected boolean isDisksAliasNotEmpty ( ) { for ( org.ovirt.engine.core.common.businessentities.storage.DiskImage diskImage : diskInfoDestinationMap.values ( ) ) { if ( org.apache.commons.lang.StringUtils.isEmpty ( diskImage.getDiskAlias ( ) ) ) { return failCanDoAction ( VdcBllMessages.ACTION_TYPE_FAILED_TEMPLATE_CANNOT_BE_CREATED_WITH_EMPTY_DISK_ALIAS ) ; } } return true ; }
private void setNewMap ( java.util.Map < org.ovirt.engine.core.compat.Guid , org.ovirt.engine.core.bll.SPMAsyncTask > asyncTaskMap ) { _tasks = asyncTaskMap ; logChangedMap = true ; org.ovirt.engine.core.bll.AsyncTaskManager.log.infoFormat ( "AsyncTaskManager::SetNewMap: The map contains now {0} tasks" , _tasks.size ( ) ) ; }
public org.ovirt.engine.api.model.CpuProfile update ( org.ovirt.engine.api.model.CpuProfile resource ) { return performUpdate ( resource , new org.ovirt.engine.api.restapi.resource.QueryIdResolver ( org.ovirt.engine.core.common.queries.VdcQueryType.GetCpuProfileById , org.ovirt.engine.core.common.queries.IdQueryParameters.class ) , ActionType.UpdateCpuProfile , new org.ovirt.engine.api.restapi.resource.BackendCpuProfileResource.UpdateParametersProvider ( ) ) ; }
protected org.ovirt.engine.api.model.Network addParents ( org.ovirt.engine.api.model.Network model ) { return org.ovirt.engine.api.restapi.resource.BackendNetworkHelper.addParents ( model ) ; }
private org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface getNic ( ) { if ( ( nic ) == null ) { nic = org.ovirt.engine.core.bll.network.host.LabelNicCommand.getDbFacade ( ) . getInterfaceDao ( ) . get ( org.ovirt.engine.core.bll.network.host.LabelNicCommand.getParameters ( ) . getNicId ( ) ) ; } return nic ; }
protected java.lang.String generateVmMetadata ( org.ovirt.engine.core.common.businessentities.VM vm , java.util.List < org.ovirt.engine.core.common.businessentities.storage.DiskImage > AllVmImages ) { return ovfManager.exportVm ( vm , AllVmImages , org.ovirt.engine.core.bll.utils.ClusterUtils.getCompatibilityVersion ( vm ) ) ; }
protected void SearchNextPage ( ) { SetSearchStringPage ( getNextSearchPageNumber ( ) ) ; getSearchCommand ( ) . Execute ( ) ; }
private org.ovirt.engine.core.aaa.DirectoryUser getDirectoryUser ( int index ) { return new org.ovirt.engine.core.aaa.DirectoryUser ( DOMAIN , EXTERNAL_IDS [ index ] , NAMES [ index ] ) ; }
public void edit ( org.ovirt.engine.ui.uicommonweb.models.profiles.VnicProfileModel model ) { driver.edit ( model ) ; publicInfo.setVisible ( model.getPublicUse ( ) . getIsAvailable ( ) ) ; }
public void testDescriptionField ( ) { org.ovirt.engine.core.searchbackend.VmConditionFieldAutoCompleter comp = new org.ovirt.engine.core.searchbackend.VmConditionFieldAutoCompleter ( ) ; org.junit.Assert.assertTrue ( comp.validationDict.containsKey ( "DESCRIPTION" ) ) ; org.junit.Assert.assertTrue ( comp.validateFieldValue ( "DESCRIPTION" , "bar" ) ) ; }
protected java.util.Collection < org.ovirt.engine.api.model.VM > getEntitiesFromExportDomain ( ) { org.ovirt.engine.core.common.queries.GetAllFromExportDomainQueryParamenters params = new org.ovirt.engine.core.common.queries.GetAllFromExportDomainQueryParamenters ( getDataCenterId ( storageDomainId ) , storageDomainId ) ; params.setGetAll ( true ) ; return getBackendCollection ( VdcQueryType.GetVmsFromExportDomain , params ) ; }
protected org.ovirt.engine.core.common.businessentities.StorageType getEnum ( org.ovirt.engine.core.common.businessentities.StoragePool storage ) { return storage.getStorageType ( ) ; }
static com.gwtplatform.mvp.client.TabData getTabData ( org.ovirt.engine.ui.webadmin.gin.ClientGinjector ginjector ) { return new org.ovirt.engine.ui.common.widget.tab.ModelBoundTabData ( ginjector.getApplicationConstants ( ) . clusterHostSubTabLabel ( ) , 2 , ginjector.getSubTabClusterHostModelProvider ( ) ) ; }
protected boolean setAndValidateCpuProfile ( ) { return validate ( org.ovirt.engine.core.bll.profiles.CpuProfileHelper.setAndValidateCpuProfile ( org.ovirt.engine.core.bll.CommonVmPoolWithVmsCommand.getParameters ( ) . getVmStaticData ( ) ) ) ; }
public void setUp ( ) { vm = new org.ovirt.engine.core.common.businessentities.VM ( ) ; validator = new org.ovirt.engine.core.bll.validator.VmValidator ( vm ) ; }
protected void endWithFailure ( ) { endCommand ( ) ; }
private org.ovirt.engine.core.common.businessentities.VM readVmFromOvf ( java.lang.String ovf ) { try { return new org.ovirt.engine.core.bll.OvfHelper ( ) . readVmFromOvf ( ovf ) ; } catch ( org.ovirt.engine.core.utils.ovf.OvfReaderException e ) { log.debug ( ( "failed to parse a given ovf configuration: \n" + ovf ) , e ) ; convertFailed ( ) ; return null ; } }
public void validateNonExistingJobFails ( ) { org.mockito.Mockito.when ( jobDaoMock.get ( org.ovirt.engine.core.bll.EndExternalJobCommandTest.jobId ) ) . thenReturn ( null ) ; org.junit.Assert.assertTrue ( ( ! ( commandMock.validate ( ) ) ) ) ; }
protected java.util.List < org.ovirt.engine.core.common.businessentities.LUN_storage_server_connection_map > getLunConnections ( java.lang.String lunId ) { return org.ovirt.engine.core.bll.GetLunsByVgIdQuery.getDbFacade ( ) . getStorageServerConnectionLunMapDAO ( ) . getAll ( lunId ) ; }
public static int callRemoveTaskFromDbByTaskId ( org.ovirt.engine.core.compat.Guid taskId ) { return org.ovirt.engine.core.bll.tasks.TaskManagerUtil.coco.removeTaskFromDbByTaskId ( taskId ) ; }
public java.lang.Void runInTransaction ( ) { org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getVmDynamicDao ( ) . update ( vm.getDynamicData ( ) ) ; return null ; }
public java.util.List < org.ovirt.engine.core.common.businessentities.network.VnicProfileView > getAllForDataCenter ( org.ovirt.engine.core.compat.Guid id ) { return getCallsHandler ( ) . executeReadList ( "GetVnicProfileViewsByDataCenterId" , org.ovirt.engine.core.dao.network.VnicProfileViewDaoDbFacadeImpl.VnicProfileViewRowMapper.INSTANCE , getCustomMapSqlParameterSource ( ) . addValue ( "id" , id ) ) ; }
public void testAlreadyExistStorageDomain ( ) { org.mockito.Mockito.when ( command.getStorageDomainStaticDAO ( ) . get ( org.mockito.Matchers.any ( org.ovirt.engine.core.compat.Guid.class ) ) ) . thenReturn ( parameters.getStorageDomain ( ) ) ; org.ovirt.engine.core.bll.CanDoActionTestUtils.runAndAssertCanDoActionFailure ( command , VdcBllMessages.ACTION_TYPE_FAILED_STORAGE_DOMAIN_ALREADY_EXIST ) ; }
public int hashCode ( ) { return java.util.Objects.hash ( super . hashCode ( ) , plugged , vmNames , templateVersionNames , vmEntityType , numberOfVms , logicalName ) ; }
com.google.gwt.safehtml.shared.SafeHtml span ( java.lang.String id , java.lang.String styleClass , com.google.gwt.safehtml.shared.SafeHtml html ) ;
public org.ovirt.engine.core.common.businessentities.Role get ( org.ovirt.engine.core.compat.Guid id ) { org.springframework.jdbc.core.namedparam.MapSqlParameterSource parameterSource = getCustomMapSqlParameterSource ( ) . addValue ( "id" , id ) ; return getCallsHandler ( ) . executeRead ( "GetRolsByid" , RolesRowMapper.instance , parameterSource ) ; }
public static boolean CheckIfCpusExist ( java.lang.String cpuName , org.ovirt.engine.core.compat.Version ver ) { final org.ovirt.engine.core.bll.CpuFlagsManagerHandler.CpuFlagsManager cpuFlagsManager = org.ovirt.engine.core.bll.CpuFlagsManagerHandler._managersDictionary.get ( ver ) ; if ( cpuFlagsManager != null ) { return cpuFlagsManager.CheckIfCpusExist ( cpuName ) ; } return false ; }
void localize ( org.ovirt.engine.ui.webadmin.ApplicationConstants constants , org.ovirt.engine.ui.webadmin.ApplicationDynamicMessages dynamicMessages ) { closeButton.setText ( constants.closeButtonLabel ( ) ) ; copyrightNotice.setText ( dynamicMessages.copyRightNotice ( ) ) ; }
protected org.ovirt.engine.api.model.GraphicsConsole addParents ( org.ovirt.engine.api.model.GraphicsConsole model ) { model.setVm ( new org.ovirt.engine.api.model.Vm ( ) ) ; model.getVm ( ) . setId ( getGuid ( ) . toString ( ) ) ; return model ; }
public void testClusterAppliedBeforeConfig ( ) { setupClusterWithSerialNumber ( SerialNumberPolicy.VM_ID , null ) ; setupConfigWithSerialNumber ( SerialNumberPolicy.CUSTOM , org.ovirt.engine.core.vdsbroker.vdsbroker.VmSerialNumberBuilderTest.CUSTOM_CONFIG_SERIAL ) ; assertSerialNumber ( org.ovirt.engine.core.vdsbroker.vdsbroker.VmSerialNumberBuilderTest.VM_ID.toString ( ) ) ; }
private boolean isNextRunRequested ( ) { return org.ovirt.engine.api.common.util.ParametersHelper.getBooleanParameter ( httpHeaders , uriInfo , org.ovirt.engine.api.restapi.resource.BackendVmResource.NEXT_RUN , true , false ) ; }
org.ovirt.engine.core.vdsbroker.gluster.GlusterVolumeGeoRepStatusForXmlRpc glusterVolumeGeoRepStatus ( java.lang.String volumeName ) ;
public void eventRaised ( org.ovirt.engine.ui.uicompat.Event ev , java.lang.Object sender , org.ovirt.engine.ui.uicompat.EventArgs args ) { getBehavior ( ) . updateTimeZone ( ) ; }
public void setCpuName ( java.lang.String value ) { if ( ! ( org.ovirt.engine.core.compat.StringHelper.stringsEqual ( cpuName , value ) ) ) { cpuName = value ; OnPropertyChanged ( new org.ovirt.engine.core.compat.PropertyChangedEventArgs ( "CpuName" ) ) ; } }
protected void onEntityChanged ( ) { super . onEntityChanged ( ) ; setParentEntity ( ( ( T ) ( org.ovirt.engine.ui.uicommonweb.models.configure.scheduling.affinity_groups.list.AffinityGroupListModel.getEntity ( ) ) ) ) ; org.ovirt.engine.ui.uicommonweb.models.configure.scheduling.affinity_groups.list.AffinityGroupListModel.getSearchCommand ( ) . execute ( ) ; }
public java.lang.String getClusterName ( ) { if ( ( getCluster ( ) ) != null ) { return getCluster ( ) . getName ( ) ; } return "" ; }
protected void fillImagesMapBasedOnTemplate ( ) { org.ovirt.engine.core.bll.ImagesHandler.fillImagesMapBasedOnTemplate ( org.ovirt.engine.core.bll.AddVmCommand.getVmTemplate ( ) , org.ovirt.engine.core.bll.AddVmCommand.getStorageDomainDAO ( ) . getAllForStoragePool ( org.ovirt.engine.core.bll.AddVmCommand.getVmTemplate ( ) . getStoragePoolId ( ) ) , diskInfoDestinationMap , destStorages , false ) ; }
public void validateFailsOnVolumeWithoutRemoveBricksTask ( ) { cmd = org.mockito.Mockito.spy ( new org.ovirt.engine.core.bll.gluster.CommitRemoveGlusterVolumeBricksCommand ( new org.ovirt.engine.core.common.action.gluster.GlusterVolumeRemoveBricksParameters ( volumeWithoutRemoveBricksTask , getBricks ( volumeWithoutRemoveBricksTask ) ) , null ) ) ; prepareMocks ( cmd ) ; org.junit.Assert.assertFalse ( cmd.validate ( ) ) ; }
public void executed ( org.ovirt.engine.ui.uicompat.FrontendMultipleActionAsyncResult result ) { org.ovirt.engine.ui.uicommonweb.models.ConfirmationModel localModel = ( ( org.ovirt.engine.ui.uicommonweb.models.ConfirmationModel ) ( result.getState ( ) ) ) ; localModel.stopProgress ( ) ; cancel ( ) ; }
public static java.util.ArrayList < org.ovirt.engine.core.common.businessentities.StorageType > getStoragePoolTypeList ( ) { return new java.util.ArrayList < org.ovirt.engine.core.common.businessentities.StorageType > ( java.util.Arrays.asList ( new org.ovirt.engine.core.common.businessentities.StorageType [ ] { org.ovirt.engine.core.common.businessentities.StorageType.NFS , org.ovirt.engine.core.common.businessentities.StorageType.ISCSI , org.ovirt.engine.core.common.businessentities.StorageType.FCP , org.ovirt.engine.core.common.businessentities.StorageType.LOCALFS , org.ovirt.engine.core.common.businessentities.StorageType.POSIXFS , org.ovirt.engine.core.common.businessentities.StorageType.GLUSTERFS } ) ) ; }
public void getUsbPolicyOnUpdateCurrentlyLegacyGotEnabledNotSetNativePolicyUsb ( ) { org.ovirt.engine.api.model.Usb usb = new org.ovirt.engine.api.model.Usb ( ) ; usb.setType ( "native" ) ; assertEquals ( org.ovirt.engine.api.restapi.types.VmMapper.getUsbPolicyOnUpdate ( usb , UsbPolicy.ENABLED_LEGACY , null ) , UsbPolicy.ENABLED_NATIVE ) ; }
public void eventRaised ( org.ovirt.engine.ui.uicompat.Event < ? extends org.ovirt.engine.ui.uicompat.EventArgs > ev , java.lang.Object sender , org.ovirt.engine.ui.uicompat.EventArgs args ) { getIso ( ) . setIsChangeable ( getAttachDrivers ( ) . getEntity ( ) ) ; }
public void testGetRelevantQuotasExistingVdsGroup ( ) throws java.lang.Exception { assertGetAllRelevantQuoatsForVdsGroup ( FixturesTool.VDS_GROUP_RHEL6_NFS , org.ovirt.engine.core.dao.QuotaDaoTest.VDS_GRUOP_NUM_QUOTAS ) ; }
public void testChangeClusterForbidden ( ) { prepareVmToPassCanDoAction ( ) ; vmStatic.setVdsGroupId ( org.ovirt.engine.core.compat.Guid.newGuid ( ) ) ; org.junit.Assert.assertFalse ( "canDoAction should have failed with cant change cluster." , command.canDoAction ( ) ) ; assertCanDoActionMessage ( VdcBllMessages.VM_CANNOT_UPDATE_CLUSTER ) ; }
private org.ovirt.engine.core.common.businessentities.storage_server_connections getStorageServerConnection ( java.lang.String id ) { return getEntity ( org.ovirt.engine.core.common.businessentities.storage_server_connections.class , VdcQueryType.GetStorageServerConnectionById , new org.ovirt.engine.core.common.queries.StorageServerConnectionQueryParametersBase ( id ) , ( "Storage server connection: id=" + id ) ) ; }
public void eventRaised ( org.ovirt.engine.ui.uicompat.Event ev , java.lang.Object sender , org.ovirt.engine.ui.uicompat.EventArgs args ) { createSpmControls ( object ) ; }
public boolean eval ( org.ovirt.engine.core.common.businessentities.VmNetworkInterface iface ) { return iface.getId ( ) . equals ( guid ) ; }
public void initTemplate ( ) { setupTemplate ( pool.getVmtGuid ( ) , pool.isUseLatestVersion ( ) ) ; }
private void refresh ( org.ovirt.engine.core.bll.session.SessionDataContainer.SessionInfo sessionInfo ) { int softLimitValue = org.ovirt.engine.core.common.config.Config.< java.lang.Integer > getValue ( ConfigValues.UserSessionTimeOutInterval ) ; if ( softLimitValue > 0 ) { sessionInfo.contentOfSession.put ( org.ovirt.engine.core.bll.session.SessionDataContainer.SOFT_LIMIT_PARAMETER_NAME , org.apache.commons.lang.time.DateUtils.addMinutes ( new java.util.Date ( ) , softLimitValue ) ) ; } }
types.Label [ ] labels ( ) ;
public java.lang.String getValue ( java.lang.Object object ) { return getEntity ( object ) . getName ( ) ; }
public void setKsmCpuPercent ( java.lang.Integer value ) { this . mVdsStatistics.setksm_cpu_percent ( value ) ; }
public void testExecuteQueryWithInValidVmIdOrMissingPermissions ( ) throws java.lang.Exception { mockDaoForQuery ( ) ; vm = mockVm ( ) ; getQuery ( ) . executeQueryCommand ( ) ; org.junit.Assert.assertEquals ( null , getQuery ( ) . getQueryReturnValue ( ) . getReturnValue ( ) ) ; }
public void checkRemoveNotExistingConnection ( ) { parameters.setStorageServerConnection ( NFSConnection ) ; org.mockito.Mockito.when ( storageServerConnectionDao.get ( NFSConnection.getId ( ) ) ) . thenReturn ( null ) ; org.ovirt.engine.core.bll.CanDoActionTestUtils.runAndAssertCanDoActionFailure ( command , EngineMessage.ACTION_TYPE_FAILED_STORAGE_CONNECTION_NOT_EXIST ) ; }
protected org.ovirt.engine.core.compat.Guid lookupStorageDomainIdByName ( java.lang.String name ) { return getEntity ( org.ovirt.engine.core.common.businessentities.StorageDomainStatic.class , VdcQueryType.GetStorageDomainByName , new org.ovirt.engine.core.common.queries.NameQueryParameters ( name ) , ( "Storage: name=" + name ) ) . getId ( ) ; }
protected void OnEntityChanged ( ) { super . OnEntityChanged ( ) ; initAllModels ( true ) ; }
public org.ovirt.engine.api.extensions.ExtMap getPrincipalRecord ( java.lang.String engineSessionId ) { return ( ( org.ovirt.engine.api.extensions.ExtMap ) ( getData ( engineSessionId , org.ovirt.engine.core.bll.aaa.SessionDataContainer.PRINCIPAL_RECORD_PARAMETER_NAME , false ) ) ) ; }
public java.lang.Object Convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { return source ; }
private boolean isCinderDisksExist ( ) { return ! ( org.ovirt.engine.core.bll.ImagesHandler.filterDisksBasedOnCinder ( getDisksList ( ) ) . isEmpty ( ) ) ; }
public void execute ( ) { for ( org.ovirt.engine.ui.webadmin.plugin.Plugin plugin : getPlugins ( ) ) { initPlugin ( plugin ) ; } }
public org.ovirt.engine.core.common.businessentities.event_map mapRow ( java.sql.ResultSet rs , int rowNum ) throws java.sql.SQLException { org.ovirt.engine.core.common.businessentities.event_map entity = new org.ovirt.engine.core.common.businessentities.event_map ( ) ; entity.setevent_up_name ( rs.getString ( "event_up_name" ) ) ; entity.setevent_down_name ( rs.getString ( "event_down_name" ) ) ; return entity ; }
public void testPersistentAuthDisabled ( ) { org.junit.Assert.assertEquals ( 0 , getPrefer ( ) ) ; org.junit.Assert.assertEquals ( 0 , getPrefer ( "x" , "y" ) ) ; org.junit.Assert.assertEquals ( 0 , getPrefer ( "x" , "y" ) ) ; }
public boolean eval ( org.ovirt.engine.core.common.businessentities.StorageDomain storageDomain ) { return ( storageDomain.getStatus ( ) ) == ( org.ovirt.engine.core.common.businessentities.StorageDomainStatus.Active ) ; }
public final boolean connect ( java.lang.String server , java.lang.String rootPassword ) { return _doConnect ( server , _prepareCredentials ( rootPassword ) ) ; }
public boolean eval ( org.ovirt.engine.core.common.businessentities.LUNs lun ) { for ( org.ovirt.engine.core.common.businessentities.StorageServerConnections connection : lun.getLunConnections ( ) ) { if ( org.apache.commons.collections.CollectionUtils.exists ( targetIQNs , new org.apache.commons.collections.functors.EqualPredicate ( connection.getiqn ( ) ) ) ) { return true ; } } return false ; }
private org.ovirt.engine.core.common.businessentities.VdsVersion GetHostVersion ( org.ovirt.engine.core.compat.Guid hostId ) { org.ovirt.engine.core.common.businessentities.VDS host = org.ovirt.engine.ui.uicommonweb.DataProvider.GetHostById ( hostId ) ; return host != null ? host.getVersion ( ) : new org.ovirt.engine.core.common.businessentities.VdsVersion ( ) ; }
private org.ovirt.engine.core.bll.storage.IStorageHelper getStorageHelper ( org.ovirt.engine.core.common.businessentities.StorageType storageType ) { return org.ovirt.engine.core.bll.storage.StorageHelperDirector.getInstance ( ) . getItem ( storageType ) ; }
public int compare ( org.ovirt.engine.ui.uicommonweb.models.hosts.network.NetworkCommand o1 , org.ovirt.engine.ui.uicommonweb.models.hosts.network.NetworkCommand o2 ) { return o1.getName ( ) . compareTo ( o2.getName ( ) ) ; }
private void checkJson ( java.lang.String json ) { @ java.lang.SuppressWarnings ( value = "unchecked" ) final java.util.HashMap < java.lang.String , java.lang.Boolean > map = new org.ovirt.engine.core.utils.serialization.json.JsonObjectDeserializer ( ) . deserialize ( json , java.util.HashMap.class ) ; junit.framework.Assert.assertTrue ( map.get ( "success" ) ) ; }
private static org.ovirt.engine.core.common.businessentities.StoragePool createDefaultStoragePool ( ) { org.ovirt.engine.core.common.businessentities.StoragePool pool = org.ovirt.engine.core.bll.storage.UpdateStoragePoolCommandTest.createBasicPool ( ) ; pool.setIsLocal ( true ) ; pool.setcompatibility_version ( org.ovirt.engine.core.bll.storage.UpdateStoragePoolCommandTest.VERSION_1_1 ) ; return pool ; }
private void initHandlers ( ) { org.ovirt.engine.core.searchbackend.BaseConditionFieldAutoCompleter.tagsHandler = tagsDirector ; serviceLoader.load ( org.ovirt.engine.core.bll.VmHandler.class ) ; org.ovirt.engine.core.bll.VdsHandler.init ( ) ; org.ovirt.engine.core.bll.VmTemplateHandler.init ( ) ; org.ovirt.engine.core.bll.Backend.log.info ( "Completed initializing handlers" ) ; }
public void getSnaphsotByTypeAndStatusForExistingEntity ( ) { org.junit.Assert.assertEquals ( existingEntity , dao.get ( org.ovirt.engine.core.dao.SnapshotDaoTest.EXISTING_VM_ID , SnapshotType.REGULAR , SnapshotStatus.OK ) ) ; }
protected void endImportCommand ( ) { endActionOnAllImageGroups ( ) ; endVmRelatedOps ( ) ; org.ovirt.engine.core.bll.ImportVmCommand.setSucceeded ( true ) ; }
org.ovirt.engine.core.vdsbroker.irsbroker.OneUuidReturnForXmlRpc glusterVolumeCreate ( java.lang.String volumeName , java.lang.String [ ] brickList , int replicaCount , int stripeCount , java.lang.String [ ] transportList ) ;
public void init ( final org.ovirt.engine.ui.uicommonweb.models.vms.ImportVmsModel model ) { super . init ( model ) ; addDataCenterListener ( ) ; addImportSourceListener ( ) ; updateExportDomainLoadButtonEnabledState ( ) ; }
public static void logAndFailTaskOfCommandWithEmptyVdsmId ( org.ovirt.engine.core.common.businessentities.AsyncTask task , java.lang.String message ) { org.ovirt.engine.core.bll.tasks.CommandCoordinatorUtil.getAsyncTaskManager ( ) . logAndFailTaskOfCommandWithEmptyVdsmId ( task , message ) ; }
void updateCommonModel ( ) { this . commonModel = org.ovirt.engine.ui.common.uicommon.model.CommonModelManager.instance ( ) ; getView ( ) . setCommonModel ( commonModel ) ; }
public void setCompatabilityVersion ( org.ovirt.engine.core.compat.Version compatibilityVersion ) { this . compatibilityVersion = compatibilityVersion ; }
public void setvds_type ( org.ovirt.engine.core.common.businessentities.VDSType value ) { this . mVdsStatic.setvds_type ( value ) ; }
public void currentUserNull ( ) { final org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBase b = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBase ( ) ; final org.ovirt.engine.core.common.businessentities.DbUser u = null ; b.setCurrentUser ( u ) ; final org.ovirt.engine.core.common.businessentities.DbUser cu = b.getCurrentUser ( ) ; org.junit.Assert.assertEquals ( u , cu ) ; }
protected void onReveal ( ) { super . onReveal ( ) ; getView ( ) . recalculateSize ( ) ; getView ( ) . showScrollButtons ( ) ; }
public void setupCommand ( ) { initSpyCommand ( ) ; mockDaos ( ) ; }
protected org.ovirt.engine.core.common.businessentities.network.Network getNetwork ( ) { return getNetworkDAO ( ) . get ( getNetworkId ( ) ) ; }
public static boolean copyNonEditableFieldsToDestination ( org.ovirt.engine.core.common.businessentities.VmStatic source , org.ovirt.engine.core.common.businessentities.VmStatic destination , boolean hotSetEnabled ) { return org.ovirt.engine.core.bll.VmHandler.mUpdateVmsStatic.copyNonEditableFieldsToDestination ( source , destination , hotSetEnabled ) ; }
private org.ovirt.engine.core.common.businessentities.VdsStatic getVdsStatic ( ) { org.ovirt.engine.core.common.businessentities.VdsStatic vds = new org.ovirt.engine.core.common.businessentities.VdsStatic ( ) ; vds.setId ( serverId ) ; vds.setVdsGroupId ( clusterId ) ; vds.setHostName ( serverName ) ; return vds ; }
public void testIsNetworkExclusiveValid2 ( ) { org.junit.Assert.assertTrue ( underTest.isNetworkExclusive ( java.util.Collections.singletonList ( org.ovirt.engine.core.bll.validator.network.NetworkType.VM ) ) ) ; }
public abstract void EntityPropertyChanged ( org.ovirt.engine.ui.uicompat.PropertyChangedEventArgs e ) ;
public org.ovirt.engine.core.common.businessentities.StoragePool getEntity ( ) { return ( ( org.ovirt.engine.core.common.businessentities.StoragePool ) ( ( super . getEntity ( ) ) instanceof org.ovirt.engine.core.common.businessentities.StoragePool ? super . getEntity ( ) : null ) ) ; }
public java.lang.String getCredentialsChangeUrl ( javax.servlet.http.HttpServletRequest request ) throws java.net.MalformedURLException { return "http://localhost:8080/ovirt-engine/sso/credentials-change.html" ; }
public void onDragEnter ( com.google.gwt.event.dom.client.DragEnterEvent event ) { doDrag ( event , false ) ; }
protected void verifyModel ( org.ovirt.engine.api.model.User model , int index ) { org.junit.Assert.assertEquals ( ( ( ( NAMES [ index ] ) + "@" ) + ( DOMAIN ) ) , model.getUserName ( ) ) ; }
public void cpuIdIsNull ( ) { cpuId = null ; org.assertj.core.api.Assertions.assertThatThrownBy ( ( ) -> new org.ovirt.engine.core.utils.ovf.HostedEngineOvfWriter ( vm , fullEntityOvfData , version , emulatedMachine , cpuId , osRepository ) ) . isInstanceOf ( java.lang.NullPointerException.class ) . hasMessageContaining ( "cpuId" ) ; }
public org.ovirt.engine.api.resource.UnmanagedNetworkResource getUnmanagedNetworkSubResource ( java.lang.String id ) { return inject ( new org.ovirt.engine.api.restapi.resource.BackendUnmanagedNetworkResource ( org.ovirt.engine.api.restapi.utils.HexUtils.hex2string ( id ) , hostId ) ) ; }
protected org.ovirt.engine.core.common.businessentities.Snapshot addActiveSnapshot ( org.ovirt.engine.core.compat.Guid snapshotId ) { return snapshotsManager.addActiveSnapshot ( snapshotId , getVm ( ) , getMemoryVolumeForNewActiveSnapshot ( ) , getCompensationContext ( ) ) ; }
public java.lang.Object call ( ) throws java.lang.Exception { boolean reboot = ( _reboot ) && ( ! ( _isNode ) ) ; if ( reboot ) { _messages.post ( InstallerMessages.Severity.INFO , "Enfocing host reboot" ) ; } _parser.cliEnvironmentSet ( org.ovirt.ovirt_host_deploy.constants.CoreEnv.FORCE_REBOOT , reboot ) ; return null ; }
public void Frontend_QueryStarted ( ) { ( queryCounter ) ++ ; if ( ( getProgress ( ) ) == null ) { StartProgress ( null ) ; } }
public void testBadKeyNotIsPublicKeyValid ( ) { for ( java.lang.String key : org.ovirt.engine.core.uutils.ssh.OpenSSHUtilsTest.BAD_SSH_KEYS ) { org.junit.Assert.assertFalse ( org.ovirt.engine.core.uutils.ssh.OpenSSHUtils.isPublicKeyValid ( key ) ) ; } }
private void setUpGetEntityExpectations ( boolean notFound ) throws java.lang.Exception { setUpGetEntityExpectations ( VdcQueryType.GetAllExternalNetworksOnProvider , org.ovirt.engine.core.common.queries.IdQueryParameters.class , new java.lang.String [ ] { "Id" } , new java.lang.Object [ ] { GUIDS [ 0 ] } , ( notFound ? null : getNetworks ( ) ) ) ; }
public boolean getIsFirstRun ( ) { return ! ( getis_initialized ( ) ) ; }
protected void finalize ( ) throws java.lang.Throwable { Dispose ( ) ; }
protected boolean updateBrickServerNames ( java.util.List < org.ovirt.engine.core.common.businessentities.gluster.GlusterBrickEntity > bricks , boolean addCanDoActionMessage ) { for ( org.ovirt.engine.core.common.businessentities.gluster.GlusterBrickEntity brick : bricks ) { if ( ! ( updateBrickServerName ( brick , addCanDoActionMessage ) ) ) { return false ; } } return true ; }
public static void removeSmartcardDevices ( org.ovirt.engine.core.compat.Guid vmId ) { org.ovirt.engine.core.bll.utils.VmDeviceUtils.removeVmDevices ( org.ovirt.engine.core.bll.utils.VmDeviceUtils.getSmartcardDevices ( vmId ) ) ; }
public void validateVmMemoryCantStartOnVdsHostTooSmall ( ) { vds.setMemFree ( 8835L ) ; boolean vmPassedMemoryRequirement = org.ovirt.engine.core.bll.scheduling.SlaValidator.getInstance ( ) . hasPhysMemoryToRunVM ( vds , vm , 0 ) ; org.junit.Assert.assertEquals ( vmPassedMemoryRequirement , false ) ; }
public com.google.gwt.safehtml.shared.SafeHtml getTooltip ( org.ovirt.engine.core.common.businessentities.storage.DiskImage object ) { if ( object.isBoot ( ) ) { return com.google.gwt.safehtml.shared.SafeHtmlUtils.fromSafeConstant ( constants.bootableDisk ( ) ) ; } return null ; }
public void setPrincipal ( java.lang.String principal ) { setData ( org.ovirt.engine.core.bll.session.SessionDataContainer.PRINCIPAL_PARAMETER_NAME , principal ) ; }
protected java.util.Map < java.lang.String , org.ovirt.engine.core.common.utils.Pair < java.lang.String , java.lang.String > > getExclusiveLocks ( ) { return java.util.Collections.singletonMap ( getAdUserId ( ) . toString ( ) , LockMessagesMatchUtil.USER_VM_POOL ) ; }
public void isRoleNetworkAllRoles ( ) { org.ovirt.engine.core.common.businessentities.network.NetworkCluster networkCluster = createNetworkCluster ( true , true , true ) ; org.junit.Assert.assertTrue ( org.ovirt.engine.core.utils.NetworkUtils.isRoleNetwork ( networkCluster ) ) ; }
public java.lang.String toString ( ) { return ( ( serializeId ( getFirst ( ) ) ) + '.' ) + ( serializeId ( getSecond ( ) ) ) ; }
public void testIsUsingScsiReservationValidWhenAddingFloatingDisk ( ) { setupForLun ( ) ; org.ovirt.engine.core.common.businessentities.storage.LunDisk lunDisk1 = createLunDisk ( ScsiGenericIO.UNFILTERED , true ) ; org.junit.Assert.assertThat ( lunValidator.isUsingScsiReservationValid ( null , lunDisk1 ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( VdcBllMessages.ACTION_TYPE_FAILED_SCSI_RESERVATION_NOT_VALID_FOR_FLOATING_DISK ) ) ; }
public com.google.gwt.user.client.ui.Widget getValueWidget ( ) { return valueWidget ; }
public void setWANColorDepth ( org.ovirt.engine.ui.uicommonweb.models.vms.WanColorDepth colorDepth ) { this . wanColorDepth = colorDepth ; getWANColorDepthChangedEvent ( ) . raise ( this , EventArgs.EMPTY ) ; }
static com.gwtplatform.mvp.client.TabData getTabData ( org.ovirt.engine.ui.webadmin.gin.ClientGinjector ginjector ) { return new org.ovirt.engine.ui.common.widget.tab.ModelBoundTabData ( ginjector.getApplicationConstants ( ) . networkClusterSubTabLabel ( ) , 1 , ginjector.getSubTabNetworkClusterModelProvider ( ) ) ; }
private void getAffinityGroupByVdsIdHelper ( org.ovirt.engine.core.compat.Guid vdsId , int count ) { java.util.List < org.ovirt.engine.core.common.scheduling.AffinityGroup > affinityGroups = dao.getPositiveEnforcingAffinityGroupsByRunningVmsOnVdsId ( vdsId ) ; org.junit.Assert.assertNotNull ( affinityGroups ) ; org.junit.Assert.assertEquals ( count , affinityGroups.size ( ) ) ; }
public boolean hasTasks ( ) { return true ; }
private org.ovirt.engine.core.compat.Guid getQuotaId ( ) { if ( ( ( getDisk ( ) ) != null ) && ( ( org.ovirt.engine.core.common.businessentities.Disk.DiskStorageType.IMAGE ) == ( getDisk ( ) . getDiskStorageType ( ) ) ) ) { return getDiskImage ( ) . getQuotaId ( ) ; } return null ; }
public void testGetFilteredWithPermissions ( ) { org.ovirt.engine.core.common.businessentities.VmPool result = dao.get ( existingVmPool.getvm_pool_id ( ) , org.ovirt.engine.core.dao.PRIVILEGED_USER_ID , true ) ; assertGetResult ( result ) ; }
private java.lang.String getDefaultUrl ( org.ovirt.engine.core.common.businessentities.ProviderType type ) { if ( type == null ) { return "" ; } switch ( type ) { case EXTERNAL_NETWORK : case OPENSTACK_NETWORK : return "http://localhost:9696" ; case OPENSTACK_IMAGE : return "http://localhost:9292" ; case OPENSTACK_VOLUME : return "http://localhost:8776" ; case VMWARE : return "" ; case FOREMAN : default : return "http://localhost" ; } }
public java.lang.Object call ( ) throws java.lang.Exception { _parser.cliEnvironmentSet ( NetEnv.SSH_KEY , org.ovirt.engine.core.bll.VdsDeploy._getEngineSSHPublicKey ( ) . replace ( "\n" , "" ) ) ; return null ; }
public java.lang.Object Convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { if ( source == null ) { return new java.util.ArrayList < org.ovirt.engine.core.common.businessentities.storage.DiskImage > ( ) ; } return source ; }
public java.util.List < org.ovirt.engine.core.common.businessentities.Disk > getAllForVm ( org.ovirt.engine.core.compat.Guid id ) { return getAllForVm ( id , null , false ) ; }
public java.lang.String getSortableDbField ( java.lang.String fieldName ) { if ( sortableFieldDict.containsKey ( fieldName ) ) { return sortableFieldDict.get ( fieldName ) ; } else { return getDbFieldName ( fieldName ) ; } }
public org.ovirt.engine.ui.uicommonweb.models.datacenters.NewNetworkModel flush ( ) { return driver.flush ( ) ; }
public org.ovirt.vdsmfake.domain.Host getHostByName ( java.lang.String name ) { return org.ovirt.vdsmfake.domain.VdsmManager.getInstance ( ) . getHostByName ( name ) ; }
public java.lang.Object Convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { return source != null ? ( ( java.lang.String ) ( source ) ) : "" ; }
protected void ExecuteVdsBrokerCommand ( ) { super . ExecuteVdsBrokerCommand ( ) ; updateNetConfigDirtyFlag ( ) ; org.ovirt.engine.core.vdsbroker.vdsbroker.CollectVdsNetworkDataVDSCommand.persistAndEnforceNetworkCompliance ( org.ovirt.engine.core.vdsbroker.vdsbroker.CollectVdsNetworkDataVDSCommand.getVds ( ) , org.ovirt.engine.core.vdsbroker.vdsbroker.CollectVdsNetworkDataVDSCommand.getParameters ( ) . isManagementNetworkSkipped ( ) ) ; org.ovirt.engine.core.vdsbroker.vdsbroker.CollectVdsNetworkDataVDSCommand.ProceedProxyReturnValue ( ) ; }
public java.lang.String getValue ( org.ovirt.engine.core.common.businessentities.VDSGroup object ) { return object.getdescription ( ) ; }
public void networkLabeled ( ) { org.mockito.Mockito.when ( network.getLabel ( ) ) . thenReturn ( org.ovirt.engine.core.utils.RandomUtils.instance ( ) . nextPropertyString ( 10 ) ) ; org.junit.Assert.assertThat ( validator.notLabeled ( ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( EngineMessage.ACTION_TYPE_FAILED_NETWORK_ALREADY_LABELED ) ) ; }
public void testPatternBasedNameFails ( ) { vmStatic.setName ( "aa-??bb" ) ; org.junit.Assert.assertFalse ( "Pattern-based name should not be supported for VM" , command.validateInputs ( ) ) ; }
public void shouldAllowUnpinnedNumaNodes ( ) { validVM.setvNumaNodeList ( java.util.Arrays.asList ( org.ovirt.engine.core.bll.utils.NumaTestUtils.createVmNumaNode ( 1 ) ) ) ; org.hamcrest.MatcherAssert.assertThat ( validator.isVmReadyForUpgrade ( validVM ) , org.hamcrest.core.Is.is ( org.hamcrest.Matchers.empty ( ) ) ) ; }
public org.ovirt.engine.api.resource.RoleResource getRoleSubResource ( java.lang.String id ) { return inject ( new org.ovirt.engine.api.restapi.resource.BackendRoleResource ( id , principalId ) ) ; }
public void setcpu_per_socket ( int value ) { this . mVmStatic.setcpu_per_socket ( value ) ; OnPropertyChanged ( new org.ovirt.engine.core.compat.PropertyChangedEventArgs ( "cpu_per_socket" ) ) ; OnPropertyChanged ( new org.ovirt.engine.core.compat.PropertyChangedEventArgs ( "num_of_cpus" ) ) ; }
protected void localize ( org.ovirt.engine.ui.webadmin.ApplicationConstants constants ) { super . localize ( constants ) ; mainLabel.setText ( constants.dataCenterEditNetworkPopupLabel ( ) ) ; messageLabel.setHTML ( constants.dataCenterNetworkPopupSubLabel ( ) ) ; }
protected R addLinks ( R model , java.lang.Class < ? extends org.ovirt.engine.api.model.BaseResource > suggestedParent , boolean doNotLinkSubCollections ) { return doNotLinkSubCollections ? org.ovirt.engine.api.utils.LinkHelper.addLinks ( org.ovirt.engine.api.restapi.resource.AbstractBackendResource.getUriInfo ( ) , addParents ( model ) , suggestedParent ) : addLinks ( model , suggestedParent ) ; }
public org.ovirt.engine.api.model.StorageConnection update ( org.ovirt.engine.api.model.StorageConnection connection ) { return performUpdate ( connection , new org.ovirt.engine.api.restapi.resource.QueryIdResolver ( org.ovirt.engine.core.common.queries.VdcQueryType.GetStorageServerConnectionById , org.ovirt.engine.core.common.queries.StorageServerConnectionQueryParametersBase.class ) , VdcActionType.UpdateStorageServerConnection , new org.ovirt.engine.api.restapi.resource.BackendStorageServerConnectionResource.UpdateParametersProvider ( ) ) ; }
protected void loadVmInit ( ) { if ( ( org.ovirt.engine.core.bll.RunVmCommand.getVm ( ) . getVmInit ( ) ) == null ) { org.ovirt.engine.core.bll.VmHandler.updateVmInitFromDB ( org.ovirt.engine.core.bll.RunVmCommand.getVm ( ) . getStaticData ( ) , false ) ; } }
public void internalUnknownAllowed ( ) { testInternalExecution ( StorageDomainStatus.Unknown ) ; canDoActionSucceeds ( ) ; noIllegalStatusMessage ( ) ; }
protected int getDelayInSeconds ( ) { return 0 ; }
public void cluster_SelectedItemChanged ( ) { updateDefaultHost ( ) ; updateNumOfSockets ( ) ; updateQuotaByCluster ( template.getQuotaId ( ) , template.getQuotaName ( ) ) ; }
public void setstorage_domain_shared_status ( org.ovirt.engine.core.common.businessentities.StorageDomainSharedStatus value ) { if ( ( _storageDomainSharedStatus ) != value ) { _storageDomainSharedStatus = value ; OnPropertyChanged ( new org.ovirt.engine.core.compat.PropertyChangedEventArgs ( "storage_domain_shared_status" ) ) ; } }
public boolean shouldRepeatEndMethodsOnFail ( org.ovirt.engine.core.compat.Guid cmdId ) { return shouldRepeatEndMethodsOnFail ( org.ovirt.engine.core.bll.tasks.CommandCoordinatorUtil.getCommandEntity ( cmdId ) . getReturnValue ( ) ) ; }
protected boolean matchEntity ( org.ovirt.engine.core.common.businessentities.VmNetworkInterface entity , org.ovirt.engine.core.compat.Guid id ) { return ( id != null ) && ( id.equals ( entity.getId ( ) ) ) ; }
public void testSetActionMessageParameters ( ) { org.ovirt.engine.core.bll.CanDoActionTestUtils.runAndAssertSetActionMessageParameters ( command , VdcBllMessages.VAR__TYPE__STORAGE__DOMAIN , VdcBllMessages.VAR__ACTION__REMOVE ) ; }
public void canDoChangeComment ( ) { sd.setComment ( org.apache.commons.lang.StringUtils.reverse ( sd.getComment ( ) ) ) ; org.ovirt.engine.core.bll.CanDoActionTestUtils.runAndAssertCanDoActionSuccess ( cmd ) ; }
public void useDefaultKeyPair ( ) throws java.security.KeyStoreException { ( ( org.ovirt.engine.core.utils.ssh.EngineSSHClient ) ( _client ) ) . useDefaultKeyPair ( ) ; }
public void CancelConfirmWithFocus ( ) { setConfirmWindow ( null ) ; org.ovirt.engine.ui.uicommonweb.models.hosts.HostModel hostModel = ( ( org.ovirt.engine.ui.uicommonweb.models.hosts.HostModel ) ( getWindow ( ) ) ) ; hostModel.setIsPowerManagementTabSelected ( true ) ; }
public void log ( org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBase auditLogable , org.ovirt.engine.core.common.AuditLogType logType , java.lang.String loggerString ) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogDirector.log ( auditLogable , logType , loggerString ) ; }
public java.lang.String getlog_type_name ( ) { return getlog_type ( ) . name ( ) ; }
public java.lang.Object convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { return source ; }
public void flushToPrivateModel ( ) { flushCheckBoxes ( ctrlAltDel , enableUsbAutoshare , openInFullScreen , useLocalDrives , wanEnabled ) ; }
public void canDoActionDiskIsOvfStore ( ) throws java.lang.Exception { initializeCommand ( ImageOperation.Move , new org.ovirt.engine.core.common.businessentities.storage.DiskImage ( ) ) ; initVmDiskImage ( false ) ; command.getImage ( ) . setContentType ( DiskContentType.OVF_STORE ) ; org.ovirt.engine.core.bll.CanDoActionTestUtils.runAndAssertCanDoActionFailure ( command , EngineMessage.ACTION_TYPE_FAILED_OVF_DISK_NOT_SUPPORTED ) ; }
protected org.ovirt.engine.api.model.VM addParents ( org.ovirt.engine.api.model.VM vm ) { vm.setStorageDomain ( parent.getStorageDomainModel ( ) ) ; return vm ; }
protected void onExecute ( ) { if ( ( this . getProgress ( ) ) != null ) { return ; } if ( ! ( this . validate ( ) ) ) { return ; } startProgress ( null ) ; }
public org.ovirt.engine.api.resource.openstack.OpenStackSubnetsResource getOpenStackSubnets ( ) { return inject ( new org.ovirt.engine.api.restapi.resource.openstack.BackendOpenStackSubnetsResource ( providerId , id ) ) ; }
public com.google.gwt.resources.client.ImageResource getDefaultImage ( ) { return org.ovirt.engine.ui.webadmin.widget.table.column.CommentColumn.getApplicationResources ( ) . commentImage ( ) ; }
public void setUp ( ) { disksList = new java.util.LinkedList < > ( ) ; initStorageDomains ( ) ; initStorageDomainValidators ( ) ; initMemoryStorageHandler ( ) ; }
protected void ExecuteVdsBrokerCommand ( ) { mVmReturn = org.ovirt.engine.core.vdsbroker.vdsbroker.ResumeBrokerVDSCommand.getBroker ( ) . resume ( mVmId.toString ( ) ) ; org.ovirt.engine.core.vdsbroker.vdsbroker.ResumeBrokerVDSCommand.proceedProxyReturnValue ( ) ; }
protected boolean canDoAction ( ) { if ( org.ovirt.engine.core.bll.MoveDisksCommand.getParameters ( ) . getParametersList ( ) . isEmpty ( ) ) { return failCanDoAction ( EngineMessage.ACTION_TYPE_FAILED_NO_DISKS_SPECIFIED ) ; } return verifyNoLunDisks ( ) ; }
public java.lang.Void runInTransaction ( ) { org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getVdsDynamicDao ( ) . update ( _vds.getDynamicData ( ) ) ; return null ; }
public void setTemplate ( org.springframework.jdbc.core.JdbcTemplate template ) { this . jdbcTemplate = template ; callsHandler.setJdbcTemplate ( template ) ; }
private org.ovirt.engine.core.common.config.IConfigUtilsInterface initConfigUtils ( ) { validator = org.ovirt.engine.core.common.utils.ValidationUtils.getValidator ( ) ; org.ovirt.engine.core.common.config.IConfigUtilsInterface configUtils = org.mockito.Mockito.mock ( org.ovirt.engine.core.common.config.IConfigUtilsInterface.class ) ; org.mockito.Mockito.when ( configUtils.GetValue ( ConfigValues.vdsTimeout , Config.DefaultConfigurationVersion ) ) . thenReturn ( org.ovirt.engine.core.common.utils.ConfiguredRangeValidatorTest.TEST_MAX_RANGE ) ; return configUtils ; }
public void close ( ) { this . queue.add ( new org.ovirt.vdsm.jsonrpc.client.internal.MessageContext ( null , null ) ) ; this . tracker.close ( ) ; }
protected void executeCommand ( ) { addVmToDb ( ) ; processImages ( ) ; setSucceeded ( true ) ; }
private java.util.ArrayList < org.ovirt.engine.core.common.action.VdcActionParametersBase > createRemoveNetworkParameters ( java.util.List < org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface > nicsForRemove ) { org.ovirt.engine.core.bll.network.RemoveNetworkParametersBuilder builder = new org.ovirt.engine.core.bll.network.RemoveNetworkParametersBuilder ( getOldNetwork ( ) ) ; return builder.buildParameters ( nicsForRemove ) ; }
public void setPassword ( java.lang.String password ) { this . password = password ; }
public void setSelectedItem ( org.ovirt.engine.core.common.businessentities.network.VnicProfileView value ) { super . setSelectedItem ( value ) ; if ( ( value != null ) && ( value.isPassthrough ( ) ) ) { getNicType ( ) . setSelectedItem ( VmInterfaceType.pciPassthrough ) ; } updateLinkChangability ( ) ; }
private static org.ovirt.engine.core.common.businessentities.StoragePool createLowerVersionStoragePool ( ) { org.ovirt.engine.core.common.businessentities.StoragePool pool = org.ovirt.engine.core.bll.storage.pool.UpdateStoragePoolCommandTest.createBasicPool ( ) ; pool.setIsLocal ( true ) ; pool.setCompatibilityVersion ( org.ovirt.engine.core.bll.storage.pool.UpdateStoragePoolCommandTest.VERSION_1_0 ) ; return pool ; }
public void testGetWithNotExistingEntityId ( ) { org.ovirt.engine.core.common.businessentities.OvfEntityData ovfEntityData = dao.getByEntityIdAndStorageDomain ( FixturesTool.VM_RHEL5_POOL_51 , FixturesTool.STORAGE_DOAMIN_NFS2_1 ) ; org.junit.Assert.assertNull ( "VM should not exists in the UnregisteredOVFData" , ovfEntityData ) ; }
public void setvm_id ( org.ovirt.engine.core.compat.Guid value ) { this . vmId = value ; }
public void setvm_os ( org.ovirt.engine.core.common.businessentities.VmOsType value ) { this . mVmStatic.setos ( value ) ; OnPropertyChanged ( new org.ovirt.engine.core.compat.PropertyChangedEventArgs ( "vm_os" ) ) ; }
public boolean isApplicable ( org.ovirt.engine.core.common.businessentities.VDSGroup oldCluster , org.ovirt.engine.core.common.businessentities.VDSGroup newCluster ) { emulatedMachines = org.ovirt.engine.core.bll.EmulatedMachineClusterEditChecker.getClusterEmulatedMachines ( newCluster ) ; emulatedMachines.removeAll ( org.ovirt.engine.core.bll.EmulatedMachineClusterEditChecker.getClusterEmulatedMachines ( oldCluster ) ) ; return ! ( emulatedMachines.isEmpty ( ) ) ; }
public void managementNetworkNotExternalValidInvalidExternal ( ) { testmanagementNetworkNotExternal ( true , true , org.hamcrest.CoreMatchers.both ( org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( EngineMessage.ACTION_TYPE_FAILED_MANAGEMENT_NETWORK_CANNOT_BE_EXTERNAL ) ) . and ( org.ovirt.engine.core.bll.validator.ValidationResultMatchers.replacements ( org.ovirt.engine.core.bll.network.cluster.NetworkClusterValidatorTestBase.hasItem ( org.ovirt.engine.core.bll.network.cluster.NetworkClusterValidatorTestBase.NETWORK_NAME_REPLACEMENT ) ) ) ) ; }
protected void executeQueryCommand ( ) { org.ovirt.engine.core.bll.GetVmsRunningOnVDSQuery.getQueryReturnValue ( ) . setReturnValue ( org.ovirt.engine.core.bll.DbFacade.getInstance ( ) . getVmDAO ( ) . getAllRunningByVds ( org.ovirt.engine.core.bll.GetVmsRunningOnVDSQuery.getParameters ( ) . getId ( ) ) ) ; }
public void testVolume ( ) { testValidSql ( "volume: " , "SELECT * FROM ((SELECT gluster_volumes_view.* FROM gluster_volumes_view ) ORDER BY vol_name ASC ) as T1 OFFSET (1 -1) LIMIT 0" ) ; testValidSql ( "volume: name=volume1" , "SELECT * FROM ((SELECT gluster_volumes_view.* FROM gluster_volumes_view WHERE gluster_volumes_view.vol_name LIKE volume1 ) ORDER BY vol_name ASC ) as T1 OFFSET (1 -1) LIMIT 0" ) ; }
public void insufficientDiskSpace ( ) { setupVolumeFormatAndTypeTest ( VolumeFormat.RAW , VolumeType.Preallocated , StorageType.NFS ) ; org.mockito.Mockito.doReturn ( false ) . when ( command ) . validateSpaceRequirements ( org.mockito.Matchers.anyList ( ) ) ; org.junit.Assert.assertFalse ( command.validate ( ) ) ; }
public static java.util.Map < org.ovirt.engine.core.common.utils.Pair < java.lang.Integer , org.ovirt.engine.core.compat.Version > , java.lang.Boolean > getNicHotplugSupportMap ( ) { return org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncDataProvider.nicHotplugSupportMap ; }
protected void executeQueryCommand ( ) { org.ovirt.engine.core.bll.IsVmTemlateWithSameNameExistQuery.getQueryReturnValue ( ) . setReturnValue ( org.ovirt.engine.core.bll.VmTemplateCommand.isVmTemlateWithSameNameExist ( org.ovirt.engine.core.bll.IsVmTemlateWithSameNameExistQuery.getParameters ( ) . getName ( ) ) ) ; }
public void testQueryType ( ) throws java.lang.IllegalAccessException , java.lang.IllegalArgumentException { org.junit.Assert.assertNotSame ( "The query can't be found in the enum QueryType" , QueryType.Unknown , org.ovirt.engine.core.bll.TestHelperQueriesCommandType.getQueryTypeFieldValue ( query ) ) ; }
public void testExistingDiscardAfterDeleteFunctionalityPreservedDiscardAfterDeleteFunctionalityBreaks ( ) { storageDomain.setDiscardAfterDelete ( true ) ; org.junit.Assert.assertFalse ( discardHelper.isExistingDiscardAfterDeleteFunctionalityPreserved ( java.util.Arrays.asList ( createLunWithDiscardFunctionality ( 1024L , false ) , createLunWithDiscardFunctionality ( 0L , true ) ) , storageDomain ) ) ; }
public java.lang.String getImageID ( ) { return imageID ; }
public int compare ( org.ovirt.engine.core.common.businessentities.Permissions o1 , org.ovirt.engine.core.common.businessentities.Permissions o2 ) { java.lang.String id1 = o1.getId ( ) . toString ( ) ; java.lang.String id2 = o2.getId ( ) . toString ( ) ; return id1.compareTo ( id2 ) ; }
public void setInvalidStringValue ( ) throws java.lang.Exception { final java.lang.String key = "LDAP_Security_mode" ; junit.framework.Assert.assertFalse ( config.getEngineConfigLogic ( ) . persist ( key , "GSSAPI-invalid-value" ) ) ; }
protected final void acceptAll ( final java.lang.String [ ] tokens ) { for ( java.lang.String token : tokens ) { mVerbs.put ( token , token ) ; } }
void migrateVMs ( java.util.List < org.ovirt.engine.core.common.utils.Pair < org.ovirt.engine.core.compat.Guid , org.ovirt.engine.core.compat.Guid > > list ) ;
private static void translateErrors ( java.util.List < org.ovirt.engine.core.common.action.VdcReturnValueBase > errors ) { for ( org.ovirt.engine.core.common.action.VdcReturnValueBase retVal : errors ) { retVal.setCanDoActionMessages ( org.ovirt.engine.ui.frontend.Frontend.getAppErrorsTranslator ( ) . translateErrorText ( retVal.getCanDoActionMessages ( ) ) ) ; } }
private void NewDesktop ( ) { NewInternal ( VmType.Desktop ) ; }
public java.lang.String getValue ( org.ovirt.engine.core.common.businessentities.VDS object ) { return object.getvds_name ( ) ; }
protected org.ovirt.engine.core.common.businessentities.OriginType getRawValue ( org.ovirt.engine.core.common.businessentities.VM object ) { return object.getorigin ( ) ; }
protected boolean checkIfCpusSameManufacture ( org.ovirt.engine.core.common.businessentities.VDSGroup group ) { return org.ovirt.engine.core.bll.CpuFlagsManagerHandler.CheckIfCpusSameManufacture ( group.getcpu_name ( ) , org.ovirt.engine.core.bll.UpdateVdsGroupCommand.getVdsGroup ( ) . getcpu_name ( ) , org.ovirt.engine.core.bll.UpdateVdsGroupCommand.getVdsGroup ( ) . getcompatibility_version ( ) ) ; }
public void info ( java.lang.Object arg0 ) { log.info ( addPrefixToLogMessage ( arg0 ) ) ; }
public void edit ( final org.ovirt.engine.ui.uicommonweb.models.gluster.VolumeParameterModel object ) { org.ovirt.engine.ui.webadmin.section.main.view.popup.gluster.VolumeParameterPopupView.Driver.driver.edit ( object ) ; }
org.ovirt.engine.core.vdsbroker.vdsbroker.StatusOnlyReturnForXmlRpc glusterGeoRepMountBrokerSetup ( java.lang.String remoteVolumeName , java.lang.String userName , java.lang.String remoteGroupName ) ;
public void testIsNetworkInSyncWhenBothQosIsNull ( ) throws java.lang.Exception { iface.setQos ( null ) ; networkQos = null ; org.junit.Assert.assertThat ( createTestedInstanceWithSameNonQosValues ( ) . isNetworkInSync ( ) , org.hamcrest.CoreMatchers.is ( true ) ) ; }
public void shouldFailtWhenNoGraphicsType ( ) { org.ovirt.engine.core.common.console.ConsoleOptions options = new org.ovirt.engine.core.common.console.ConsoleOptions ( ) ; org.ovirt.engine.core.bll.ConfigureConsoleOptionsQuery query = new org.ovirt.engine.core.bll.ConfigureConsoleOptionsQuery ( new org.ovirt.engine.core.common.queries.ConfigureConsoleOptionsParams ( options , false ) ) ; org.junit.Assert.assertFalse ( query.validateInputs ( ) ) ; }
public void validateSucceedsWithStopActionType ( ) { cmd.getParameters ( ) . setActionType ( GlusterConstants.MANAGE_GLUSTER_SERVICE_ACTION_TYPE_STOP ) ; prepareMocks ( ) ; org.junit.Assert.assertFalse ( cmd.validate ( ) ) ; }
public void defaultClusterInLocalFs ( ) { org.ovirt.engine.core.bll.UpdateVdsGroupCommandTest.mcr.mockConfigValue ( ConfigValues.AutoRegistrationDefaultVdsGroupID , org.ovirt.engine.core.bll.UpdateVdsGroupCommandTest.DEFAULT_VDS_GROUP_ID ) ; createCommandWithDefaultVdsGroup ( ) ; oldGroupIsDetachedDefault ( ) ; storagePoolIsLocalFS ( ) ; cpuExists ( ) ; cpuManufacturersMatch ( ) ; allQueriesForVms ( ) ; architectureIsUpdatable ( ) ; canDoActionFailedWithReason ( VdcBllMessages.DEFAULT_CLUSTER_CANNOT_BE_ON_LOCALFS ) ; }
public java.lang.String toString ( ) { return ( ( ( ( ( ( "CopyVolumeDataVDSCommandParameters{" + "srcInfo=" ) + ( srcInfo ) ) + ", dstInfo=" ) + ( dstInfo ) ) + ", collapse=" ) + ( collapse ) ) + '}' ; }
public void testGetAllWithQuery ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.gluster.GlusterVolumeSnapshotConfig > configs = dao.getAllWithQuery ( "select * from gluster_volume_snapshot_config" ) ; org.junit.Assert.assertTrue ( ( configs != null ) ) ; org.junit.Assert.assertTrue ( ( ( configs.size ( ) ) == 3 ) ) ; }
public java.lang.Object Convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { if ( source == null ) { return new java.util.ArrayList < org.ovirt.engine.core.common.businessentities.Erratum > ( ) ; } return source ; }
protected void verifyBuiltKernelOptions ( org.ovirt.engine.core.common.businessentities.VmBase vm ) { org.junit.Assert.assertEquals ( org.ovirt.engine.ui.uicommonweb.models.vms.INITRD_PATH , vm.getInitrdUrl ( ) ) ; org.junit.Assert.assertEquals ( org.ovirt.engine.ui.uicommonweb.models.vms.KERNEL_PATH , vm.getKernelUrl ( ) ) ; org.junit.Assert.assertEquals ( org.ovirt.engine.ui.uicommonweb.models.vms.KERNEL_PARAMS , vm.getKernelParams ( ) ) ; }
public void eventRaised ( org.ovirt.engine.ui.uicompat.Event ev , java.lang.Object sender , org.ovirt.engine.ui.uicompat.EventArgs args ) { java.lang.String propName = ( ( org.ovirt.engine.ui.uicompat.PropertyChangedEventArgs ) ( args ) ) . PropertyName ; if ( propName.equals ( "ProposeDiscoverTargets" ) ) { setProposeDiscover ( object.getProposeDiscoverTargets ( ) ) ; } }
public void activated ( ) { if ( ( ( getBehavior ( ) . getInstanceTypeManager ( ) ) != null ) && ( ! ( getBehavior ( ) . basedOnCustomInstanceType ( ) ) ) ) { getBehavior ( ) . getInstanceTypeManager ( ) . updateFildsAfterOsChanged ( ) ; } }
public void testCanDoActionImageDoesNotExist ( ) { org.mockito.Mockito.when ( getDiskDao ( ) . get ( getDiskImageGroupId ( ) ) ) . thenReturn ( null ) ; org.ovirt.engine.core.bll.CanDoActionTestUtils.runAndAssertCanDoActionFailure ( cmd , EngineMessage.ACTION_TYPE_FAILED_DISK_NOT_EXIST ) ; }
protected void persistCollectedData ( ) { updateNetConfigDirtyFlag ( ) ; org.ovirt.engine.core.vdsbroker.vdsbroker.CollectVdsNetworkDataVDSCommand.persistAndEnforceNetworkCompliance ( getVds ( ) , skipManagementNetwork ( ) , org.ovirt.engine.core.common.businessentities.Entities.entitiesByName ( getParameters ( ) . getInterfaces ( ) ) ) ; }
private void initProcessedInfoLists ( ) { proccessedIdsInfo = new java.util.LinkedList < org.ovirt.engine.core.compat.Guid > ( ) ; proccessedOvfGenerationsInfo = new java.util.LinkedList < java.lang.Long > ( ) ; }
protected static void refreshVdcOptionCache ( org.ovirt.engine.core.dal.dbbroker.DbFacade db ) { org.ovirt.engine.core.dal.dbbroker.generic.DBConfigUtils._vdcOptionCache.clear ( ) ; java.util.List < org.ovirt.engine.core.common.businessentities.VdcOption > list = db.getVdcOptionDao ( ) . getAll ( ) ; for ( org.ovirt.engine.core.common.businessentities.VdcOption option : list ) { org.ovirt.engine.core.dal.dbbroker.generic.DBConfigUtils.updateOption ( option ) ; } }
public void getIdByTypeAndStatusReturnsNullForNonExistingVm ( ) throws java.lang.Exception { org.junit.Assert.assertEquals ( null , dao.getId ( new org.ovirt.engine.core.compat.Guid ( ) , SnapshotType.REGULAR , SnapshotStatus.OK ) ) ; }
public void validateVmMemoryCanStartOnVds ( ) { boolean vmPassedMemoryRequirement = org.ovirt.engine.core.bll.scheduling.SlaValidator.getInstance ( ) . hasPhysMemoryToRunVM ( vds , vm , 0 ) ; org.junit.Assert.assertEquals ( vmPassedMemoryRequirement , true ) ; }
public void testGetDataAndSetDataWithEmptySession ( ) { org.ovirt.engine.core.utils.ThreadLocalParamsContainer.setHttpSessionId ( "" ) ; org.junit.Assert.assertFalse ( "Set should fail with an empty session" , container.SetData ( org.ovirt.engine.core.bll.session.SessionDataContainerTest.TEST_KEY , org.ovirt.engine.core.bll.session.SessionDataContainerTest.TEST_VALUE ) ) ; org.junit.Assert.assertNull ( "Get should return null with an empty session" , container.GetData ( org.ovirt.engine.core.bll.session.SessionDataContainerTest.TEST_KEY , false ) ) ; }
private static org.ovirt.engine.core.common.businessentities.DiskImage createDiskImage ( long sizeInGigabytes ) { org.ovirt.engine.core.common.businessentities.DiskImage image = new org.ovirt.engine.core.common.businessentities.DiskImage ( ) ; image.setSizeInGigabytes ( sizeInGigabytes ) ; return image ; }
private void allVfsAreFree ( boolean isValid ) { org.mockito.Mockito.when ( validator.allVfsAreFree ( org.mockito.Matchers.any ( org.ovirt.engine.core.bll.network.host.HostNicVfsConfigHelper.class ) ) ) . thenReturn ( ( isValid ? org.ovirt.engine.core.bll.ValidationResult.VALID : new org.ovirt.engine.core.bll.ValidationResult ( org.ovirt.engine.core.common.errors.EngineMessage.ACTION_TYPE_FAILED_NUM_OF_VFS_CANNOT_BE_CHANGED ) ) ) ; }
private void updateIsLiveMergeSupported ( java.lang.Object entity ) { if ( entity == null ) { return ; } org.ovirt.engine.core.common.businessentities.VM vm = ( ( org.ovirt.engine.core.common.businessentities.VM ) ( entity ) ) ; setLiveMergeSupported ( org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncDataProvider.getInstance ( ) . isLiveMergeSupported ( vm ) ) ; }
private org.ovirt.engine.core.common.businessentities.Cluster getCluster ( ) { return getEntity ( org.ovirt.engine.core.common.businessentities.Cluster.class , VdcQueryType.GetClusterById , new org.ovirt.engine.core.common.queries.IdQueryParameters ( clusterId ) , clusterId.toString ( ) ) ; }
public void validateFailsWithEmptyBricksList ( ) { cmd = org.mockito.Mockito.spy ( new org.ovirt.engine.core.bll.gluster.CommitRemoveGlusterVolumeBricksCommand ( new org.ovirt.engine.core.common.action.gluster.GlusterVolumeRemoveBricksParameters ( volumeWithoutRemoveBricksTask , new java.util.ArrayList < > ( ) ) , null ) ) ; prepareMocks ( cmd ) ; org.junit.Assert.assertFalse ( cmd.validate ( ) ) ; }
private void setupDisks ( final org.ovirt.engine.ui.userportal.uicommon.model.basic.UserPortalBasicListProvider modelProvider ) { @ java.lang.SuppressWarnings ( value = "unchecked" ) java.lang.Iterable < org.ovirt.engine.core.common.businessentities.DiskImage > diskImages = modelProvider.getModel ( ) . getvmBasicDiskListModel ( ) . getItems ( ) ; if ( diskImages != null ) { getView ( ) . editDistItems ( diskImages ) ; } }
public org.ovirt.engine.core.bll.network.macpool.MacPool getMacPoolForDataCenter ( org.ovirt.engine.core.compat.Guid dataCenterId , org.ovirt.engine.core.bll.context.CommandContext commandContext ) { return getMacPoolById ( getMacPoolId ( dataCenterId ) , commandContext ) ; }
public static org.ovirt.engine.core.compat.Guid createGuidFromStringDefaultEmpty ( java.lang.String candidate ) { if ( candidate == null ) { return org.ovirt.engine.core.compat.Guid.Empty ; } return new org.ovirt.engine.core.compat.Guid ( candidate ) ; }
public void enableSinglePCI ( boolean enabled ) { getModel ( ) . getIsSingleQxlEnabled ( ) . setIsChangable ( enabled ) ; if ( ! enabled ) { getModel ( ) . getIsSingleQxlEnabled ( ) . setEntity ( false ) ; } }
private java.lang.String unEscapeRenderedText ( java.lang.String renderedText ) { renderedText = renderedText.replace ( "&lt;" , "<" ) ; return renderedText ; }
protected boolean hostStatusLegalForSetupNetworks ( org.ovirt.engine.core.common.businessentities.VDS vds ) { return ( org.ovirt.engine.core.bll.network.host.HostSetupNetworksCommand.SUPPORTED_HOST_STATUSES.contains ( vds.getStatus ( ) ) ) || ( ( ( vds.getStatus ( ) ) == ( org.ovirt.engine.core.common.businessentities.VDSStatus.Installing ) ) && ( org.ovirt.engine.core.bll.network.host.HostSetupNetworksCommand.isInternalExecution ( ) ) ) ; }
private void initVds ( ) { vds = new org.ovirt.engine.core.common.businessentities.VDS ( ) ; vds.setId ( new org.ovirt.engine.core.compat.Guid ( "00000000-0000-0000-0000-000000000012" ) ) ; vds.setVdsGroupCompatibilityVersion ( Version.v3_4 ) ; }
boolean Match ( TSource source ) ;
public void passwordProvidedForHostInstallation ( ) { validator = createValidatorForHostInstallation ( ) ; org.junit.Assert.assertThat ( validator.passwordProvidedForHostInstallation ( AuthenticationMethod.Password , org.ovirt.engine.core.utils.RandomUtils.instance ( ) . nextString ( 10 ) ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.isValid ( ) ) ; }
public void onSuccess ( java.lang.Object target , java.lang.Object returnValue ) { org.ovirt.engine.ui.uicommonweb.models.datacenters.DataCenterGuideModel dataCenterGuideModel = ( ( org.ovirt.engine.ui.uicommonweb.models.datacenters.DataCenterGuideModel ) ( target ) ) ; dataCenterGuideModel.allHosts = ( ( java.util.ArrayList < org.ovirt.engine.core.common.businessentities.VDS > ) ( returnValue ) ) ; dataCenterGuideModel.updateOptionsNonLocalFS ( ) ; }
public void update ( int index , org.ovirt.engine.ui.uicommonweb.models.EntityModel model , java.lang.Boolean value ) { org.ovirt.engine.ui.uicommonweb.models.clusters.ClusterNetworkModel clusterNetworkManageModel = ( ( org.ovirt.engine.ui.uicommonweb.models.clusters.ClusterNetworkModel ) ( model ) ) ; networks.asEditor ( ) . flush ( ) . setDisplayNetwork ( clusterNetworkManageModel , value ) ; refreshNetworksTable ( ) ; }
public void testDefaultRouteNonDefaultRouteNetwork ( ) { iface.setIpv4DefaultRoute ( true ) ; network.setDnsResolverConfiguration ( sampleDnsResolverConfiguration ) ; org.junit.Assert.assertThat ( createTestedInstance ( false , sampleDnsResolverConfiguration ) . isNetworkInSync ( ) , org.hamcrest.CoreMatchers.is ( false ) ) ; }
public void save ( org.ovirt.engine.core.common.businessentities.network.NetworkAttachment entity ) { verifyRelationWithHostNetworkQos ( entity ) ; hostNetworkQosDao.persistQosChanges ( entity.getId ( ) , entity.getHostNetworkQos ( ) ) ; super . save ( entity ) ; }
java.lang.String integerValidationNumberGreaterInvalidReason ( java.lang.String prefixMsg , int min ) ;
org.ovirt.engine.core.vdsbroker.gluster.GlusterVolumeGeoRepStatusForXmlRpc glusterVolumeGeoRepStatus ( ) ;
public java.lang.String getRandomtime ( ) { return routines.TalendDate.getDate ( "CCYY-MM-DD hh:mm:ss" ) ; }
public org.ovirt.engine.core.common.queries.VdcQueryReturnValue RunPublicQuery ( org.ovirt.engine.core.common.queries.VdcQueryType queryType , org.ovirt.engine.core.common.queries.VdcQueryParametersBase params ) ;
public void testExistsVmDeviceByVmIdAndType ( ) { org.junit.Assert.assertTrue ( dao.existsVmDeviceByVmIdAndType ( org.ovirt.engine.core.dao.VmDeviceDaoTest.EXISTING_VM_ID , VmDeviceGeneralType.HOSTDEV ) ) ; org.junit.Assert.assertFalse ( dao.existsVmDeviceByVmIdAndType ( org.ovirt.engine.core.dao.VmDeviceDaoTest.NON_EXISTING_VM_ID , VmDeviceGeneralType.HOSTDEV ) ) ; }
public void setspm_status ( org.ovirt.engine.core.common.businessentities.VdsSpmStatus value ) { _spm_status = value ; OnPropertyChanged ( new org.ovirt.engine.core.compat.PropertyChangedEventArgs ( "spm_status" ) ) ; }
public void testAddNewIscsiBond ( ) { dao.save ( newIscsiBond ) ; org.ovirt.engine.core.common.businessentities.IscsiBond iscsiBond = dao.get ( newIscsiBond.getId ( ) ) ; junit.framework.Assert.assertEquals ( newIscsiBond , iscsiBond ) ; }
public synchronized boolean entityHasTasks ( org.ovirt.engine.core.compat.Guid id ) { for ( org.ovirt.engine.core.bll.tasks.SPMAsyncTask task : _tasks.values ( ) ) { if ( isCurrentTaskLookedFor ( id , task ) ) { return true ; } } return false ; }
public void setdisplay_ip ( java.lang.String value ) { this . display_ip = value ; }
public void canDetectMissingVM ( ) { org.mockito.Mockito.when ( vmDao.get ( org.mockito.Matchers.eq ( vm.getId ( ) ) ) ) . thenReturn ( null ) ; final org.ovirt.engine.core.bll.numa.vm.AddVmNumaNodesCommand command = mockedCommandWithVmFromDb ( ) ; org.ovirt.engine.core.bll.CanDoActionTestUtils.runAndAssertCanDoActionFailure ( command , EngineMessage.ACTION_TYPE_FAILED_VM_NOT_FOUND ) ; }
abstract void createInfoPanel ( ) ;
public void setPort ( java.lang.String port ) { this . port = ( port == null ) ? "" : port ; }
private boolean verifyDisksIfNeeded ( ) { if ( ( ! ( getParameters ( ) . isImportAsNewEntity ( ) ) ) && ( ! ( org.ovirt.engine.core.bll.ImportVmCommand.isImagesAlreadyOnTarget ( ) ) ) ) { return checkIfDisksExist ( imageList ) ; } return true ; }
private void prepareVmToPassCanDoAction ( ) { vmStatic.setName ( "vm1" ) ; vmStatic.setMemSizeMb ( 256 ) ; mockVmDaoGetVm ( ) ; mockSameNameQuery ( false ) ; mockValidateCustomProperties ( ) ; }
public final void removeSessionOnLogout ( java.lang.String sessionId ) { removeSessionImpl ( sessionId , Acct.ReportReason.PRINCIPAL_LOGOUT , "Prinicial %1$s has performed logout" , getPrincipalName ( sessionId ) ) ; }
private org.ovirt.engine.ui.uicommonweb.UICommand createOKCommand ( java.lang.String commandName ) { org.ovirt.engine.ui.uicommonweb.UICommand command = new org.ovirt.engine.ui.uicommonweb.UICommand ( commandName , this ) ; command.setTitle ( org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance ( ) . getConstants ( ) . ok ( ) ) ; command.setIsDefault ( true ) ; return command ; }
public java.lang.Double getelapsed_time ( ) { return this . mVmStatistics.getelapsed_time ( ) ; }
public void vmNotHavingPassthroughVnicsNotValid ( ) { vmNotHavingPassthroughVnicsCommon ( vm.getId ( ) , 2 , 3 ) ; org.junit.Assert.assertThat ( validator.vmNotHavingPassthroughVnics ( ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( VdcBllMessages.ACTION_TYPE_FAILED_MIGRATION_OF_PASSTHROUGH_VNICS_IS_NOT_SUPPORTED ) ) ; }
public void addColumn ( com.google.gwt.user.cellview.client.Column < T , ? > column , java.lang.String headerText ) { addColumn ( column , getHeader ( column , headerText , false ) ) ; }
public void setMessage ( java.lang.String message ) { super . setMessage ( ( message == null ? constants.removeConfirmationPopupMessage ( ) : message ) ) ; }
public void testSaveUserWithTooManyGroups ( ) { org.ovirt.engine.core.common.businessentities.DbUser tooManyGroupsUser = new org.ovirt.engine.core.common.businessentities.DbUser ( ) ; tooManyGroupsUser.setname ( "I" ) ; tooManyGroupsUser.setsurname ( "Have" ) ; tooManyGroupsUser.setusername ( "too" ) ; tooManyGroupsUser.setemail ( "many@redhat.com" ) ; tooManyGroupsUser.setdomain ( "domain" ) ; tooManyGroupsUser.setgroups ( "groups" ) ; tooManyGroupsUser.setGroupIds ( org.apache.commons.lang.StringUtils.leftPad ( "groups" , 2048 ) ) ; dao.save ( tooManyGroupsUser ) ; org.ovirt.engine.core.common.businessentities.DbUser result = dao.getByUsername ( tooManyGroupsUser.getusername ( ) ) ; org.junit.Assert.assertEquals ( tooManyGroupsUser , result ) ; }
public void getFreeVfNoVfs ( ) { freeVfCommon ( 0 , 0 , 0 , 0 , 0 ) ; org.junit.Assert.assertNull ( networkDeviceHelper.getFreeVf ( nic , null ) ) ; }
public void setMainTabBarOffset ( int left ) { getView ( ) . setMainTabBarOffset ( left ) ; }
private int parseIntVdsProperty ( java.lang.Object vdsProperty ) { if ( vdsProperty instanceof java.lang.Integer ) { return ( ( java.lang.Integer ) ( vdsProperty ) ) ; } else { return java.lang.Integer.parseInt ( ( ( java.lang.String ) ( vdsProperty ) ) ) ; } }
private boolean isDummyLun ( org.ovirt.engine.core.common.businessentities.storage.LUNs lun ) { return lun.getLUN_id ( ) . startsWith ( BusinessEntitiesDefinitions.DUMMY_LUN_ID_PREFIX ) ; }
protected void executeQueryCommand ( ) { java.lang.Boolean isEmpty = org.ovirt.engine.core.bll.IsClusterEmptyQuery.getDbFacade ( ) . getVdsGroupDao ( ) . getIsEmpty ( org.ovirt.engine.core.bll.IsClusterEmptyQuery.getParameters ( ) . getId ( ) ) ; org.ovirt.engine.core.bll.IsClusterEmptyQuery.getQueryReturnValue ( ) . setReturnValue ( isEmpty ) ; }
public java.util.List < org.ovirt.engine.core.common.businessentities.VDS > getAllWithName ( java.lang.String name ) { return getCallsHandler ( ) . executeReadList ( "GetVdsByName" , org.ovirt.engine.core.dao.VdsDAODbFacadeImpl.VdsRowMapper.instance , getCustomMapSqlParameterSource ( ) . addValue ( "vds_name" , name ) ) ; }
public void setUp ( ) throws java.lang.Exception { super . setUp ( ) ; setUpDAOMocks ( ) ; org.mockito.Mockito.doReturn ( "config" ) . when ( getQuery ( ) ) . generateOvfConfig ( org.mockito.Matchers.any ( org.ovirt.engine.core.common.businessentities.VM.class ) ) ; }
public static org.ovirt.engine.core.dao.PermissionDAO getPermissionDAO ( ) { return org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getPermissionDao ( ) ; }
void auditLog ( org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBase logable , org.ovirt.engine.core.common.AuditLogType logType ) { org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogDirector.log ( logable , logType ) ; }
public void asConsoleIdInverseOfAsGraphicsType ( java.lang.String consoleId ) { org.junit.Assert.assertEquals ( consoleId , org.ovirt.engine.api.restapi.resource.BackendGraphicsConsoleHelper.asConsoleId ( org.ovirt.engine.api.restapi.resource.BackendGraphicsConsoleHelper.asGraphicsType ( consoleId ) ) ) ; }
public void onClick ( com.google.gwt.event.dom.client.ClickEvent event ) { model.setIsEveryoneSelected ( true ) ; getView ( ) . changeStateOfElementsWhenAccessIsForEveryone ( true ) ; }
public void updateStatusAndReasons ( org.ovirt.engine.core.common.businessentities.VdsDynamic host ) { update ( host ) ; }
public int getExternalHttpsPort ( ) { return isProxyEnabled ( ) ? getProxyHttpsPort ( ) : getHttpsPort ( ) ; }
public java.lang.Object convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { return source != null ? ( ( java.lang.Integer ) ( source ) ) : 1 ; }
public void setMainTabSelectedItem ( org.ovirt.engine.core.common.businessentities.VDSGroup selectedItem ) { driver.edit ( getDetailModel ( ) ) ; form.update ( ) ; }
public void onClick ( com.google.gwt.event.dom.client.ClickEvent event ) { getView ( ) . flush ( ) ; beforeCommandExecuted ( button.getCommand ( ) ) ; button.getCommand ( ) . Execute ( ) ; }
public org.ovirt.engine.core.common.action.VdcReturnValueBase logoff ( org.ovirt.engine.core.common.action.LogoutUserParameters parameters ) { return runAction ( VdcActionType.LogoutUser , parameters ) ; }
public void testIsUsingScsiReservationValidWhenSgioIsFiltered ( ) { setupForLun ( ) ; org.ovirt.engine.core.common.businessentities.storage.LunDisk lunDisk1 = createLunDisk ( ScsiGenericIO.FILTERED , true ) ; org.junit.Assert.assertThat ( lunValidator.isUsingScsiReservationValid ( org.ovirt.engine.core.bll.validator.storage.DiskValidatorTest.createVM ( ) , lunDisk1 ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( VdcBllMessages.ACTION_TYPE_FAILED_SGIO_IS_FILTERED ) ) ; }
public void DefaultHost_SelectedItemChanged ( ) { UpdateCdImage ( ) ; }
public void persistCommand ( org.ovirt.engine.core.common.businessentities.CommandEntity cmdEntity , org.ovirt.engine.core.bll.context.CommandContext cmdContext ) { initChildHierarchy ( ) ; if ( org.ovirt.engine.core.compat.Guid.isNullOrEmpty ( cmdEntity.getId ( ) ) ) { return ; } persistCommand ( cmdEntity ) ; saveCommandContext ( cmdEntity.getId ( ) , cmdContext ) ; }
org.ovirt.engine.core.dao.network.NetworkDao getNetworkDao ( ) { return org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getNetworkDao ( ) ; }
public void testNetworkAttachmentIsSetWhenAttachmentIsNull ( ) throws java.lang.Exception { org.junit.Assert.assertThat ( new org.ovirt.engine.core.bll.validator.NetworkAttachmentValidator ( null , new org.ovirt.engine.core.common.businessentities.VDS ( ) ) . networkAttachmentIsSet ( ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( VdcBllMessages.NETWORK_ATTACHMENT_NOT_EXISTS ) ) ; }
public void contextDestroyed ( javax.servlet.ServletContextEvent event ) { org.ovirt.vdsmfake.AppLifecycleListener.log.info ( "Application destroyed." ) ; final org.ovirt.vdsmfake.task.TaskProcessor taskProcessor = org.ovirt.vdsmfake.task.TaskProcessor.getInstance ( ) ; taskProcessor.destroy ( ) ; }
public void onSuccess ( java.lang.Object model , java.lang.Object returnValue ) { networkProfiles = ( ( java.util.List < org.ovirt.engine.core.common.businessentities.network.VnicProfileView > ) ( returnValue ) ) ; initNetworksList ( ) ; initClusterAndStorage ( dataCenter ) ; }
public java.util.List < org.ovirt.engine.core.bll.utils.PermissionSubject > getPermissionCheckSubjects ( ) { return java.util.Collections.singletonList ( new org.ovirt.engine.core.bll.utils.PermissionSubject ( org.ovirt.engine.core.bll.storage.export.RemoveVmFromImportExportCommand.getParameters ( ) . getStorageDomainId ( ) , org.ovirt.engine.core.common.VdcObjectType.Storage , org.ovirt.engine.core.bll.storage.export.RemoveVmFromImportExportCommand.getActionType ( ) . getActionGroup ( ) ) ) ; }
public java.util.List < org.ovirt.engine.core.common.utils.Pair < org.ovirt.engine.core.compat.Guid , java.lang.Integer > > score ( org.ovirt.engine.core.common.businessentities.Cluster cluster , java.util.List < org.ovirt.engine.core.common.businessentities.VDS > hosts , org.ovirt.engine.core.common.businessentities.VM vm , java.util.Map < java.lang.String , java.lang.String > parameters ) { return reverseEvenDistributionScore ( cluster , hosts , vm , parameters ) ; }
public static org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface findInterfaceByNetworkName ( java.util.List < org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface > items , java.lang.String name ) { for ( org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface i : items ) { if ( java.util.Objects.equals ( i.getNetworkName ( ) , name ) ) { return i ; } } return null ; }
public void testGetAllForClusterWithInvalidCluster ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.network.Network > result = dao.getAllForCluster ( org.ovirt.engine.core.compat.Guid.newGuid ( ) ) ; org.junit.Assert.assertNotNull ( result ) ; org.junit.Assert.assertTrue ( result.isEmpty ( ) ) ; }
public void validateFailedWrongPlugStatus ( ) throws java.lang.Exception { mockVmStatusUp ( ) ; mockInterfaceList ( ) ; cretaeDiskWrongPlug ( true ) ; org.ovirt.engine.core.bll.ValidateTestUtils.runAndAssertValidateFailure ( command , EngineMessage.HOT_PLUG_DISK_IS_NOT_UNPLUGGED ) ; }
public org.ovirt.engine.core.common.businessentities.TagsType gettype ( ) { return this . type ; }
public void onValueChange ( com.google.gwt.event.logical.shared.ValueChangeEvent < java.lang.Integer > event ) { onRefresh ( modelTimer.getTimerRefreshStatus ( ) ) ; }
public void setdisplay_type ( org.ovirt.engine.core.common.businessentities.DisplayType value ) { this . mVmDynamic.setdisplay_type ( value ) ; OnPropertyChanged ( new org.ovirt.engine.core.compat.PropertyChangedEventArgs ( "display_type" ) ) ; }
public void validateIsoPrefixWithTrippleSlash ( ) throws java.lang.Exception { java.lang.String initrd = ( org.ovirt.engine.core.bll.RunVmCommandTest.ISO_PREFIX ) + "/" ; org.ovirt.engine.core.common.businessentities.VM vm = createVmForTesting ( initrd , null ) ; org.junit.Assert.assertEquals ( vm.getinitrd_url ( ) , ( ( org.ovirt.engine.core.bll.RunVmCommandTest.ACTIVE_ISO_PREFIX ) + "/" ) ) ; }
protected org.ovirt.engine.core.common.businessentities.DbUser getUserByIdx ( int idx ) { org.ovirt.engine.core.common.businessentities.DbUser user = new org.ovirt.engine.core.common.businessentities.DbUser ( ) ; user.setId ( GUIDS [ idx ] ) ; user.setFirstName ( NAMES [ idx ] ) ; user.setLoginName ( NAMES [ idx ] ) ; return user ; }
protected void copyVmDevices ( ) { org.ovirt.engine.core.bll.utils.VmDeviceUtils.copyVmDevices ( org.ovirt.engine.core.bll.AddVmCommand.getVmTemplateId ( ) , org.ovirt.engine.core.bll.AddVmCommand.getVmId ( ) , newDiskImages , _vmInterfaces ) ; }
public int getlow_utilization ( ) { return this . low_utilizationField ; }
protected org.ovirt.engine.core.common.asynctasks.AsyncTaskType getTaskType ( ) { return org.ovirt.engine.core.common.asynctasks.AsyncTaskType.moveImage ; }
private void doTest ( java.lang.String value , boolean valid , org.ovirt.engine.ui.uicommonweb.validation.HostAddressValidation underTest ) { org.junit.Assert.assertThat ( underTest.validate ( value ) , org.hamcrest.CoreMatchers.is ( ( valid ? org.ovirt.engine.ui.uicommonweb.validation.ValidationResult.ok ( ) : org.ovirt.engine.ui.uicommonweb.validation.ValidationResult.fail ( org.ovirt.engine.ui.uicommonweb.validation.HostAddressValidationTest.TEST_VIOLATION_MESSAGE ) ) ) ) ; }
private void setUpGetBallooningExpectations ( ) throws java.lang.Exception { setUpGetEntityExpectations ( VdcQueryType.IsBalloonEnabled , org.ovirt.engine.core.common.queries.IdQueryParameters.class , new java.lang.String [ ] { "Id" } , new java.lang.Object [ ] { GUIDS [ 0 ] } , true ) ; }
private void initContent ( ) { expanderContent.getStyle ( ) . setDisplay ( Style.Display.NONE ) ; }
public java.lang.String getGroupIds ( ) { return groupIds ; }
public void setEntity ( java.lang.Object value ) { super . setEntity ( value ) ; setBootProtocolsAvailable ( ( ( java.lang.Boolean ) ( value ) ) ) ; UpdateCanSpecify ( ) ; }
protected java.lang.String getProgressText ( org.ovirt.engine.core.common.businessentities.VDS object ) { int numOfActiveVMs = ( ( object.getvm_active ( ) ) != null ) ? object.getvm_active ( ) : 0 ; return org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance ( ) . getMessages ( ) . numberOfVmsForHostsLoad ( numOfActiveVMs ) ; }
protected void InitDetailModels ( ) { super . InitDetailModels ( ) ; org.ovirt.engine.ui.uicompat.ObservableCollection < org.ovirt.engine.ui.uicommonweb.models.EntityModel > list = new org.ovirt.engine.ui.uicompat.ObservableCollection < org.ovirt.engine.ui.uicommonweb.models.EntityModel > ( ) ; list.add ( new org.ovirt.engine.ui.uicommonweb.models.providers.ProviderGeneralModel ( ) ) ; setDetailModels ( list ) ; }
public void shouldCreateAsMuchNumaNodesAsVirtualCores ( ) { vm.setNumOfSockets ( 1 ) ; vm.setCpuPerSocket ( 2 ) ; org.junit.Assert.assertTrue ( org.ovirt.engine.core.bll.numa.vm.NumaValidator.checkVmNumaNodesIntegrity ( vm , vm.getvNumaNodeList ( ) ) . isValid ( ) ) ; }
java.lang.String pressKeyToReleaseCursor ( java.lang.String key ) ;
protected void startPollingAsyncTasks ( java.util.Collection < org.ovirt.engine.core.compat.Guid > taskIds ) { for ( org.ovirt.engine.core.compat.Guid taskID : taskIds ) { getAsyncTaskManager ( ) . startPollingTask ( taskID ) ; } }
public void testVmUnderMinNumOfSockets ( ) { setVmCpuValues ( 1 , ( - 2 ) , 1 ) ; org.junit.Assert.assertThat ( org.ovirt.engine.core.bll.validator.VmValidator.validateCpuSockets ( vm.getStaticData ( ) , org.ovirt.engine.core.bll.validator.VmValidatorTest.COMPAT_VERSION_FOR_CPU_SOCKET_TEST ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( EngineMessage.ACTION_TYPE_FAILED_MIN_CPU_PER_SOCKET ) ) ; }
public void qosCommitmentMissingNicSpeed ( ) { org.ovirt.engine.core.bll.network.host.SetupNetworksHelper helper = qosCommitmentNicSetup ( ( ( org.ovirt.engine.core.bll.network.host.SetupNetworksHelperTest.DEFAULT_SPEED ) / 2 ) , null ) ; validateAndExpectViolation ( helper , VdcBllMessages.ACTION_TYPE_FAILED_HOST_NETWORK_QOS_INVALID_INTERFACE_SPEED , org.ovirt.engine.core.bll.network.host.SetupNetworksHelperTest.BOND_NAME ) ; }
private boolean ovfOnAnyDomainSupported ( ) { return org.ovirt.engine.core.common.FeatureSupported.ovfStoreOnAnyDomain ( org.ovirt.engine.core.bll.storage.DeactivateStorageDomainWithOvfUpdateCommand.getStoragePool ( ) . getcompatibility_version ( ) ) ; }
public void setDetailModels ( java.util.List < org.ovirt.engine.ui.uicommonweb.models.HasEntity < D > > value ) { if ( ( detailModels ) != value ) { detailModels = value ; onPropertyChanged ( new org.ovirt.engine.ui.uicompat.PropertyChangedEventArgs ( "DetailModels" ) ) ; } }
public void trace ( java.lang.Object msg , java.lang.Throwable t ) { if ( log.isTraceEnabled ( ) ) { log.trace ( addPrefixToLogMessage ( msg ) , t ) ; } }
public void onClick ( com.google.gwt.event.dom.client.ClickEvent event ) { loginModel.getLoginCommand ( ) . Execute ( ) ; }
public void setValue ( java.lang.Object listModelValues ) { }
public void setSpiceDriverVersion ( org.ovirt.engine.core.compat.Version spiceDriverVersion ) { if ( ( this . spiceDriverVersion ) != spiceDriverVersion ) { this . spiceDriverVersion = spiceDriverVersion ; OnPropertyChanged ( new org.ovirt.engine.ui.uicompat.PropertyChangedEventArgs ( "spiceDriverVersion" ) ) ; } }
public void renameVmdkImage ( ) { java.lang.String alias = org.ovirt.engine.core.bll.ImportVmFromExternalProviderCommand.renameDiskAlias ( "[datastore] Fedora21/Fedora21.vmdk" ) ; org.junit.Assert.assertEquals ( alias , "Fedora21" ) ; }
protected boolean canDoAction ( ) { boolean retValue = super . canDoAction ( ) ; if ( ( org.ovirt.engine.core.bll.AddInternalJobCommand.getParameters ( ) . getActionType ( ) ) == null ) { addCanDoActionMessage ( VdcBllMessages.ACTION_TYPE_EMPTY_ACTION_TYPE ) ; retValue = false ; } return retValue ; }
public java.lang.Object convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { return source != null ? ( ( org.ovirt.engine.core.common.businessentities.StorageDomain ) ( source ) ) : null ; }
public void testVm ( ) { testValidSql ( "Vm: status=Up or status=PoweringUp or status=MigratingTo or status=WaitForLaunch or status=RebootInProgress or status=PoweringDown or status=Paused or status=Unknown sortby cpu_usage desc" , "SELECT * FROM ((SELECT distinct vms.* FROM vms WHERE ( ( ( ( ( ( ( vms.status = '1' OR vms.status = '2' ) OR vms.status = '6' ) OR vms.status = '9' ) OR vms.status = '10' ) OR vms.status = '16' ) OR vms.status = '4' ) OR vms.status = '7' )) ORDER BY usage_cpu_percent DESC NULLS LAST,vm_name ASC ) as T1 OFFSET (1 -1) LIMIT 0" ) ; testValidSql ( "Vm:" , "SELECT * FROM ((SELECT distinct vms.* FROM vms ) ORDER BY vm_name ASC ) as T1 OFFSET (1 -1) LIMIT 0" ) ; testValidSql ( "Vm: user.name = user1" , "SELECT * FROM ((SELECT distinct vms.* FROM vms LEFT OUTER JOIN vdc_users_with_tags ON vms.vm_guid=vdc_users_with_tags.vm_guid WHERE vdc_users_with_tags.name LIKE user1 ) ORDER BY vm_name ASC ) as T1 OFFSET (1 -1) LIMIT 0" ) ; testValidSql ( "Vm: user.name = \"user1\" and user.tag=\"tag1\"" , "SELECT * FROM (SELECT * FROM vms WHERE ( vm_guid IN (SELECT distinct vms_with_tags.vm_guid FROM vms_with_tags LEFT OUTER JOIN vdc_users_with_tags ON vms_with_tags.vm_guid=vdc_users_with_tags.vm_guid WHERE ( vdc_users_with_tags.name LIKE user1 AND vdc_users_with_tags.tag_name IN (tag1) ))) ORDER BY vm_name ASC ) as T1 OFFSET (1 -1) LIMIT 0" ) ; testValidSql ( "Vm: mac=00:1a:4a:d4:53:94" , "SELECT * FROM (SELECT * FROM vms WHERE ( vm_guid IN (SELECT distinct vms_with_tags.vm_guid FROM vms_with_tags WHERE ( vms_with_tags.description LIKE '%mac=00:1a:4a:d4:53:94%' OR vms_with_tags.free_text_comment LIKE '%mac=00:1a:4a:d4:53:94%' OR vms_with_tags.guest_cur_user_name LIKE '%mac=00:1a:4a:d4:53:94%' OR vms_with_tags.quota_name LIKE '%mac=00:1a:4a:d4:53:94%' OR vms_with_tags.run_on_vds_name LIKE '%mac=00:1a:4a:d4:53:94%' OR vms_with_tags.storage_pool_name LIKE '%mac=00:1a:4a:d4:53:94%' OR vms_with_tags.tag_name LIKE '%mac=00:1a:4a:d4:53:94%' OR vms_with_tags.vds_group_name LIKE '%mac=00:1a:4a:d4:53:94%' OR vms_with_tags.vm_fqdn LIKE '%mac=00:1a:4a:d4:53:94%' OR vms_with_tags.vm_host LIKE '%mac=00:1a:4a:d4:53:94%' OR vms_with_tags.vm_ip LIKE '%mac=00:1a:4a:d4:53:94%' OR vms_with_tags.vm_name LIKE '%mac=00:1a:4a:d4:53:94%' OR vms_with_tags.vm_pool_name LIKE '%mac=00:1a:4a:d4:53:94%' ) )) ORDER BY vm_name ASC ) as T1 OFFSET (1 -1) LIMIT 0" ) ; testValidSql ( "Vms: SORTBY IP DESC" , "SELECT * FROM ((SELECT distinct vms.* FROM vms ) ORDER BY vm_ip_inet_array DESC NULLS LAST,vm_name ASC ) as T1 OFFSET (1 -1) LIMIT 0" ) ; }
private static void validateInvalidResult ( org.ovirt.engine.core.bll.ValidationResult validationResult , org.ovirt.engine.core.dal.VdcBllMessages message ) { org.ovirt.engine.core.bll.snapshots.SnapshotsValidatorTest.validateResult ( validationResult , false , message ) ; }
private void addStyles ( ) { keyField.addContentWidgetStyleName ( style.fieldWidth ( ) ) ; valueField.addContentWidgetStyleName ( style.fieldWidth ( ) ) ; hideLabels ( ) ; }
public void testSeverityAndEventCombo ( ) { java.lang.String expected = "test@example.com" ; filter.clearFilterEntries ( ) ; filter.addFilterEntries ( org.ovirt.engine.core.notifier.filter.FirstMatchSimpleFilter.parse ( ( ( ( ( ( ( "include:normal_message:ERROR(smtp:" + expected ) + ") " ) + "include:error_message:NORMAL(smtp:" ) + expected ) + ") " ) + "exclude:*" ) ) ) ; filter.processEvent ( new org.ovirt.engine.core.notifier.filter.FirstMatchSimpleFilterTest.E ( "normal_message" , org.ovirt.engine.core.common.AuditLogSeverity.NORMAL ) ) ; filter.processEvent ( new org.ovirt.engine.core.notifier.filter.FirstMatchSimpleFilterTest.E ( "error_message" , org.ovirt.engine.core.common.AuditLogSeverity.ERROR ) ) ; org.junit.Assert.assertTrue ( smtp.getEvents ( ) . contains ( ( "error_message-->" + expected ) ) ) ; org.junit.Assert.assertEquals ( 1 , smtp.getEvents ( ) . size ( ) ) ; }
public java.lang.Boolean getValue ( org.ovirt.engine.ui.uicommonweb.models.EntityModel model ) { return ( ( org.ovirt.engine.ui.uicommonweb.models.clusters.ClusterNetworkModel ) ( model ) ) . isDisplayNetwork ( ) ; }
public void addVmToPool ( org.ovirt.engine.core.common.businessentities.VmPoolMap map ) { org.springframework.jdbc.core.namedparam.MapSqlParameterSource parameterSource = getCustomMapSqlParameterSource ( ) . addValue ( "vm_guid" , map.getvm_guid ( ) ) . addValue ( "vm_pool_id" , map.getvm_pool_id ( ) ) ; getCallsHandler ( ) . executeModification ( "InsertVm_pool_map" , parameterSource ) ; }
public static org.ovirt.engine.core.common.queries.CommandVersionsInfo GetCommandVersionsInfo ( org.ovirt.engine.core.common.action.VdcActionType vdcActionType ) { if ( ( org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncDataProvider.cachedCommandsCompatibilityVersions ) == null ) { return null ; } return org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncDataProvider.cachedCommandsCompatibilityVersions.get ( vdcActionType ) ; }
public void addToHistoryEmptyBefore ( ) { org.junit.Assert.assertEquals ( java.util.Collections.singletonList ( 12 ) , statistics.addToHistory ( new java.util.ArrayList < java.lang.Integer > ( ) , 12 , 100 ) ) ; }
void executeCommand ( org.ovirt.engine.ui.uicommonweb.UICommand command ) { if ( command != null ) { command.Execute ( ) ; } }
protected void executeVmCommand ( ) { removeVmInSpm ( ) ; removeDiskImages ( ) ; removeMemoryImages ( ) ; org.ovirt.engine.core.bll.storage.export.RemoveVmFromImportExportCommand.setSucceeded ( true ) ; }
private void updateQuotaCache ( ) { if ( wasQuotaEnforcementDisabled ( ) ) { org.ovirt.engine.core.bll.storage.UpdateStoragePoolCommand.getQuotaManager ( ) . removeStoragePoolFromCache ( org.ovirt.engine.core.bll.storage.UpdateStoragePoolCommand.getStoragePool ( ) . getId ( ) ) ; } }
public java.util.List < org.ovirt.engine.core.common.businessentities.VDS > getAllWithQuery ( java.lang.String query ) { return jdbcTemplate.query ( query , org.ovirt.engine.core.dao.VdsDAODbFacadeImpl.VdsRowMapper.instance ) ; }
public void testValidModifiedBondsFailsWhenReferencingExistingNonBondInterface ( ) throws java.lang.Exception { org.ovirt.engine.core.common.businessentities.network.Bond bond = new org.ovirt.engine.core.common.businessentities.network.Bond ( ) ; bond.setName ( "bond0" ) ; doTestValidModifiedBonds ( bond , ValidationResult.VALID , new org.ovirt.engine.core.bll.ValidationResult ( org.ovirt.engine.core.common.errors.VdcBllMessages.NETWORK_INTERFACE_IS_NOT_BOND ) , VdcBllMessages.NETWORK_INTERFACE_IS_NOT_BOND , false , false ) ; }
private org.ovirt.engine.core.common.businessentities.VDSStatus getStatusOnReboot ( ) { return VDSStatus.Maintenance.equals ( vdsInitialStatus ) ? org.ovirt.engine.core.common.businessentities.VDSStatus.Maintenance : org.ovirt.engine.core.common.businessentities.VDSStatus.NonResponsive ; }
protected void executeCommand ( ) { org.ovirt.engine.core.common.businessentities.VmPool vmPool = org.ovirt.engine.core.bll.AddVmPoolCommand.getVmPool ( ) ; org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getVmPoolDao ( ) . save ( vmPool ) ; setActionReturnValue ( vmPool.getvm_pool_id ( ) ) ; org.ovirt.engine.core.bll.AddVmPoolCommand.setSucceeded ( true ) ; }
public void testStorageDomainForMemoryIsNotValidWhenItHasLowSpace ( ) { org.mockito.Mockito.when ( storageDomainValidator.isDomainWithinThresholds ( ) ) . thenReturn ( new org.ovirt.engine.core.bll.ValidationResult ( org.ovirt.engine.core.common.errors.VdcBllMessages.ACTION_TYPE_FAILED_DISK_SPACE_LOW_ON_STORAGE_DOMAIN ) ) ; org.junit.Assert.assertFalse ( filter.getPredicate ( memoryDisks ) . eval ( storageDomain ) ) ; }
void setSessionId ( java.lang.String sessionId ) { org.ovirt.engine.ui.frontend.Frontend.getInstance ( ) . storeInHttpSession ( org.ovirt.engine.ui.webadmin.plugin.restapi.RestApiSessionManager.SESSION_ID_KEY , sessionId ) ; restApiSessionId = sessionId ; }
public java.lang.String getSysprepPath ( int osId , org.ovirt.engine.core.compat.Version version ) ;
public void setCompensationContext ( org.ovirt.engine.core.bll.context.CompensationContext compensationContext ) { context.setCompensationContext ( compensationContext ) ; }
public void UpdateDynamicData ( org.ovirt.engine.core.common.businessentities.VdsDynamic dynamicData ) { org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getVdsDynamicDAO ( ) . update ( dynamicData ) ; }
protected void endSuccessfully ( ) { endCommand ( ) ; }
public void addColumn ( com.google.gwt.user.cellview.client.Column < T , ? > column , java.lang.String headerText ) { addColumn ( column , getHeader ( column , headerText , false ) ) ; }
public void eventRaised ( org.ovirt.engine.ui.uicompat.Event ev , java.lang.Object sender , org.ovirt.engine.ui.uicompat.EventArgs args ) { setPanel ( object ) ; }
private void cancel ( ) { setWindow ( null ) ; }
private void initPanels ( ) { usedFilterPanel = new org.ovirt.engine.ui.webadmin.section.main.view.popup.scheduling.panels.PolicyUnitListPanel ( ) ; unusedFilterPanel = new org.ovirt.engine.ui.webadmin.section.main.view.popup.scheduling.panels.PolicyUnitListPanel ( ) ; usedFunctionPanel = new org.ovirt.engine.ui.webadmin.section.main.view.popup.scheduling.panels.PolicyUnitListPanel ( ) ; unusedFunctionPanel = new org.ovirt.engine.ui.webadmin.section.main.view.popup.scheduling.panels.PolicyUnitListPanel ( ) ; }
protected boolean isNetworkInCluster ( org.ovirt.engine.core.common.businessentities.network.Network network , org.ovirt.engine.core.compat.Guid clusterId ) { return org.ovirt.engine.core.bll.network.cluster.NetworkHelper.isNetworkInCluster ( network , clusterId ) ; }
public java.util.concurrent.Future < java.util.Map < java.lang.String , java.lang.Object > > setupNetworks ( java.util.Map networks , java.util.Map bonds , java.util.Map options ) { return vdsServer.futureSetupNetworks ( networks , bonds , options ) ; }
private void prepareManagementNetworkMocks ( ) { newDefaultManagementNetworkFound ( ) ; org.mockito.Mockito.when ( networkClusterValidator.managementNetworkChange ( ) ) . thenReturn ( ValidationResult.VALID ) ; }
public org.ovirt.vdsmfake.service.Host getActiveHostByName ( java.lang.String serverName ) { return org.ovirt.vdsmfake.service.VdsmManager.getInstance ( ) . getHostByName ( serverName ) ; }
public boolean getserver_SSL_enabled ( ) { return this . mVdsStatic.getserver_SSL_enabled ( ) ; }
org.ovirt.engine.core.common.businessentities.Disk getVmBootDisk ( org.ovirt.engine.core.compat.Guid vmId ) ;
public void onModelInitialized ( org.ovirt.engine.ui.common.uicommon.model.ModelInitializedEvent event ) { initializeModelHandlers ( ) ; }
private void IsAutoAssign_EntityChanged ( java.lang.Object sender , org.ovirt.engine.ui.uicompat.EventArgs args ) { if ( ( ( java.lang.Boolean ) ( getIsAutoAssign ( ) . getEntity ( ) ) ) == false ) { getDefaultHost ( ) . setIsChangable ( true ) ; } }
public org.ovirt.engine.core.common.businessentities.pm.FenceOperationResult call ( ) { return executor.fence ( fenceAction ) ; }
public void setMainTabSelectedItem ( org.ovirt.engine.core.common.businessentities.Disk selectedItem ) { org.ovirt.engine.ui.webadmin.section.main.view.tab.disk.SubTabDiskGeneralView.Driver.driver.edit ( getDetailModel ( ) ) ; formBuilder.showForm ( getDetailModel ( ) ) ; }
protected java.lang.String renderNullSafe ( org.ovirt.engine.core.common.businessentities.gluster.NfsProfileDetails object ) { return object.getNfsServerIp ( ) ; }
protected boolean isStoragePoolUnique ( java.lang.String storagePoolName ) { org.ovirt.engine.core.dao.StoragePoolDao spDao = org.ovirt.engine.core.bll.storage.pool.StoragePoolManagementCommandBase.getStoragePoolDao ( ) ; java.util.List < org.ovirt.engine.core.common.businessentities.StoragePool > sps = spDao.getByName ( storagePoolName , true ) ; return ( sps == null ) || ( sps.isEmpty ( ) ) ; }
public com.google.gwt.resources.client.ImageResource getValue ( org.ovirt.engine.core.common.businessentities.Disk object ) { setTitle ( ( object.isBoot ( ) ? org.ovirt.engine.ui.common.widget.uicommon.disks.DisksViewColumns.constants.bootableDisk ( ) : null ) ) ; return object.isBoot ( ) ? org.ovirt.engine.ui.common.widget.uicommon.disks.DisksViewColumns.resources.bootableDiskIcon ( ) : null ; }
protected java.util.ArrayList < org.ovirt.engine.core.common.action.VdcReturnValueBase > runInternalMultipleActions ( org.ovirt.engine.core.common.action.VdcActionType actionType , java.util.ArrayList < org.ovirt.engine.core.common.action.VdcActionParametersBase > parameters ) { return org.ovirt.engine.core.bll.Backend.getInstance ( ) . runInternalMultipleActions ( actionType , parameters ) ; }
protected org.ovirt.engine.core.common.queries.VdcQueryParametersBase queryProductRPMVersionParams ( ) { return org.ovirt.engine.api.restapi.test.util.TestHelper.eqQueryParams ( org.ovirt.engine.core.common.queries.GetConfigurationValueParameters.class , new java.lang.String [ ] { "SessionId" } , new java.lang.Object [ ] { getSessionId ( ) } ) ; }
private org.ovirt.engine.core.common.businessentities.gluster.GlusterVolumeEntity getMultiBrickVolume ( org.ovirt.engine.core.compat.Guid volumeId ) { org.ovirt.engine.core.common.businessentities.gluster.GlusterVolumeEntity volume = getGlusterVolume ( volumeId ) ; volume.setStatus ( GlusterVolumeStatus.UP ) ; volume.setBricks ( getBricks ( volumeId , 2 ) ) ; volume.setClusterId ( clusterId ) ; return volume ; }
protected boolean hasWatchdog ( ) { return ( org.ovirt.engine.core.bll.UpdateVmCommand.getParameters ( ) . getWatchdog ( ) ) != null ? true : org.ovirt.engine.core.bll.utils.VmDeviceUtils.hasWatchdog ( getVmId ( ) ) ; }
public void passDiscardSupportedForCopyFloatingDiskOp ( ) { initializeCommand ( new org.ovirt.engine.core.common.businessentities.storage.DiskImage ( ) ) ; command.getParameters ( ) . setOperation ( ImageOperation.Copy ) ; initTemplateDiskImage ( ) ; org.junit.Assert.assertTrue ( command.validatePassDiscardSupportedForDestinationStorageDomain ( ) ) ; }
public void testGetEntityNameByIdAndTypeForTag ( ) { org.ovirt.engine.core.common.businessentities.Tags tag = tagDao.get ( org.ovirt.engine.core.dao.EntityDaoImplTest.TAG_ID ) ; org.junit.Assert.assertNotNull ( tag ) ; java.lang.String name = tag.getTagName ( ) ; org.junit.Assert.assertEquals ( name , dao.getEntityNameByIdAndType ( org.ovirt.engine.core.dao.EntityDaoImplTest.TAG_ID , VdcObjectType.Tags ) ) ; }
public void onEngineSessionRefreshed ( org.ovirt.engine.ui.frontend.communication.EngineSessionRefreshedEvent event ) { if ( ( restApiSessionId ) != null ) { refreshRestApiSession = true ; } }
public void onScroll ( com.google.gwt.event.dom.client.ScrollEvent event ) { updateScrollPosition ( ) ; }
public java.lang.Long getKsmPages ( ) { return this . mVdsStatistics.getksm_pages ( ) ; }
public void Executed ( org.ovirt.engine.ui.uicompat.FrontendActionAsyncResult result ) { org.ovirt.engine.core.common.action.VdcReturnValueBase returnValue = result.getReturnValue ( ) ; context.addVDSGroupReturnValue = returnValue ; prepare3 ( ) ; }
java.util.concurrent.Future < java.util.Map < java.lang.String , java.lang.Object > > setupNetworks ( org.ovirt.engine.core.vdsbroker.xmlrpc.XmlRpcStruct networks , org.ovirt.engine.core.vdsbroker.xmlrpc.XmlRpcStruct bonding , org.ovirt.engine.core.vdsbroker.xmlrpc.XmlRpcStruct options ) ;
public void onSuccess ( java.lang.Object model , java.lang.Object ReturnValue ) { setItems ( ( ( java.util.ArrayList < org.ovirt.engine.core.common.businessentities.StorageDomain > ) ( ( ( org.ovirt.engine.core.common.queries.VdcQueryReturnValue ) ( ReturnValue ) ) . getReturnValue ( ) ) ) ) ; }
protected boolean isStorageDomainSpaceWithinThresholds ( ) { return validate ( new org.ovirt.engine.core.bll.validator.StorageDomainValidator ( org.ovirt.engine.core.bll.MoveOrCopyDiskCommand.getStorageDomain ( ) ) . isDomainWithinThresholds ( ) ) ; }
protected void executeCommand ( ) { org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getNetworkDAO ( ) . remove ( org.ovirt.engine.core.bll.storage.RemoveNetworkCommand.getParameters ( ) . getNetwork ( ) . getId ( ) ) ; org.ovirt.engine.core.bll.storage.RemoveNetworkCommand.setSucceeded ( true ) ; }
public void testPreImportedHostedEngineLunDiskRemove ( ) { disk = new org.ovirt.engine.core.common.businessentities.storage.LunDisk ( ) ; setupDisk ( ) ; disk.setDiskAlias ( StorageConstants.HOSTED_ENGINE_LUN_DISK_ALIAS ) ; org.mockito.Mockito.doReturn ( disk ) . when ( cmd ) . getDisk ( ) ; org.ovirt.engine.core.bll.CanDoActionTestUtils.runAndAssertCanDoActionSuccess ( cmd ) ; }
public boolean canBeRemoved ( ) { return ! ( isDefaultPool ( ) ) ; }
protected org.ovirt.engine.core.common.businessentities.InstanceType getInstanceType ( ) { if ( ( ( instanceType ) == null ) && ( ( getInstanceTypeId ( ) ) != null ) ) { instanceType = org.ovirt.engine.core.bll.VmManagementCommandBase.getVmTemplateDAO ( ) . getInstanceType ( getInstanceTypeId ( ) ) ; } return instanceType ; }
public void update ( org.ovirt.engine.core.common.businessentities.bookmarks bookmark ) { org.springframework.jdbc.core.namedparam.MapSqlParameterSource parameterSource = new org.ovirt.engine.core.dao.BookmarkDAODbFacadeImpl.BookmarkSqlParameterSource ( bookmark ) ; getCallsHandler ( ) . executeModification ( "UpdateBookmark" , parameterSource ) ; }
public void setStartTime ( java.util.Date startTime ) { this . startTime = startTime ; if ( ( this . totalMigrationTime ) == null ) { this . totalMigrationTime = this . startTime ; } }
protected org.ovirt.engine.core.bll.CommandBase < ? > getCommand ( org.ovirt.engine.core.compat.Guid cmdId ) { return org.ovirt.engine.core.bll.tasks.CommandCoordinatorUtil.retrieveCommand ( cmdId ) ; }
public org.ovirt.engine.ui.uicommonweb.models.ListModel < T > setIsChangable ( boolean value ) { if ( ! ( isVmAttachedToPool ( ) ) ) { super . setIsChangable ( value ) ; } return this ; }
protected org.codehaus.jackson.node.ObjectNode getEngineSessionTimeoutObject ( java.lang.Integer engineSessionTimeout , java.lang.Integer userSessionHardLimit ) { org.codehaus.jackson.node.ObjectNode obj = createObjectNode ( ) ; obj.put ( "sessionTimeout" , java.lang.String.valueOf ( engineSessionTimeout ) ) ; obj.put ( "sessionHardLimit" , java.lang.String.valueOf ( userSessionHardLimit ) ) ; return obj ; }
public void editProfiles ( org.ovirt.engine.ui.uicommonweb.models.ListModel profiles , org.ovirt.engine.core.compat.Version dcCompatibilityVersion , org.ovirt.engine.core.compat.Guid dcId , org.ovirt.engine.ui.uicommonweb.models.profiles.VnicProfileModel defaultProfile ) { profilesEditor.edit ( profiles , dcCompatibilityVersion , dcId , defaultProfile ) ; }
public void testGetAllOfTypeWithUnrepresentedType ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.VDS > result = dao.getAllOfType ( VDSType.oVirtNode ) ; org.ovirt.engine.core.dao.VdsDaoTest.assertIncorrectGetResult ( result ) ; }
private void onAssignTags ( ) { org.ovirt.engine.ui.uicommonweb.models.tags.TagListModel model = ( ( org.ovirt.engine.ui.uicommonweb.models.tags.TagListModel ) ( getWindow ( ) ) ) ; getAttachedTagsToSelectedVMs ( model ) ; }
public void onClick ( com.google.gwt.event.dom.client.ClickEvent event ) { disk.getIsInternal ( ) . setEntity ( false ) ; revealStorageView ( disk ) ; revealDiskPanel ( disk ) ; }
private boolean checkIsDomainLocked ( org.ovirt.engine.core.common.businessentities.StoragePoolIsoMap domainMap ) { if ( ( ( domainMap.getStatus ( ) ) != null ) && ( domainMap.getStatus ( ) . isStorageDomainInProcess ( ) ) ) { addInvalidSDStatusMessage ( StorageDomainStatus.Locked ) ; return true ; } return false ; }
public void setdisplay_ip ( java.lang.String value ) { this . mVmDynamic.setdisplay_ip ( value ) ; }
public boolean isSplitted ( ) { return ( ( getVmNumaNode ( ) . getVdsNumaNodeList ( ) ) != null ) && ( ( getVmNumaNode ( ) . getVdsNumaNodeList ( ) . size ( ) ) > 1 ) ; }
public void testWriteFileToStream_IOException ( ) throws java.io.IOException { java.io.File file = new java.io.File ( "/doesnotexist/iamprettysure" ) ; java.io.ByteArrayOutputStream out = new java.io.ByteArrayOutputStream ( ) ; org.ovirt.engine.core.utils.servlet.ServletUtils.writeFileToStream ( out , file ) ; }
protected void doGridTimerExecute ( ) { getRefreshCommand ( ) . execute ( ) ; }
public void testSchedule ( ) throws java.lang.Exception { org.junit.Assert.assertNotNull ( schedulingManager.get ( ) ) ; org.mockito.Mockito.verify ( schedulingManager.get ( ) ) . init ( ) ; }
protected void SelectedItemsChanged ( ) { super . SelectedItemsChanged ( ) ; UpdateActionAvailability ( ) ; }
protected boolean isStorageDomainSpaceWithinThresholds ( ) { return org.ovirt.engine.core.bll.command.utils.StorageDomainSpaceChecker.isWithinThresholds ( org.ovirt.engine.core.bll.MoveOrCopyDiskCommand.getStorageDomain ( ) ) ; }
public void onSuccess ( java.lang.Object target , java.lang.Object returnValue ) { spice.setWANColorDepth ( ( ( org.ovirt.engine.core.common.console.ConsoleOptions.WanColorDepth ) ( returnValue ) ) ) ; }
public void defaultClusterInLocalFs ( ) { prepareManagementNetworkMocks ( ) ; mcr.mockConfigValue ( ConfigValues.AutoRegistrationDefaultVdsGroupID , org.ovirt.engine.core.bll.UpdateVdsGroupCommandTest.DEFAULT_VDS_GROUP_ID ) ; createCommandWithDefaultVdsGroup ( ) ; oldGroupIsDetachedDefault ( ) ; storagePoolIsLocalFS ( ) ; setupCpu ( ) ; allQueriesForVms ( ) ; architectureIsUpdatable ( ) ; canDoActionFailedWithReason ( VdcBllMessages.DEFAULT_CLUSTER_CANNOT_BE_ON_LOCALFS ) ; }
public final void setUser ( java.lang.String sessionId , org.ovirt.engine.core.common.businessentities.DbUser user ) { SetData ( sessionId , org.ovirt.engine.core.bll.session.SessionDataContainer.USER_PARAMETER_NAME , user ) ; }
public void testHasSpiceSupport ( ) throws java.lang.Exception { org.junit.Assert.assertTrue ( OsRepositoryImpl.INSTANCE.getSpiceSupportMatrix ( ) . get ( 777 ) . get ( null ) ) ; }
private static int compNonDigitSequence ( java.lang.String seq1 , java.lang.String seq2 ) { return seq1.compareTo ( seq2 ) ; }
public void validate_vmNotExists_Test ( ) { org.mockito.Mockito.doReturn ( null ) . when ( vmStaticDao ) . get ( org.mockito.ArgumentMatchers.any ( ) ) ; org.ovirt.engine.core.bll.ValidateTestUtils.runAndAssertValidateFailure ( command , EngineMessage.ACTION_TYPE_FAILED_INVALID_ENTITY_FOR_AFFINITY_GROUP ) ; }
public javax.ws.rs.core.Response add ( org.ovirt.engine.api.model.SchedulingPolicy schedulingPolicy ) { validateParameters ( schedulingPolicy , "name" ) ; return performCreate ( VdcActionType.AddClusterPolicy , new org.ovirt.engine.core.common.scheduling.parameters.ClusterPolicyCRUDParameters ( null , map ( schedulingPolicy ) ) , queryIdResolver ) ; }
public void validateNoDirectLunIdAndNoStoragePoolId ( ) { org.ovirt.engine.core.bll.ValidateTestUtils.runAndAssertValidateFailure ( command , EngineMessage.ACTION_TYPE_FAILED_STORAGE_POOL_NOT_EXIST ) ; }
private org.ovirt.engine.core.bll.network.host.SetupNetworksHelper createHelper ( org.ovirt.engine.core.common.action.SetupNetworksParameters params , org.ovirt.engine.core.common.businessentities.VDS vds ) { return createHelper ( params , vds , Version.v3_3 ) ; }
public void setGuestLastLoginTime ( java.util.Date value ) { this . vmDynamic.setGuestLastLoginTime ( value ) ; }
public void onSuccess ( java.lang.Object target , java.lang.Object returnValue ) { org.ovirt.engine.ui.uicommonweb.models.templates.TemplateListModel templateListModel = ( ( org.ovirt.engine.ui.uicommonweb.models.templates.TemplateListModel ) ( target ) ) ; boolean isNameUnique = ( ( java.lang.Boolean ) ( returnValue ) ) ; templateListModel.PostNameUniqueCheck ( isNameUnique ) ; }
public java.lang.String getHelpTagMappingBaseURL ( ) { return ( ( org.ovirt.engine.ui.frontend.utils.FrontendUrlUtils.getRootURL ( ) ) + ( org.ovirt.engine.ui.uicommonweb.Configurator.HELPTAG_MAPPING_ROOT ) ) + "/" ; }
public void save ( org.ovirt.engine.core.common.businessentities.DbGroup group ) { insertOrUpdate ( group , "InsertGroup" ) ; }
public void testStorage ( ) { testValidSql ( "Storage: " , "SELECT * FROM ((SELECT distinct storage_domains_for_search.* FROM storage_domains_for_search ) ORDER BY storage_name ASC ) as T1 OFFSET (1 -1) LIMIT 0" ) ; testValidSql ( "Storage: datacenter = Default" , "SELECT * FROM ((SELECT distinct storage_domains_for_search.* FROM storage_domains_for_search WHERE Default LIKE ANY(string_to_array(storage_domains_for_search.storage_pool_name::text, ','))) ORDER BY storage_name ASC ) as T1 OFFSET (1 -1) LIMIT 0" ) ; testValidSql ( "Storage: host.name = fake1" , "SELECT * FROM ((SELECT distinct storage_domains_for_search.* FROM storage_domains_for_search LEFT OUTER JOIN vds_with_tags ON storage_domains_for_search.id=vds_with_tags.storage_id WHERE vds_with_tags.vds_name LIKE fake1 ) ORDER BY storage_name ASC ) as T1 OFFSET (1 -1) LIMIT 0" ) ; }
private boolean isVnicProfilePermitted ( org.ovirt.engine.core.compat.Guid userId , org.ovirt.engine.core.common.businessentities.network.VnicProfile profile , org.ovirt.engine.core.common.businessentities.ActionGroup actionGroup ) { return ( getPermissionDAO ( ) . getEntityPermissions ( userId , actionGroup , profile.getId ( ) , VdcObjectType.VnicProfile ) ) != null ; }
public void validPropertyUnknownDeviceType ( ) { org.ovirt.engine.core.utils.customprop.DevicePropertiesUtils utils = mockDevicePropertiesUtils ( ) ; java.util.List < org.ovirt.engine.core.common.utils.customprop.ValidationError > errors = utils.validateProperties ( Version.v3_3 , VmDeviceGeneralType.UNKNOWN , utils.convertProperties ( "speed=10;duplex=half" ) ) ; org.ovirt.engine.core.common.utils.customprop.PropertiesUtilsTestHelper.validateFailure ( errors , ValidationFailureReason.INVALID_DEVICE_TYPE ) ; }
static com.gwtplatform.mvp.client.TabData getTabData ( ) { return new org.ovirt.engine.ui.common.uicommon.model.GroupedTabData ( org.ovirt.engine.ui.webadmin.section.main.presenter.tab.provider.SubTabProviderSecretPresenter.constants.providerSecretsSubTabLabel ( ) , 2 ) ; }
public void loadAttachableDisks ( org.ovirt.engine.core.common.businessentities.storage.Disk prevSelected ) { doLoadAttachableDisks ( new org.ovirt.engine.ui.uicommonweb.models.vms.InstanceImagesAttachDiskModel.InstanceImageGetDisksCallback ( org.ovirt.engine.core.common.businessentities.storage.DiskStorageType.IMAGE , prevSelected ) , new org.ovirt.engine.ui.uicommonweb.models.vms.InstanceImagesAttachDiskModel.InstanceImageGetDisksCallback ( org.ovirt.engine.core.common.businessentities.storage.DiskStorageType.LUN , prevSelected ) ) ; }
public void tSleep_2_error ( java.lang.Exception exception , java.lang.String errorComponent , final java.util.Map < java.lang.String , java.lang.Object > globalMap ) throws ovirt_engine_dwh.parallelrun_3_1.ParallelRun.TalendException { end_Hash.put ( "tSleep_2" , java.lang.System.currentTimeMillis ( ) ) ; tSleep_2_onSubJobError ( exception , errorComponent , globalMap ) ; }
public void testDefaultPoolFlagIsNotSetValidUsage ( ) throws java.lang.Exception { macPool.setDefaultPool ( false ) ; org.junit.Assert.assertThat ( new org.ovirt.engine.core.bll.MacPoolValidator ( macPool ) . defaultPoolFlagIsNotSet ( ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.isValid ( ) ) ; }
public java.lang.Object Convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { return source != null ? source : new java.util.HashMap < org.ovirt.engine.core.common.businessentities.VmTemplate , java.util.ArrayList < org.ovirt.engine.core.common.businessentities.storage.DiskImage > > ( ) ; }
public void testValidName ( ) { prepareVmToPassValidate ( ) ; mockVmValidator ( ) ; command.initEffectiveCompatibilityVersion ( ) ; boolean c = command.validate ( ) ; org.junit.Assert.assertTrue ( "validate should have passed." , c ) ; }
public static boolean bigDecimalEqual ( java.math.BigDecimal bd1 , java.math.BigDecimal bd2 ) { return ( bd1 == bd2 ) || ( ( ( bd1 != null ) && ( bd2 != null ) ) && ( ( bd1.compareTo ( bd2 ) ) == 0 ) ) ; }
public org.ovirt.engine.ui.uicommonweb.UICommand getCancelCommand ( ) { return cancelCommand ; }
protected void onSelectedItemChanged ( ) { super . onSelectedItemChanged ( ) ; if ( ( getSelectedItem ( ) ) != null ) { updateFormat ( ) ; updateHost ( ) ; } }
private void nullifyInternalProxies ( ) { if ( ( privatemIrsProxy ) != null ) { org.ovirt.engine.core.vdsbroker.xmlrpc.XmlRpcUtils.shutDownConnection ( ( ( org.ovirt.engine.core.vdsbroker.irsbroker.IrsServerWrapper ) ( privatemIrsProxy ) ) . getHttpClient ( ) ) ; } setmCurrentIrsHost ( null ) ; privatemIrsProxy = null ; mCurrentVdsId = null ; }
protected org.ovirt.engine.core.dao.profiles.CpuProfileDao getProfileDao ( ) { return getDbFacade ( ) . getCpuProfileDao ( ) ; }
public void testAddGroupWithExplicitDirectoryName ( ) throws java.lang.Exception { setUriInfo ( setUpBasicUriExpectations ( ) ) ; setUpGetEntityExpectations ( ( ( ( "ADGROUP@" + ( DOMAIN ) ) + ": allnames=" ) + ( NAMES [ 0 ] ) ) , SearchType.AdGroup , getDirectoryGroup ( 0 ) ) ; setUpCreationExpectations ( VdcActionType.AddGroup , org.ovirt.engine.core.common.action.AddDirectoryGroupParameters.class , new java.lang.String [ ] { "Group.id" } , new java.lang.Object [ ] { GUIDS [ 0 ] } , true , true , null , VdcQueryType.GetDbGroupById , org.ovirt.engine.core.common.queries.IdQueryParameters.class , new java.lang.String [ ] { "Id" } , new java.lang.Object [ ] { GUIDS [ 0 ] } , getEntity ( 0 ) ) ; org.ovirt.engine.api.model.Domain domain = new org.ovirt.engine.api.model.Domain ( ) ; domain.setName ( org.ovirt.engine.api.restapi.resource.DOMAIN ) ; org.ovirt.engine.api.model.Group model = new org.ovirt.engine.api.model.Group ( ) ; model.setName ( NAMES [ 0 ] ) ; model.setDomain ( domain ) ; javax.ws.rs.core.Response response = collection.add ( model ) ; assertEquals ( 201 , response.getStatus ( ) ) ; assertTrue ( ( ( response.getEntity ( ) ) instanceof org.ovirt.engine.api.model.Group ) ) ; verifyModel ( ( ( org.ovirt.engine.api.model.Group ) ( response.getEntity ( ) ) ) , 0 ) ; }
public void executed ( org.ovirt.engine.ui.uicompat.FrontendActionAsyncResult result ) { org.ovirt.engine.ui.uicommonweb.models.vms.NewDiskModel diskModel = ( ( org.ovirt.engine.ui.uicommonweb.models.vms.NewDiskModel ) ( result.getState ( ) ) ) ; diskModel.stopProgress ( ) ; diskModel.cancel ( ) ; }
private org.ovirt.engine.core.common.businessentities.StorageDomain createStorageDomain ( org.ovirt.engine.core.common.businessentities.StorageFormatType formatType , org.ovirt.engine.core.common.businessentities.StorageType storageType ) { org.ovirt.engine.core.common.businessentities.StorageDomain sd = new org.ovirt.engine.core.common.businessentities.StorageDomain ( ) ; sd.setStorageFormat ( formatType ) ; sd.setStorageType ( storageType ) ; return sd ; }
private org.ovirt.engine.core.bll.network.cluster.UpdateNetworkClusterValidator createNetworkClusterValidator ( ) { return new org.ovirt.engine.core.bll.network.cluster.UpdateNetworkClusterValidator ( interfaceDao , networkDao , org.ovirt.engine.core.bll.network.cluster.UpdateNetworkOnClusterCommand.getNetworkCluster ( ) , getOldNetworkCluster ( ) ) ; }
void initComboBoxEditors ( ) { networkListEditor = new org.ovirt.engine.ui.common.widget.editor.ListModelListBoxEditor < java.lang.Object > ( ) ; networkNameEditor = new org.ovirt.engine.ui.common.widget.editor.EntityModelTextBoxEditor ( ) ; networkComboBox = new org.ovirt.engine.ui.common.widget.ComboBox ( networkListEditor , networkNameEditor ) ; }
public void moveDiskToGluster ( ) { initializeCommand ( new org.ovirt.engine.core.common.businessentities.storage.DiskImage ( ) ) ; initSrcStorageDomain ( ) ; initDestStorageDomain ( StorageType.GLUSTERFS ) ; initVmDiskImage ( false ) ; org.junit.Assert.assertTrue ( command.validate ( ) ) ; }
protected void syncSearch ( ) { super . syncSearch ( VdcQueryType.GetAllMacPools , new org.ovirt.engine.core.common.queries.VdcQueryParametersBase ( ) ) ; }
private static void addOrEmpty ( java.util.Map < java.lang.String , java.lang.String > map , java.lang.String what , java.lang.String name ) { map.put ( name , ( org.ovirt.engine.core.compat.StringHelper.isNullOrEmpty ( what ) ? "" : what ) ) ; }
public void unsupportedVersion ( ) { storagePoolWithInvalidVersion ( ) ; org.ovirt.engine.core.bll.ValidateTestUtils.runAndAssertValidateFailure ( cmd , org.ovirt.engine.core.bll.utils.VersionSupport.getUnsupportedVersionMessage ( ) ) ; }
public boolean isNewerThan ( final org.ovirt.engine.core.bll.scheduling.OS os ) { return ( getVersion ( ) . compareTo ( os.getVersion ( ) ) ) > 0 ; }
public void getFilteredWithPermissionsNoPermissions ( ) { org.ovirt.engine.core.common.businessentities.Snapshot snapshot = dao.get ( org.ovirt.engine.core.dao.SnapshotDaoTest.EXISTING_SNAPSHOT_ID , org.ovirt.engine.core.dao.UNPRIVILEGED_USER_ID , true ) ; org.junit.Assert.assertNull ( snapshot ) ; }
public java.util.List < org.ovirt.engine.core.common.businessentities.VmDevice > getVmDeviceByVmIdTypeAndDevice ( org.ovirt.engine.core.compat.Guid vmId , java.lang.String type , java.lang.String device ) { return getVmDeviceByVmIdTypeAndDevice ( vmId , type , device , null , false ) ; }
org.ovirt.engine.core.bll.aaa.SessionDataContainer getSessionDataContainer ( ) { return org.ovirt.engine.core.bll.aaa.SessionDataContainer.getInstance ( ) ; }
private org.ovirt.engine.core.common.businessentities.StoragePoolIsoMap getStoragePoolIsoMap ( ) { return org.ovirt.engine.core.bll.storage.StorageDomainCommandBase.getStoragePoolIsoMapDAO ( ) . get ( new org.ovirt.engine.core.common.businessentities.StoragePoolIsoMapId ( org.ovirt.engine.core.bll.storage.StorageDomainCommandBase.getStorageDomain ( ) . getId ( ) , org.ovirt.engine.core.bll.storage.StorageDomainCommandBase.getStoragePoolId ( ) ) ) ; }
public void addLabelStyleName ( java.lang.String styleName ) { getLabelElement ( ) . addClassName ( styleName ) ; }
private java.util.List < org.ovirt.engine.core.common.businessentities.Quota > searchQuota ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.Quota > quotaList = genericSearch ( org.ovirt.engine.core.bll.SearchQuery.getDbFacade ( ) . getQuotaDao ( ) , true ) ; getQuotaManager ( ) . updateUsage ( quotaList ) ; return quotaList ; }
protected java.util.Collection < org.ovirt.engine.core.compat.Guid > getStorageDomainsIds ( ) { return org.ovirt.engine.core.bll.ImagesHandler.getAllStorageIdsForImageIds ( getSourceImages ( ) ) ; }
public void setCpuSockets ( java.lang.Integer value ) { this . mVdsDynamic.setcpu_sockets ( value ) ; }
public void testMapAutoconf ( ) { org.ovirt.engine.api.restapi.types.Ipv4BootProtocolMapper.map ( BootProtocol.AUTOCONF ) ; }
private org.ovirt.engine.ui.uicommonweb.models.storage.IStorageModel PrepareFcpStorageForEdit ( org.ovirt.engine.core.common.businessentities.StorageDomain storage ) { org.ovirt.engine.ui.uicommonweb.models.storage.FcpStorageModel model = new org.ovirt.engine.ui.uicommonweb.models.storage.FcpStorageModel ( ) ; model.setRole ( storage.getStorageDomainType ( ) ) ; PrepareSanStorageForEdit ( model ) ; return model ; }
private static void translateErrors ( java.util.List < org.ovirt.engine.core.common.action.VdcReturnValueBase > errors ) { for ( org.ovirt.engine.core.common.action.VdcReturnValueBase retVal : errors ) { retVal.setCanDoActionMessages ( org.ovirt.engine.ui.frontend.Frontend.getAppErrorsTranslator ( ) . translateErrorText ( retVal.getCanDoActionMessages ( ) ) ) ; } }
public org.ovirt.engine.core.bll.ValidationResult networkNotUsedByVms ( ) { return networkNotUsed ( getDbFacade ( ) . getVmDao ( ) . getAllForNetwork ( network.getId ( ) ) , VdcBllMessages.VAR__ENTITIES__VMS ) ; }
protected void onAfterRequestDeserialized ( com.google.gwt.user.server.rpc.RPCRequest rpcRequest ) { if ( shouldValidateXsrfToken ( rpcRequest.getMethod ( ) ) ) { validateXsrfToken ( this . token , rpcRequest.getMethod ( ) ) ; } this . token = null ; }
public org.ovirt.engine.core.compat.Guid persistAsyncTaskPlaceHolder ( ) { return super . persistAsyncTaskPlaceHolder ( getActionType ( ) ) ; }
private java.lang.String getEnumValueLine ( org.ovirt.api.metamodel.concepts.EnumValue enumValue , boolean lastValue ) { java.lang.String value = enumValue.getName ( ) . toString ( ) . toUpperCase ( ) ; return value + ( lastValue ? ";" : "," ) ; }
protected void verifyModel ( org.ovirt.engine.api.model.User model , int index ) { assertArrayEquals ( EXTERNAL_IDS [ index ] . getBytes ( ) , model.getExternalId ( ) ) ; assertEquals ( NAMES [ index ] , model.getName ( ) ) ; }
public void setSubnet ( org.ovirt.engine.core.common.businessentities.network.ExternalSubnet subnet ) { this . subnet = subnet ; }
public void onClick ( com.google.gwt.event.dom.client.ClickEvent event ) { disk.getIsInternal ( ) . setEntity ( true ) ; revealDiskPanel ( disk ) ; }
public static org.ovirt.engine.api.model.NetworkStatus map ( org.ovirt.engine.api.model.NetworkStatus modelStatus , org.ovirt.engine.api.model.NetworkStatus template ) { if ( modelStatus == null ) { return null ; } else { switch ( modelStatus ) { case NON_OPERATIONAL : return org.ovirt.engine.api.model.org.ovirt.engine.core.common.businessentities.NetworkStatus ; case OPERATIONAL : return org.ovirt.engine.api.model.org.ovirt.engine.core.common.businessentities.NetworkStatus ; default : return null ; } } }
public static boolean vmDeviceChanged ( org.ovirt.engine.core.compat.Guid vmId , org.ovirt.engine.core.common.businessentities.VmDeviceGeneralType deviceType , boolean deviceEnabled ) { return org.ovirt.engine.core.bll.utils.VmDeviceUtils.vmDeviceChanged ( vmId , deviceType , null , deviceEnabled ) ; }
public void nullHostsAreNotMismatched ( ) { org.junit.Assert.assertThat ( getQuery ( ) . isDisplayAddressPartiallyOverridden ( null ) , org.hamcrest.core.Is.is ( false ) ) ; }
public void testGetPeersWithWrongPassword ( ) throws javax.naming.AuthenticationException { glusterUtil.getPeers ( org.ovirt.engine.core.utils.gluster.GlusterUtilTest.SERVER_NAME1 , org.ovirt.engine.core.utils.gluster.GlusterUtilTest.WRONG_PASSWORD ) ; }
private void populateVmData ( org.ovirt.engine.core.common.businessentities.VM vm ) { org.ovirt.engine.core.bll.VmHandler.updateDisksFromDb ( vm ) ; org.ovirt.engine.core.bll.utils.VmDeviceUtils.setVmDevices ( vm.getStaticData ( ) ) ; }
public void setEntity ( java.lang.Object value ) { if ( ( value == null ) || ( ! ( value.equals ( getEntity ( ) ) ) ) ) { super . setEntity ( value ) ; } }
public void testListAllDetails ( ) throws java.lang.Exception { setUpBricksQueryExpectations ( null ) ; setUpGetEntityExpectationsAllContent ( false ) ; javax.ws.rs.core.UriInfo uriInfo = setUpUriExpectations ( null ) ; collection.setUriInfo ( uriInfo ) ; control.replay ( ) ; verifyCollection ( getCollection ( ) ) ; }
private org.ovirt.engine.core.common.businessentities.Provider < ? > getProvider ( ) { if ( ( provider ) == null ) { provider = org.ovirt.engine.core.bll.provider.network.RemoveSubnetFromProviderCommand.getDbFacade ( ) . getProviderDao ( ) . get ( getSubnet ( ) . getExternalNetwork ( ) . getProviderId ( ) ) ; } return provider ; }
private boolean checkIsDomainLocked ( org.ovirt.engine.core.common.businessentities.StoragePoolIsoMap domainMap ) { if ( domainMap.getStatus ( ) . isLocked ( ) ) { addInvalidSDStatusMessage ( domainMap.getStatus ( ) ) ; return true ; } return false ; }
protected void setUpQueryExpectations ( java.lang.String query , java.lang.Object failure ) throws java.lang.Exception { setUpEntityQueryExpectations ( VdcQueryType.GetErrataForEngine , org.ovirt.engine.core.common.queries.GetErrataCountsParameters.class , new java.lang.String [ ] { } , new java.lang.Object [ ] { } , getErrataData ( ) , failure ) ; }
public void failCreateMoreNumaNodesThanVirtualCores ( ) { final org.ovirt.engine.core.bll.numa.vm.AddVmNumaNodesCommand command = mockedCommand ( ) ; vm.setNumOfSockets ( 1 ) ; vm.setCpuPerSocket ( 1 ) ; org.ovirt.engine.core.bll.CanDoActionTestUtils.runAndAssertCanDoActionFailure ( command , EngineMessage.VM_NUMA_NODE_MORE_NODES_THAN_CPUS ) ; }
protected org.ovirt.engine.core.common.utils.ToStringBuilder appendAttributes ( org.ovirt.engine.core.common.utils.ToStringBuilder tsb ) { return super . appendAttributes ( tsb ) . append ( "diskPath" , getDiskPath ( ) ) ; }
public void validateGenerateVmNameWithoutMask1 ( ) { org.ovirt.engine.core.utils.NameForVmInPoolGenerator generator = createNameForVmInPoolGenerator ( "mypool" ) ; org.junit.Assert.assertEquals ( "mypool-1" , generator.generateVmName ( ) ) ; }
protected void syncSearch ( ) { super . syncSearch ( ) ; doDataCenterSearch ( ) ; doClusterSearch ( ) ; doHostSearch ( ) ; doVolumeSearch ( ) ; doProviderSearch ( ) ; }
public void versionSupported ( ) { org.mockito.Mockito.when ( cluster.getcompatibility_version ( ) ) . thenReturn ( org.ovirt.engine.core.bll.validator.ClusterValidatorTest.SUPPORTED_VERSION ) ; org.junit.Assert.assertThat ( validator.versionSupported ( ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.isValid ( ) ) ; }
public void statusNotSupportedForHostUpgradeInternal ( ) { org.mockito.Mockito.when ( host.getStatus ( ) ) . thenReturn ( VDSStatus.Unassigned ) ; org.junit.Assert.assertThat ( validator.statusSupportedForHostUpgradeInternal ( ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( EngineMessage.VDS_CANNOT_INSTALL_STATUS_ILLEGAL ) ) ; }
public void setEntity ( org.ovirt.engine.core.common.businessentities.StoragePool value ) { super . setEntity ( value ) ; }
protected void setActionMessageParameters ( ) { addCanDoActionMessage ( ( ( org.ovirt.engine.core.bll.network.vm.ActivateDeactivateVmNicCommand.getParameters ( ) . getAction ( ) ) == ( org.ovirt.engine.core.common.action.PlugAction.PLUG ) ? org.ovirt.engine.core.common.errors.VdcBllMessages.VAR__ACTION__ACTIVATE : org.ovirt.engine.core.common.errors.VdcBllMessages.VAR__ACTION__DEACTIVATE ) ) ; addCanDoActionMessage ( VdcBllMessages.VAR__TYPE__INTERFACE ) ; }
protected org.ovirt.engine.core.bll.FenceExecutor createExecutorForProxyCheck ( ) { return new org.ovirt.engine.core.bll.FenceExecutor ( org.ovirt.engine.core.bll.VdsNotRespondingTreatmentCommand.getVds ( ) , org.ovirt.engine.core.bll.VdsNotRespondingTreatmentCommand.getParameters ( ) . getAction ( ) ) ; }
public org.ovirt.engine.core.common.businessentities.LUN_storage_server_connection_map mapRow ( java.sql.ResultSet rs , int rowNum ) throws java.sql.SQLException { org.ovirt.engine.core.common.businessentities.LUN_storage_server_connection_map entity = new org.ovirt.engine.core.common.businessentities.LUN_storage_server_connection_map ( ) ; entity.setLunId ( rs.getString ( "LUN_id" ) ) ; entity.setstorage_server_connection ( rs.getString ( "storage_server_connection" ) ) ; return entity ; }
public void edit ( org.ovirt.engine.ui.uicommonweb.models.profiles.VnicProfileModel model ) { driver.edit ( model ) ; publicInfo.setVisible ( model.getPublicUse ( ) . getIsAvailable ( ) ) ; }
public org.ovirt.engine.core.common.businessentities.BootSequence getboot_sequence ( ) { return this . boot_sequence ; }
public com.google.gwt.user.client.ui.Label getFeedbackLabel ( ) { return feedbackImageLabel ; }
public boolean isCtrlAltDeleteEnabled ( ) { if ( ! ( clientOsType ( ) . equalsIgnoreCase ( "Windows" ) ) ) { return true ; } float ntVersion = extractNtVersion ( getUserAgentString ( ) ) ; if ( ntVersion >= 6.1F ) { return false ; } return true ; }
public java.util.List < org.ovirt.engine.core.common.businessentities.StoragePool > filterDataCenter ( java.util.List < org.ovirt.engine.core.common.businessentities.StoragePool > source ) { return org.ovirt.engine.ui.uicommonweb.Linq.where ( source , new org.ovirt.engine.ui.uicommonweb.Linq.DataCenterNotStatusPredicate ( org.ovirt.engine.core.common.businessentities.StoragePoolStatus.NotOperational ) ) ; }
protected void ExecuteVdsBrokerCommand ( ) { if ( ( getVds ( ) . getVdsGroupCompatibilityVersion ( ) . compareTo ( Version.v3_3 ) ) >= 0 ) { status = getBroker ( ) . setMOMPolicyParameters ( initDeviceStructure ( ) ) ; proceedProxyReturnValue ( ) ; } }
java.util.List < org.ovirt.engine.core.common.businessentities.VmTemplate > getAllForVdsGroup ( org.ovirt.engine.core.compat.Guid vdsGroup ) ;
public java.lang.Object convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { return source != null ? ( ( java.util.ArrayList < org.ovirt.engine.core.common.businessentities.network.Network > ) ( source ) ) : new java.util.ArrayList < org.ovirt.engine.core.common.businessentities.network.Network > ( ) ; }
public org.ovirt.engine.core.common.businessentities.storage_domains getForStoragePool ( org.ovirt.engine.core.compat.Guid id , org.ovirt.engine.core.compat.NGuid storagepool ) { org.ovirt.engine.core.common.businessentities.storage_domain_static staticPart = staticDAO.getForStoragePool ( id , storagepool ) ; if ( staticPart != null ) { return createDomain ( staticPart ) ; } return null ; }
private static native java.lang.String getHostPageLocation ( ) ;
public void rerun ( ) { decreasePendingVms ( org.ovirt.engine.core.bll.MigrateVmToServerCommand.getDestinationVds ( ) . getId ( ) ) ; _isRerun = false ; org.ovirt.engine.core.bll.MigrateVmToServerCommand.setSucceeded ( false ) ; org.ovirt.engine.core.bll.MigrateVmToServerCommand.determineMigrationFailueForAuditLog ( ) ; org.ovirt.engine.core.bll.MigrateVmToServerCommand.log ( ) ; }
private void failureEventHandler ( final java.lang.String description , final java.lang.String errorMessage ) { handleNotLoggedInEvent ( errorMessage ) ; frontendFailureEvent.raise ( org.ovirt.engine.ui.frontend.Frontend.class , new org.ovirt.engine.ui.frontend.FrontendFailureEventArgs ( new org.ovirt.engine.ui.frontend.Message ( description , errorMessage ) ) ) ; }
private org.ovirt.engine.core.common.queries.VdcQueryReturnValue getErrorQueryReturnValue ( org.ovirt.engine.core.dal.VdcBllMessages errorMessage ) { org.ovirt.engine.core.common.queries.VdcQueryReturnValue returnValue = new org.ovirt.engine.core.common.queries.VdcQueryReturnValue ( ) ; returnValue.setSucceeded ( false ) ; returnValue.setExceptionString ( errorMessage.toString ( ) ) ; return returnValue ; }
public void setLUN_id ( java.lang.String value ) { this . id = value ; }
public org.ovirt.engine.core.bll.tasks.interfaces.CommandCallBack getCallBack ( ) { if ( isLiveMerge ( ) ) { return new org.ovirt.engine.core.bll.RemoveDiskSnapshotsCommandCallback ( ) ; } else { return null ; } }
public void addOrUpdateTaskInDB ( final org.ovirt.engine.core.common.businessentities.AsyncTasks asyncTask ) { coCoAsyncTaskHelper.addOrUpdateTaskInDB ( asyncTask ) ; }
public java.lang.String getValue ( java.lang.Object object ) { return ( java.lang.String.valueOf ( ( ( org.ovirt.engine.core.common.businessentities.VmTemplate ) ( object ) ) . getMemSizeMb ( ) ) ) + " MB" ; }
public void passthroughProfileValidProprerties ( ) { passthroughProfileContainsSupportedPropertiesTest ( true , false , null ) ; org.junit.Assert.assertThat ( validator.passthroughProfileContainsSupportedProperties ( ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.isValid ( ) ) ; }
public org.ovirt.engine.core.bll.ValidationResult networkIsSet ( ) { return ( network ) == null ? new org.ovirt.engine.core.bll.ValidationResult ( org.ovirt.engine.core.dal.VdcBllMessages.NETWORK_NOT_EXISTS ) : org.ovirt.engine.core.bll.ValidationResult.VALID ; }
protected void executeQueryCommand ( ) { setReturnValue ( ( ( permissionDao.getForRoleAndAdElementAndObject ( PredefinedRoles.SUPER_USER.getId ( ) , org.ovirt.engine.core.bll.isUserApplicationContainerManagerQuery.getUser ( ) . getId ( ) , MultiLevelAdministrationHandler.SYSTEM_OBJECT_ID ) ) != null ) ) ; }
private static < T extends org.ovirt.engine.core.common.businessentities.VmBase > java.lang.String getAddress ( T entity , final org.ovirt.engine.core.compat.Guid id ) { org.ovirt.engine.core.common.businessentities.VmDevice device = entity.getManagedVmDeviceMap ( ) . get ( id ) ; if ( device != null ) return device.getAddress ( ) ; else return org.apache.commons.lang.StringUtils.EMPTY ; }
static void verifyModelSpecific ( org.ovirt.engine.api.model.Image model , int index ) { org.junit.Assert.assertEquals ( GUIDS [ index ] . toString ( ) , model.getId ( ) ) ; }
public org.ovirt.engine.core.searchbackend.IConditionValueAutoCompleter getFieldValueAutoCompleter ( java.lang.String fieldName ) { org.ovirt.engine.core.searchbackend.IConditionValueAutoCompleter retval = null ; if ( "ARCHITECTURE" . equals ( fieldName ) ) { retval = new org.ovirt.engine.core.searchbackend.EnumValueAutoCompleter ( org.ovirt.engine.core.common.businessentities.ArchitectureType.class ) ; } return retval ; }
protected org.ovirt.engine.core.common.businessentities.LdapUser populateUserData ( org.ovirt.engine.core.common.businessentities.LdapUser user , java.lang.String domain ) { return populateUserData ( user , domain , true ) ; }
public void testValidateBondOptionsForNewAttachementWithNonVmNetwork ( ) { validateValidBonds ( true , false , true , false ) ; }
private boolean shouldProcessVdsDomainReport ( org.ovirt.engine.core.common.businessentities.VDS vds ) { return ( vds.getVdsGroupSupportsVirtService ( ) ) && ( StoragePoolDomainHelper.reportingVdsStatus.contains ( vds.getStatus ( ) ) ) ; }
public void setContentWidgetContainerTooltip ( java.lang.String tooltipText ) { contentWidgetContainerConfiguredTooltip = tooltipText ; contentWidgetContainerTooltip.setText ( tooltipText ) ; contentWidgetContainerTooltip.reconfigure ( ) ; }
protected boolean isAdditionalConsoleAvailable ( org.ovirt.engine.ui.uicommonweb.models.userportal.UserPortalItemModel currentItem ) { return currentItem.getHasAdditionalConsole ( ) ; }
public org.ovirt.engineextensions.aaa.ldap.ASN1OctetString decode ( java.lang.String value ) { return format.decode ( value ) ; }
public static void addSmartcardDevice ( org.ovirt.engine.core.compat.Guid vmId ) { org.ovirt.engine.core.bll.utils.VmDeviceUtils.addManagedDevice ( new org.ovirt.engine.core.common.businessentities.VmDeviceId ( org.ovirt.engine.core.compat.Guid.newGuid ( ) , vmId ) , VmDeviceGeneralType.SMARTCARD , VmDeviceType.SMARTCARD , new org.ovirt.engine.core.bll.smartcard.SmartcardSpecParams ( ) , true , false , null , false ) ; }
public org.ovirt.engine.core.vdsbroker.gluster.GlusterVolumeGeoRepStatusForXmlRpc glusterVolumeGeoRepStatus ( java.lang.String volumeName ) { try { java.util.Map < java.lang.String , java.lang.Object > response ; response = vdsServer.glusterVolumeGeoRepStatus ( volumeName ) ; return new org.ovirt.engine.core.vdsbroker.gluster.GlusterVolumeGeoRepStatusForXmlRpc ( response ) ; } catch ( java.lang.reflect.UndeclaredThrowableException ute ) { throw new org.ovirt.engine.core.vdsbroker.xmlrpc.XmlRpcRunTimeException ( ute ) ; } }
static com.gwtplatform.mvp.client.TabData getTabData ( org.ovirt.engine.ui.common.uicommon.model.SearchableDetailModelProvider < org.ovirt.engine.core.common.businessentities.StorageDomain , org.ovirt.engine.ui.uicommonweb.models.datacenters.DataCenterListModel , org.ovirt.engine.ui.uicommonweb.models.datacenters.DataCenterStorageListModel > modelProvider ) { return new org.ovirt.engine.ui.common.widget.tab.ModelBoundTabData ( org.ovirt.engine.ui.webadmin.section.main.presenter.tab.datacenter.SubTabDataCenterStoragePresenter.constants.dataCenterStorageSubTabLabel ( ) , 0 , modelProvider ) ; }
public void setDisplay ( java.lang.Integer value ) { this . vmDynamic.setDisplay ( value ) ; }
public java.lang.String getTooltip ( org.ovirt.engine.ui.uicommonweb.models.userportal.UserPortalItemModel value ) { return value.getOsType ( ) . name ( ) ; }
public java.lang.String evaluate ( java.lang.String realUrlParamName , java.lang.String headerParamName ) { set ( "realUrlParamName" , realUrlParamName ) ; set ( "headerParamName" , headerParamName ) ; return evaluate ( ) ; }
java.util.List < org.ovirt.engine.core.common.utils.Pair < org.ovirt.engine.core.compat.Guid , org.ovirt.engine.core.common.businessentities.VmNumaNode > > getVmNumaNodeInfoByVdsGroupId ( org.ovirt.engine.core.compat.Guid vdsGroupId ) ;
private static org.ovirt.engine.core.compat.Guid getDeviceId ( java.util.Map device ) { java.lang.String deviceId = ( ( java.lang.String ) ( device.get ( VdsProperties.DeviceId ) ) ) ; return deviceId == null ? null : new org.ovirt.engine.core.compat.Guid ( deviceId ) ; }
public void getNonexistentVariable ( ) { org.junit.Assert.assertNull ( dao.get ( DwhHistoryTimekeepingVariable.UNDEFINED ) ) ; }
public boolean isSmartcardEnabledOverridden ( ) { return this . smartcardEnabledOverridden ; }
private void moveToNextProfile ( javax.servlet.http.HttpSession session , java.util.Deque < java.lang.String > stack ) { stack.pop ( ) ; session.setAttribute ( org.ovirt.engine.core.aaa.NegotiationAuthnFilter.STACK_ATTR , stack ) ; }
protected void handleError ( ) { addCanDoActionMessage ( VdcBllMessages.VDS_FENCE_OPERATION_FAILED ) ; addCanDoActionMessage ( VdcBllMessages.VAR__TYPE__HOST ) ; addCanDoActionMessage ( VdcBllMessages.VAR__ACTION__START ) ; log.error ( "Failed to run StartVdsCommand on vds '{}'" , org.ovirt.engine.core.bll.StartVdsCommand.getVdsName ( ) ) ; }
public javax.ws.rs.core.Response clear ( org.ovirt.engine.api.model.Action action ) { org.ovirt.engine.core.common.action.VdcActionParametersBase params = new org.ovirt.engine.core.common.action.VdcActionParametersBase ( ) ; params.setJobId ( guid ) ; return doAction ( VdcActionType.ClearExternalJob , params , action ) ; }
private void changeStatus ( org.ovirt.engine.core.common.vdscommands.DestroyVmVDSCommandParameters parameters , org.ovirt.engine.core.common.businessentities.VM curVm ) { if ( org.ovirt.engine.core.vdsbroker.DestroyVmVDSCommand.getParameters ( ) . getVdsId ( ) . equals ( curVm.getRunOnVds ( ) ) ) { org.ovirt.engine.core.vdsbroker.ResourceManager.getInstance ( ) . InternalSetVmStatus ( curVm , VMStatus.PoweringDown ) ; } }
public void onSucceeded ( org.ovirt.engine.core.compat.Guid cmdId , java.util.List < org.ovirt.engine.core.compat.Guid > childCmdIds ) { super . onSucceeded ( cmdId , childCmdIds ) ; onFinish ( cmdId ) ; }
void formatValue ( java.lang.String fieldName , org.ovirt.engine.core.compat.RefObject < java.lang.String > relations , org.ovirt.engine.core.compat.RefObject < java.lang.String > value , boolean caseSensitive ) ;
public long getTotalMemorySizeInBytes ( ) { return ( ( ( long ) ( ( ( getVmMemSizeMb ( ) ) + 200 ) + ( 64 * ( getNumOfMonitors ( ) ) ) ) ) * 1024 ) * 1024 ; }
private org.ovirt.engine.core.common.businessentities.Provider < ? > getHostProvider ( org.ovirt.engine.core.common.businessentities.VdsStatic host ) { return ( host.getHostProviderId ( ) ) == null ? null : org.ovirt.engine.core.bll.GetErrataCountsForHostQuery.getDbFacade ( ) . getProviderDao ( ) . get ( host.getHostProviderId ( ) ) ; }
public void testGetByIdNotAllNetworksAllowed ( ) { org.ovirt.engine.core.common.businessentities.network.HostNicVfsConfig result = dao.get ( FixturesTool.HOST_NIC_VFS_CONFIG_NOT_ALL_NETWORKS_ALLOWED_1 ) ; org.junit.Assert.assertNotNull ( result ) ; org.junit.Assert.assertEquals ( FixturesTool.HOST_NIC_VFS_CONFIG_NOT_ALL_NETWORKS_ALLOWED_1 , result.getId ( ) ) ; checkNetworksAndLabels ( result , 2 , 2 ) ; }
public void eventRaised ( org.ovirt.engine.ui.uicompat.Event ev , java.lang.Object sender , org.ovirt.engine.ui.uicompat.EventArgs args ) { getView ( ) . hideEveryoneSelection ( java.lang.Boolean.parseBoolean ( model.getIsRoleListHiddenModel ( ) . getEntity ( ) . toString ( ) ) ) ; }
private void mockNetworkDao ( final org.ovirt.engine.core.dao.NetworkViewDao networkViewDao ) { org.ovirt.engine.core.searchbackend.SearchObjectAutoCompleter search = new org.ovirt.engine.core.searchbackend.SearchObjectAutoCompleter ( false ) ; org.mockito.Mockito.when ( networkViewDao.getAllWithQuery ( org.mockito.Matchers.matches ( org.ovirt.engine.core.bll.SearchQueryTest.getNetworkRegexString ( search ) ) ) ) . thenReturn ( networkResultList ) ; }
public void setvds_group_id ( org.ovirt.engine.core.compat.Guid value ) { this . vds_group_id = value ; }
public void recover ( java.util.List < org.ovirt.engine.core.common.businessentities.VDS > hosts ) { startHostsWithPMInReboot ( hosts ) ; }
protected void updateStatistics ( java.util.List < org.ovirt.engine.core.common.businessentities.VM > allRunningOnOrMigratingToVds ) { if ( allRunningOnOrMigratingToVds != null ) { allRunningOnOrMigratingToVds.forEach ( VmHandler :: updateVmStatistics ) ; } }
public void testValidateVdsNotFound ( ) { org.mockito.Mockito.when ( vdsDao.getAllForVdsGroupWithStatus ( groupId , VDSStatus.Up ) ) . thenReturn ( java.util.Collections.< org.ovirt.engine.core.common.businessentities.VDS > emptyList ( ) ) ; org.ovirt.engine.core.bll.ValidateTestUtils.runAndAssertValidateFailure ( cmd , EngineMessage.ACTION_TYPE_FAILED_NO_VDS_IN_POOL ) ; }
private void addInlineDisks ( org.ovirt.engine.api.model.Vm vm ) { org.ovirt.engine.core.compat.Guid vmId = asGuid ( vm.getId ( ) ) ; org.ovirt.engine.api.restapi.resource.BackendVmDisksResource disksResource = inject ( new org.ovirt.engine.api.restapi.resource.BackendVmDisksResource ( vmId ) ) ; org.ovirt.engine.api.model.Disks disks = disksResource.list ( ) ; vm.setDisks ( disks ) ; }
public void eventRaised ( org.ovirt.engine.ui.uicompat.Event ev , java.lang.Object sender , org.ovirt.engine.ui.uicompat.EventArgs args ) { java.lang.String propName = ( ( org.ovirt.engine.ui.uicompat.PropertyChangedEventArgs ) ( args ) ) . PropertyName ; if ( propName.equals ( "IsValid" ) ) { onIsValidPropertyChange ( object ) ; } }
public boolean eval ( org.ovirt.engine.core.common.businessentities.NetworkCluster x ) { return x.getnetwork_id ( ) . equals ( getParameters ( ) . getNetwork ( ) . getId ( ) ) ; }
public boolean eval ( org.ovirt.engine.core.common.businessentities.StorageDomain a ) { return ( a.getstorage_domain_type ( ) ) == type ; }
public void getConfigFromCache ( org.ovirt.engine.core.common.queries.ConfigurationValues configValue , java.lang.String version , org.ovirt.engine.ui.frontend.AsyncQuery aQuery ) { org.ovirt.engine.core.common.queries.GetConfigurationValueParameters parameters = new org.ovirt.engine.core.common.queries.GetConfigurationValueParameters ( configValue , version ) ; getConfigFromCache ( parameters , aQuery ) ; }
protected java.lang.String renderNullSafe ( java.lang.Object object ) { return ( ( org.ovirt.engine.core.common.businessentities.gluster.GlusterServerHook ) ( object ) ) . getServerName ( ) ; }
public void nullNetworkNameWhenUnlinkingSupported ( ) throws java.lang.Exception { networkNameTest ( org.ovirt.engine.core.bll.validator.ValidationResultMatchers.isValid ( ) , true , null ) ; }
public void testGetAllNamesPinnedToHostReturnsNothingForRandomHost ( ) throws java.lang.Exception { org.junit.Assert.assertTrue ( dao.getAllNamesPinnedToHost ( org.ovirt.engine.core.compat.Guid.NewGuid ( ) ) . isEmpty ( ) ) ; }
public org.ovirt.engine.core.common.action.VdcActionParametersBase getActionParameters ( ) { return this . actionParameters ; }
protected void syncSearch ( ) { org.ovirt.engine.core.common.queries.SearchParameters tempVar = new org.ovirt.engine.core.common.queries.SearchParameters ( getSearchString ( ) , org.ovirt.engine.core.common.interfaces.SearchType.GlusterVolume , isCaseSensitiveSearch ( ) ) ; tempVar.setMaxCount ( getSearchPageSize ( ) ) ; super . syncSearch ( VdcQueryType.Search , tempVar ) ; }
public void testGetByNameAndDataCenter ( ) { org.ovirt.engine.core.common.businessentities.network.Network result = dao.getByNameAndDataCenter ( org.ovirt.engine.core.dao.network.NetworkDaoTest.EXISTING_NETWORK_NAME , datacenter ) ; org.junit.Assert.assertNotNull ( result ) ; org.junit.Assert.assertEquals ( org.ovirt.engine.core.dao.network.NetworkDaoTest.EXISTING_NETWORK_NAME , result.getName ( ) ) ; }
private org.ovirt.engine.core.common.businessentities.StoragePool getTargetStoragePool ( ) { org.ovirt.engine.core.common.businessentities.StoragePool targetStoragePool = org.ovirt.engine.core.bll.storage.AddStorageDomainCommand.getStoragePool ( ) ; if ( targetStoragePool == null ) { targetStoragePool = org.ovirt.engine.core.bll.storage.AddStorageDomainCommand.getStoragePoolDAO ( ) . get ( org.ovirt.engine.core.bll.storage.AddStorageDomainCommand.getVds ( ) . getStoragePoolId ( ) ) ; } return targetStoragePool ; }
public void testAddGroupUsingDomainFromGroupName ( ) throws java.lang.Exception { setUriInfo ( setUpBasicUriExpectations ( ) ) ; setUpGetEntityExpectations ( ( ( "ADGROUP@" + ( DOMAIN ) ) + ": name=*" ) , SearchType.AdGroup , getAdGroupWithDomain ( 0 ) ) ; setUpCreationExpectations ( VdcActionType.AddUser , org.ovirt.engine.core.common.action.AddUserParameters.class , new java.lang.String [ ] { "AdGroup.id" } , new java.lang.Object [ ] { GUIDS [ 0 ] } , true , true , null , VdcQueryType.GetAdGroupById , org.ovirt.engine.core.common.queries.GetAdGroupByIdParameters.class , new java.lang.String [ ] { "Id" } , new java.lang.Object [ ] { GUIDS [ 0 ] } , getEntity ( 0 ) ) ; org.ovirt.engine.api.model.Group model = new org.ovirt.engine.api.model.Group ( ) ; model.setName ( ( ( ( DOMAIN ) + "/" ) + ( NAMES [ 0 ] ) ) ) ; javax.ws.rs.core.Response response = collection.add ( model ) ; assertEquals ( 201 , response.getStatus ( ) ) ; assertTrue ( ( ( response.getEntity ( ) ) instanceof org.ovirt.engine.api.model.Group ) ) ; verifyModel ( ( ( org.ovirt.engine.api.model.Group ) ( response.getEntity ( ) ) ) , 0 ) ; }
public void changingNetworkNotAllowed ( ) throws java.lang.Exception { mockVnicProfileNetworkChange ( DEFAULT_GUID , OTHER_GUID ) ; org.junit.Assert.assertThat ( validator.networkNotChanged ( ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( VdcBllMessages.CANNOT_CHANGE_VNIC_PROFILE_NETWORK ) ) ; }
public void RemoveIrsProxy ( ) { org.ovirt.engine.core.vdsbroker.irsbroker.IrsBrokerCommand._irsProxyData.get ( org.ovirt.engine.core.vdsbroker.irsbroker.IrsBrokerCommand.getParameters ( ) . getStoragePoolId ( ) ) . Dispose ( ) ; org.ovirt.engine.core.vdsbroker.irsbroker.IrsBrokerCommand._irsProxyData.remove ( org.ovirt.engine.core.vdsbroker.irsbroker.IrsBrokerCommand.getParameters ( ) . getStoragePoolId ( ) ) ; }
public void setUp ( ) throws java.lang.Exception { super . setUp ( ) ; dao = prepareDAO ( dbFacade.getPermissionDAO ( ) ) ; new_permissions = new org.ovirt.engine.core.common.businessentities.permissions ( org.ovirt.engine.core.dao.PermissionDAOTest.AD_ELEMENT_ID , org.ovirt.engine.core.dao.PermissionDAOTest.ROLE_ID , org.ovirt.engine.core.dao.PermissionDAOTest.STORAGE_POOL_ID , org.ovirt.engine.core.common.VdcObjectType.StoragePool ) ; }
public org.ovirt.engine.core.bll.ValidationResult vmNotIlegal ( ) { if ( ( vm.getStatus ( ) ) == ( org.ovirt.engine.core.common.businessentities.VMStatus.ImageIllegal ) ) { return new org.ovirt.engine.core.bll.ValidationResult ( org.ovirt.engine.core.dal.VdcBllMessages.ACTION_TYPE_FAILED_VM_IMAGE_IS_ILLEGAL ) ; } return org.ovirt.engine.core.bll.ValidationResult.VALID ; }
public static boolean IsVmAttachedToTag ( org.ovirt.engine.core.bll.Guid tagId , org.ovirt.engine.core.bll.Guid vmId ) { return ( org.ovirt.engine.core.bll.DbFacade.getInstance ( ) . getTagDao ( ) . getAllVmTagsWithIds ( org.ovirt.engine.core.bll.TagsDirector.getInstance ( ) . GetTagIdAndChildrenIds ( tagId ) ) . size ( ) ) != 0 ; }
private void saveTaskAndPutInMap ( java.lang.String taskKey , org.ovirt.engine.core.common.businessentities.AsyncTasks task ) { org.ovirt.engine.core.bll.CommandBase.getAsyncTaskDao ( ) . save ( task ) ; taskKeyToTaskIdMap.put ( taskKey , task.getTaskId ( ) ) ; }
public void switchTab ( org.ovirt.engine.ui.common.widget.dialog.tab.DialogTab tab ) { setActiveTab ( tab ) ; setTabContent ( tab.getContent ( ) ) ; }
public void canDoActionSucceedsInitFormatExportDomain ( ) { sd.setStorageFormat ( null ) ; sd.setStorageDomainType ( StorageDomainType.ImportExport ) ; org.ovirt.engine.core.bll.CanDoActionTestUtils.runAndAssertCanDoActionSuccess ( cmd ) ; org.junit.Assert.assertEquals ( "Format not initialized correctly" , StorageFormatType.V1 , sd.getStorageFormat ( ) ) ; }
public void setfail_back ( boolean value ) { this . mVmStatic.setfail_back ( value ) ; }
protected int getBlockSparseInitSizeInGB ( ) { return org.ovirt.engine.core.common.config.Config.< java.lang.Integer > GetValue ( ConfigValues.InitStorageSparseSizeInGB ) . intValue ( ) ; }
private boolean checkProtocolTofallback ( org.ovirt.engine.core.common.businessentities.VDS vds ) { return VdsProtocol.STOMP.equals ( vds.getProtocol ( ) ) ; }
public void testGetValidatorWithOutKey ( ) { org.ovirt.engine.core.config.EngineConfigMap engineConfigMap = org.mockito.Mockito.mock ( org.ovirt.engine.core.config.EngineConfigMap.class ) ; org.ovirt.engine.core.config.validation.ConfigActionType setAction = org.ovirt.engine.core.config.validation.ConfigActionType.ACTION_GET ; setAction.validate ( engineConfigMap ) ; }
public java.util.List < org.ovirt.engine.core.common.businessentities.AuditLog > getAllByVMName ( java.lang.String vmName ) { return getAllByVMName ( vmName , null , false ) ; }
private boolean verifyCanDoActionMessagesContainMessage ( org.ovirt.engine.core.dal.VdcBllMessages message ) { return command.getReturnValue ( ) . getCanDoActionMessages ( ) . contains ( message.toString ( ) ) ; }
public void testGetAllForNetwork ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.network.VnicProfile > result = dao.getAllForNetwork ( FixturesTool.NETWORK_ENGINE ) ; org.junit.Assert.assertNotNull ( result ) ; org.junit.Assert.assertEquals ( 2 , result.size ( ) ) ; }
public void testPatternBasedNameFails ( ) { initializeMock ( 1 ) ; cmd.getParameters ( ) . getVm ( ) . setName ( "aa-??bb" ) ; org.junit.Assert.assertFalse ( "Pattern-based name should not be supported for VM" , cmd.validateInputs ( ) ) ; }
public void setStatusAvailable ( boolean isStatusAvailable ) { this . isStatusAvailable = isStatusAvailable ; if ( isStatusAvailable == true ) { onPropertyChanged ( new org.ovirt.engine.ui.uicompat.PropertyChangedEventArgs ( "IS_STATUS_APPLICABLE" ) ) ; } }
public org.ovirt.engine.core.common.businessentities.StoragePool getForVdsGroup ( org.ovirt.engine.core.compat.Guid id ) { org.springframework.jdbc.core.namedparam.MapSqlParameterSource parameterSource = getCustomMapSqlParameterSource ( ) . addValue ( "clusterId" , id ) ; return getCallsHandler ( ) . executeRead ( "Getstorage_poolsByVdsGroupId" , org.ovirt.engine.core.dao.StoragePoolDaoImpl.mapper , parameterSource ) ; }
protected void init ( ) { super . init ( ) ; hooksResourceMock = control.createMock ( org.ovirt.engine.api.restapi.resource.gluster.BackendGlusterHooksResource.class ) ; resource.setParent ( hooksResourceMock ) ; }
public static void hasSpiceSupport ( int osId , org.ovirt.engine.core.compat.Version version , org.ovirt.engine.ui.frontend.AsyncQuery callback ) { org.ovirt.engine.ui.frontend.Frontend.RunQuery ( VdcQueryType.OsRepository , new org.ovirt.engine.core.common.queries.OsQueryParameters ( org.ovirt.engine.core.common.queries.OsQueryParameters.OsRepositoryVerb.HasSpiceSupport , osId , version ) , callback ) ; }
public static void removeCommand ( org.ovirt.engine.core.compat.Guid commandId ) { org.ovirt.engine.core.bll.tasks.TaskManagerUtil.coco.removeCommand ( commandId ) ; }
private int generateMaxLength ( ) { return doGenerateMaxLength ( getMaxNameLength ( ) , getPoolName ( ) . length ( ) ) ; }
private void initDataForClearTest ( java.lang.String key ) { container.setData ( org.ovirt.engine.core.bll.aaa.SessionDataContainerTest.TEST_SESSION_ID , key , org.mockito.Mockito.mock ( org.ovirt.engine.core.common.businessentities.DbUser.class ) ) ; container.setData ( org.ovirt.engine.core.bll.aaa.SessionDataContainerTest.TEST_SESSION_ID , org.ovirt.engine.core.bll.aaa.SessionDataContainerTest.SOFT_LIMIT , org.apache.commons.lang.time.DateUtils.addMinutes ( new java.util.Date ( ) , ( - 1 ) ) ) ; }
public void networkChanged ( ) throws java.lang.Exception { mockVnicProfileNetworkChange ( DEFAULT_GUID , DEFAULT_GUID ) ; org.junit.Assert.assertThat ( validator.networkNotChanged ( ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.isValid ( ) ) ; }
public java.lang.String toString ( ) { return org.ovirt.engine.core.common.utils.ToStringBuilder.forInstance ( this ) . append ( "url" , getUrl ( ) ) . append ( "storagePoolId" , getStoragePoolId ( ) ) . append ( "proxyHostId" , getProxyHostId ( ) ) . build ( ) ; }
private boolean hasVMs ( ) { return ! ( org.ovirt.engine.core.bll.ClearNonResponsiveVdsVmsCommand.getVmDynamicDao ( ) . getAllRunningForVds ( org.ovirt.engine.core.bll.ClearNonResponsiveVdsVmsCommand.getVdsId ( ) ) . isEmpty ( ) ) ; }
public void testIsDomainExistAndActiveDomainNotUp ( ) { domain.setStatus ( StorageDomainStatus.InActive ) ; org.junit.Assert.assertEquals ( "Wrong failure for inactive domain" , VdcBllMessages.ACTION_TYPE_FAILED_STORAGE_DOMAIN_STATUS_ILLEGAL , validator.isDomainExistAndActive ( ) . getMessage ( ) ) ; }
public org.ovirt.engine.core.common.businessentities.IVdsAsyncCommand RemoveAsyncRunningCommand ( org.ovirt.engine.core.compat.Guid vmId ) { return _asyncRunningCommands.remove ( vmId ) ; }
public void testStorageDomainForMemoryIsValid ( ) { org.junit.Assert.assertTrue ( filter.getPredicate ( memoryDisks ) . eval ( storageDomain ) ) ; }
public void testLoginNameAtDirectoryWhenDirectorySet ( ) { org.ovirt.engine.core.common.users.VdcUser user = new org.ovirt.engine.core.common.users.VdcUser ( ) ; user.setUserName ( "Legolas" ) ; user.setDomainControler ( "MiddleEarth.com" ) ; command.setCurrentUser ( user ) ; junit.framework.Assert.assertEquals ( command.getConsoleUserName ( ) , "Legolas@MiddleEarth.com" ) ; }
public int hashCode ( ) { return java.util.Objects.hash ( super . hashCode ( ) , diskImages , lunDisks , interfaces , vmBase , clusterName , affinityGroups , dbUsers , userToRoles ) ; }
com.google.gwt.safehtml.shared.SafeHtml statusTemplate ( com.google.gwt.safehtml.shared.SafeHtml statusImage ) ;
public java.util.List < org.ovirt.engine.core.common.businessentities.VDS > getAll ( ) { org.apache.commons.httpclient.HttpMethod method = new org.apache.commons.httpclient.methods.GetMethod ( org.ovirt.engine.core.bll.host.provider.foreman.ForemanHostProviderProxy.ALL_HOSTS_QUERY ) ; return runHostListMethod ( method ) ; }
private org.ovirt.engine.core.common.businessentities.aaa.DbUser findPrincipal ( java.lang.String sessionId ) { org.ovirt.engine.core.common.queries.VdcQueryReturnValue result = backend.runPublicQuery ( QueryType.GetDbUserBySession , new org.ovirt.engine.core.common.queries.QueryParametersBase ( sessionId ) ) ; return result.getReturnValue ( ) ; }
public static org.ovirt.vdsm.jsonrpc.client.reactors.Reactor getReactor ( org.ovirt.vdsm.jsonrpc.client.reactors.ManagerProvider provider , org.ovirt.vdsm.jsonrpc.client.reactors.ReactorType type ) throws org.ovirt.vdsm.jsonrpc.client.ClientConnectionException { if ( ReactorType.STOMP.equals ( type ) ) { return org.ovirt.vdsm.jsonrpc.client.reactors.ReactorFactory.getStompReactor ( provider ) ; } else { return null ; } }
public java.util.Map < java.lang.String , java.lang.Object > getDeviceList ( int storageType , java.lang.String [ ] devicesList ) ;
public org.ovirt.engine.core.utils.Deserializer createDeserializer ( ) { return new org.ovirt.engine.core.utils.serialization.json.JsonObjectDeserializer ( ) ; }
public org.ovirt.engine.api.resource.TemplateDiskResource getDeviceResource ( java.lang.String id ) { return inject ( new org.ovirt.engine.api.restapi.resource.BackendTemplateDiskResource ( asGuidOr404 ( id ) , this ) ) ; }
public java.lang.Integer getutc_diff ( ) { return this . utcDiff ; }
protected java.util.List < org.ovirt.engine.core.common.businessentities.storage.LUNs > getLogicalUnits ( ) { boolean reportStatus = org.ovirt.engine.api.common.util.ParametersHelper.getBooleanParameter ( httpHeaders , uriInfo , org.ovirt.engine.api.restapi.resource.BackendHostStorageResource.REPORT_STATUS , true , true ) ; return getBackendCollection ( VdcQueryType.GetDeviceList , new org.ovirt.engine.core.common.queries.GetDeviceListQueryParameters ( asGuid ( hostId ) , org.ovirt.engine.core.common.businessentities.storage.StorageType.UNKNOWN , reportStatus , null ) ) ; }
private boolean isSameSourceAndDest ( org.ovirt.engine.core.common.action.LiveMigrateDiskParameters parameters ) { if ( parameters.getSourceStorageDomainId ( ) . equals ( parameters.getTargetStorageDomainId ( ) ) ) { return failCanDoAction ( VdcBllMessages.ACTION_TYPE_FAILED_SOURCE_AND_TARGET_SAME ) ; } return true ; }
public boolean isExternal ( ) { return getEntity ( ) . isExternal ( ) ; }
public void onSuccess ( java.lang.Object model , java.lang.Object ReturnValue ) { onGetClusterList ( ( ( java.util.ArrayList < org.ovirt.engine.core.common.businessentities.Cluster > ) ( ReturnValue ) ) ) ; }
public void noStpWhenNonVmNetwork ( ) throws java.lang.Exception { stpTest ( ValidationResult.VALID , false , false ) ; }
public int getread_rate ( ) { return this . readRateFromDiskImageDynamic ; }
protected boolean checkIfCpusSameManufacture ( org.ovirt.engine.core.common.businessentities.VDSGroup group ) { return org.ovirt.engine.core.bll.CpuFlagsManagerHandler.CheckIfCpusSameManufacture ( group.getcpu_name ( ) , org.ovirt.engine.core.bll.UpdateVdsGroupCommand.getVdsGroup ( ) . getcpu_name ( ) , org.ovirt.engine.core.bll.UpdateVdsGroupCommand.getVdsGroup ( ) . getcompatibility_version ( ) ) ; }
public org.ovirt.engine.api.model.Quotas list ( ) { if ( isFiltered ( ) ) { return null ; } else { org.ovirt.engine.core.common.queries.IdQueryParameters params = new org.ovirt.engine.core.common.queries.IdQueryParameters ( dataCenterId ) ; return mapCollection ( getBackendCollection ( VdcQueryType.GetQuotaByStoragePoolId , params ) ) ; } }
public java.util.List < org.ovirt.engine.core.common.businessentities.StorageServerConnections > getConnectableStorageConnectionsByStorageType ( org.ovirt.engine.core.compat.Guid pool , org.ovirt.engine.core.common.businessentities.StorageType storageType ) { return getStorageConnectionsByStorageTypeAndStatus ( pool , storageType , java.util.EnumSet.of ( StorageDomainStatus.Active , StorageDomainStatus.Inactive , StorageDomainStatus.Unknown ) ) ; }
public javax.ws.rs.core.Response performRemove ( java.lang.String id ) { return performAction ( VdcActionType.RemoveVds , new org.ovirt.engine.core.common.action.VdsActionParameters ( asGuid ( id ) ) ) ; }
public void testAlreadyExistStorageDomain ( ) { org.mockito.Mockito.when ( command.getStorageDomainStaticDao ( ) . get ( org.mockito.Matchers.any ( org.ovirt.engine.core.compat.Guid.class ) ) ) . thenReturn ( parameters.getStorageDomain ( ) ) ; org.ovirt.engine.core.bll.CanDoActionTestUtils.runAndAssertCanDoActionFailure ( command , EngineMessage.ACTION_TYPE_FAILED_STORAGE_DOMAIN_ALREADY_EXIST ) ; }
public void executeCommand ( org.ovirt.engine.ui.uicommonweb.UICommand command ) { super . executeCommand ( command ) ; if ( org.ovirt.engine.core.compat.StringHelper.stringsEqual ( command.getName ( ) , "Cancel" ) ) { Cancel ( ) ; } }
public void getUsbPolicyIsSetDisabled ( ) { org.ovirt.engine.api.model.Usb usb = new org.ovirt.engine.api.model.Usb ( ) ; org.ovirt.engine.core.common.businessentities.VDSGroup vdsGroup = new org.ovirt.engine.core.common.businessentities.VDSGroup ( ) ; assertEquals ( org.ovirt.engine.api.restapi.types.VmMapper.getUsbPolicyOnCreate ( usb , vdsGroup.getCompatibilityVersion ( ) ) , UsbPolicy.DISABLED ) ; }
protected void onSelectedItemChanged ( ) { super . onSelectedItemChanged ( ) ; updateActionAvailability ( ) ; }
public void onFailed ( org.ovirt.engine.core.compat.Guid cmdId , java.util.List < org.ovirt.engine.core.compat.Guid > childCmdIds ) { commandCoordinatorUtil.removeAllCommandsInHierarchy ( cmdId ) ; }
public boolean connectToServer ( java.lang.String server , java.lang.String passwd , long timeout ) { return wrapper.ConnectToServer ( server , passwd , timeout ) ; }
public void setConsoleAddressPartiallyOverridden ( java.lang.Boolean consoleAddressPartiallyOverridden ) { if ( ( this . consoleAddressPartiallyOverridden ) != consoleAddressPartiallyOverridden ) { this . consoleAddressPartiallyOverridden = consoleAddressPartiallyOverridden ; OnPropertyChanged ( new org.ovirt.engine.ui.uicompat.PropertyChangedEventArgs ( "consoleAddressPartiallyOverridden" ) ) ; } }
public void fatalFormat ( java.lang.String formatString , java.lang.Object ... args ) { java.lang.Throwable throwable = extractException ( args ) ; if ( throwable != null ) error ( transform ( formatString , args ) , throwable ) ; else error ( transform ( formatString , args ) ) ; }
public java.lang.Object Convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { return source ; }
protected void executeCommand ( ) { org.ovirt.engine.core.bll.provider.network.NetworkProviderProxy proxy = org.ovirt.engine.core.bll.provider.ProviderProxyFactory.getInstance ( ) . create ( getProvider ( ) ) ; getSubnet ( ) . setExternalNetwork ( getExternalNetwork ( ) ) ; proxy.addSubnet ( getSubnet ( ) ) ; org.ovirt.engine.core.bll.provider.network.AddSubnetToProviderCommand.setSucceeded ( true ) ; }
public void canDoActionFailedVMNotFound ( ) throws java.lang.Exception { mockNullVm ( ) ; org.junit.Assert.assertFalse ( command.canDoAction ( ) ) ; org.junit.Assert.assertTrue ( command.getReturnValue ( ) . getCanDoActionMessages ( ) . contains ( EngineMessage.ACTION_TYPE_FAILED_VM_NOT_FOUND.toString ( ) ) ) ; }
public void testExistsExisting ( ) { org.junit.Assert.assertTrue ( prepareDao ( ) . exists ( org.ovirt.engine.core.dao.VmIconDaoTest.UNUSED_ICON_ID ) ) ; }
public void loadService ( java.lang.Class < ? extends org.ovirt.engine.core.common.BackendService > service ) { org.ovirt.engine.core.common.BackendService backendService = services.select ( service ) . get ( ) ; org.ovirt.engine.core.bll.ServiceLoader.log.info ( "Start {} " , backendService ) ; }
public void snapshotNotBrokenReturnsValidResult ( ) throws java.lang.Exception { validateValidResult ( validator.snapshotNotBroken ( new org.ovirt.engine.core.common.businessentities.Snapshot ( ) ) ) ; }
static org.ovirt.engine.core.common.businessentities.StorageServerConnections setUpStorageServerConnection ( ) { org.ovirt.engine.core.common.businessentities.StorageServerConnections cnx = new org.ovirt.engine.core.common.businessentities.StorageServerConnections ( ) ; cnx.setid ( GUIDS [ 0 ] . toString ( ) ) ; cnx.setconnection ( ( "10.11.12.13" + ( ":" + "/1" ) ) ) ; return cnx ; }
protected void SelectedItemsChanged ( ) { super . SelectedItemsChanged ( ) ; UpdateActionAvailability ( ) ; UpdateConsoleModels ( ) ; }
public void qosDoesNotExist ( ) { qos.setId ( org.ovirt.engine.core.bll.validator.NetworkQosValidatorTest.DEFAULT_GUID ) ; org.mockito.Mockito.doReturn ( null ) . when ( validator ) . getOldQos ( ) ; qosExistsTest ( org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( VdcBllMessages.ACTION_TYPE_FAILED_QOS_NOT_FOUND ) , validator ) ; }
protected void orderListOfRunningVmsOnVds ( org.ovirt.engine.core.compat.Guid vdsId ) { vms = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getVmDao ( ) . getAllRunningForVds ( vdsId ) ; java.util.Collections.sort ( vms , java.util.Collections.reverseOrder ( new org.ovirt.engine.core.common.businessentities.VmsComparer ( ) ) ) ; }
private void addPermission ( ) { addPermissionForTempalte ( org.ovirt.engine.core.bll.AddVmTemplateCommand.getCurrentUser ( ) . getUserId ( ) , PredefinedRoles.TEMPLATE_OWNER ) ; if ( org.ovirt.engine.core.bll.AddVmTemplateCommand.getParameters ( ) . isPublicUse ( ) ) { addPermissionForTempalte ( MultiLevelAdministrationHandler.EVERYONE_OBJECT_ID , PredefinedRoles.TEMPLATE_USER ) ; } }
void onClick ( com.google.gwt.event.dom.client.ClickEvent event ) { controller.setColumnVisible ( column , checkBox.getValue ( ) ) ; }
void onChangeProhibitionReasonChange ( org.ovirt.engine.ui.common.widget.HasEnabledWithHints editor , org.ovirt.engine.ui.uicommonweb.models.EntityModel model ) { if ( ! ( editor.isEnabled ( ) ) ) { editor.disable ( model.getChangeProhibitionReason ( ) ) ; } }
protected java.lang.String defaultImageName ( java.lang.Integer value ) { return ( "OtherOs" + ( nameUniquePart ) ) + ( org.ovirt.engine.ui.userportal.widget.basic.OsTypeImage.IMAGE ) ; }
public java.lang.String renderNullSafe ( org.ovirt.engine.core.common.businessentities.VDSGroup vdsGroup ) { return vdsGroup.getName ( ) ; }
public void sendMessage ( byte [ ] message ) { send ( new org.ovirt.vdsm.jsonrpc.client.reactors.stomp.impl.Message ( ) . send ( ) . withHeader ( org.ovirt.vdsm.jsonrpc.client.reactors.stomp.impl.Message.HEADER_DESTINATION , org.ovirt.vdsm.jsonrpc.client.reactors.stomp.REQUEST_QUEUE ) . withContent ( message ) . build ( ) ) ; }
public java.lang.Boolean convert ( java.lang.Object returnValue , org.ovirt.engine.ui.frontend.AsyncQuery asyncQuery ) { return ( ( java.lang.Boolean ) ( returnValue ) ) ; }
public void validNetworkWhenNoPortMirroring ( ) throws java.lang.Exception { portMirroringTest ( ValidationResult.VALID , "net" , false ) ; }
public void diskSnapshotsDontExist ( ) { org.junit.Assert.assertThat ( validator.diskSnapshotsNotExist ( java.util.Arrays.asList ( org.ovirt.engine.core.compat.Guid.newGuid ( ) ) ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( EngineMessage.ACTION_TYPE_FAILED_DISK_SNAPSHOTS_NOT_EXIST ) ) ; }
public java.lang.String getclient_ip ( ) { return this . client_ip ; }
protected void ExecuteVdsBrokerCommand ( ) { result = org.ovirt.engine.core.vdsbroker.gluster.GetGlusterVolumeOptionsInfoVDSCommand.getBroker ( ) . glusterVolumeSetOptionsList ( ) ; org.ovirt.engine.core.vdsbroker.gluster.GetGlusterVolumeOptionsInfoVDSCommand.ProceedProxyReturnValue ( ) ; setReturnValue ( result.optionsHelpSet ) ; }
public void setStorageDomain ( java.lang.String value ) { if ( ! ( org.ovirt.engine.core.common.utils.ObjectUtils.objectsEqual ( storageDomain , value ) ) ) { storageDomain = value ; onPropertyChanged ( new org.ovirt.engine.ui.uicompat.PropertyChangedEventArgs ( "StorageDomain" ) ) ; } }
public void setGrayedOutReasons ( java.util.ArrayList < java.lang.String > value ) { if ( ( grayedOutReasons ) != value ) { grayedOutReasons = value ; OnPropertyChanged ( new org.ovirt.engine.core.compat.PropertyChangedEventArgs ( "GrayedOutReasons" ) ) ; } }
public void remove ( org.ovirt.engine.core.compat.Guid id ) { getCallsHandler ( ) . executeModification ( "DeleteVmTemplates" , getCustomMapSqlParameterSource ( ) . addValue ( "vmt_guid" , id ) ) ; }
private static int compareSequence ( java.lang.String seq1 , java.lang.String seq2 , boolean digitSequence ) { return digitSequence ? org.ovirt.engine.core.common.utils.LexoNumericComparator.compDigitSequence ( seq1 , seq2 ) : org.ovirt.engine.core.common.utils.LexoNumericComparator.compNonDigitSequence ( seq1 , seq2 ) ; }
protected org.ovirt.engine.api.model.HostNIC deprecatedPopulate ( org.ovirt.engine.api.model.HostNIC model , org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface entity ) { return addStatistics ( model , entity , uriInfo , httpHeaders ) ; }
java.lang.String negativeTimezoneOffset ( java.lang.String name , java.lang.String hours , java.lang.String minutes ) ;
protected org.ovirt.engine.core.common.businessentities.VDSGroup getVdsGroupEntity ( ) { org.ovirt.engine.core.common.businessentities.VDSGroup cluster = new org.ovirt.engine.core.common.businessentities.VDSGroup ( ) ; cluster.setArchitecture ( ArchitectureType.x86_64 ) ; cluster.setCompatibilityVersion ( org.ovirt.engine.core.compat.Version.getLast ( ) ) ; return cluster ; }
protected boolean setAndValidateCpuProfile ( ) { return validate ( cpuProfileHelper.setAndValidateCpuProfile ( org.ovirt.engine.core.bll.CommonVmPoolWithVmsCommand.getParameters ( ) . getVmStaticData ( ) , org.ovirt.engine.core.bll.CommonVmPoolWithVmsCommand.getVdsGroup ( ) . getCompatibilityVersion ( ) , org.ovirt.engine.core.bll.CommonVmPoolWithVmsCommand.getUserId ( ) ) ) ; }
public void checkExecuteCommandWithEmptyVdsId ( ) { parameters.setStorageServerConnection ( NFSConnection ) ; parameters.setVdsId ( Guid.Empty ) ; command.executeCommand ( ) ; org.mockito.Mockito.verify ( command , org.mockito.Mockito.never ( ) ) . disconnectStorage ( ) ; }
public org.ovirt.engine.core.bll.ValidationResult uuidNotEmpty ( ) { return org.ovirt.engine.core.bll.ValidationResult.failWith ( VdcBllMessages.LIBVIRT_SECRET_UUID_CANNOT_BE_EMPTY ) . when ( org.apache.commons.lang.StringUtils.isEmpty ( libvirtSecret.getId ( ) . toString ( ) ) ) ; }
public java.lang.String value ( ) { return name ( ) ; }
public void testSave ( ) { org.ovirt.engine.core.common.businessentities.gluster.GlusterGeoRepSession newSession = getGlusterGeoRepSession ( ) ; dao.save ( newSession ) ; org.ovirt.engine.core.common.businessentities.gluster.GlusterGeoRepSession session = dao.getById ( newSession.getId ( ) ) ; org.junit.Assert.assertEquals ( newSession , session ) ; }
public boolean attemptFallbackProtocol ( ) { vds.setProtocol ( VdsProtocol.XML ) ; org.ovirt.engine.core.vdsbroker.ResourceManager.getInstance ( ) . AddVds ( vds , false ) ; return attemptConnection ( ) ; }
private org.ovirt.engine.ui.uicommonweb.UICommand getOnSaveCommand ( ) { return org.ovirt.engine.ui.uicommonweb.UICommand.createDefaultOkUiCommand ( "OnSave" , this ) ; }
public java.util.List < org.ovirt.engine.core.common.utils.Pair < org.ovirt.engine.core.compat.Guid , java.lang.Integer > > score ( org.ovirt.engine.core.common.businessentities.Cluster cluster , java.util.List < org.ovirt.engine.core.common.businessentities.VDS > hosts , org.ovirt.engine.core.common.businessentities.VM vm , java.util.Map < java.lang.String , java.lang.String > parameters ) { return reverseEvenDistributionScore ( cluster , hosts , vm , parameters ) ; }
public void testValidateFailsWhenDiscardIsNotSupported ( ) { org.mockito.Mockito.when ( diskVmElementValidator.isPassDiscardSupported ( org.mockito.Matchers.any ( org.ovirt.engine.core.compat.Guid.class ) ) ) . thenReturn ( new org.ovirt.engine.core.bll.ValidationResult ( org.ovirt.engine.core.common.errors.EngineMessage.ACTION_TYPE_FAILED_PASS_DISCARD_NOT_SUPPORTED_BY_DISK_INTERFACE ) ) ; org.ovirt.engine.core.bll.ValidateTestUtils.runAndAssertValidateFailure ( command , EngineMessage.ACTION_TYPE_FAILED_PASS_DISCARD_NOT_SUPPORTED_BY_DISK_INTERFACE ) ; }
java.lang.String vnicTypeDoesntMatchNonPassthroughProfile ( java.lang.String type ) ;
private void validateIconParameters ( org.ovirt.engine.api.model.VM vm ) { if ( ! ( org.ovirt.engine.api.restapi.util.IconHelper.validateIconParameters ( vm ) ) ) { throw new org.ovirt.engine.api.restapi.resource.BaseBackendResource.WebFaultException ( null , localize ( Messages.INVALID_ICON_PARAMETERS ) , Response.Status.BAD_REQUEST ) ; } }
protected void addCanDoActionMessage ( org.ovirt.engine.core.common.errors.EngineMessage message ) { getReturnValue ( ) . getCanDoActionMessages ( ) . add ( message.name ( ) ) ; }
public java.lang.Void runInTransaction ( ) { org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getCommandEntityDao ( ) . updateNotified ( commandId ) ; return null ; }
public void setTemplate ( java.lang.String value ) { if ( ! ( org.ovirt.engine.core.compat.StringHelper.stringsEqual ( template , value ) ) ) { template = value ; OnPropertyChanged ( new org.ovirt.engine.ui.uicompat.PropertyChangedEventArgs ( "Template" ) ) ; } }
public java.util.Map < java.lang.String , java.lang.Object > shutdownHost ( int reboot ) ;
public static org.ovirt.engine.api.model.DiskInterface map ( org.ovirt.engine.api.model.DiskInterface diskInterface , org.ovirt.engine.api.model.DiskInterface template ) { switch ( diskInterface ) { case IDE : return org.ovirt.engine.api.model.org.ovirt.engine.core.common.businessentities.DiskInterface ; case VIRTIO : return org.ovirt.engine.api.model.org.ovirt.engine.core.common.businessentities.DiskInterface ; case VIRTIO_SCSI : return org.ovirt.engine.api.model.org.ovirt.engine.core.common.businessentities.DiskInterface ; case SPAPR_VSCSI : return org.ovirt.engine.api.model.org.ovirt.engine.core.common.businessentities.DiskInterface ; default : return null ; } }
protected boolean canDoAction ( ) { return ( ( validateParameters ( ) ) && ( validateNameNotExistInDC ( ) ) ) && ( validateValues ( ) ) ; }
public org.ovirt.engine.core.bll.ValidationResult storageDomainNotChanged ( ) { if ( org.apache.commons.lang.ObjectUtils.equals ( getDiskProfile ( ) . getStorageDomainId ( ) , getDiskProfileFromDb ( ) . getStorageDomainId ( ) ) ) { return org.ovirt.engine.core.bll.ValidationResult.VALID ; } return new org.ovirt.engine.core.bll.ValidationResult ( org.ovirt.engine.core.common.errors.VdcBllMessages.ACTION_TYPE_FAILED_CANNOT_CHANGE_PROFILE ) ; }
protected void verifyCollection ( java.util.List < org.ovirt.engine.api.model.StorageConnection > collection ) throws java.lang.Exception { assertNotNull ( collection ) ; assertEquals ( GUIDS.length , collection.size ( ) ) ; }
protected void configure ( ) { bindModels ( ) ; bindIntegration ( ) ; }
public void testGetUnmanagedDeviceByVmId ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.VmDevice > devices = dao.getUnmanagedDevicesByVmId ( org.ovirt.engine.core.dao.VmDeviceDaoTest.EXISTING_VM_ID ) ; org.junit.Assert.assertTrue ( devices.isEmpty ( ) ) ; }
public void parametersWithSecureDeletionAreFixedOnFileDomainWhenPostZeroIsTrue ( ) { org.ovirt.engine.core.bll.storage.domain.PostDeleteActionHandlerTest.ParametersWithPostDeleteAction parameters = org.ovirt.engine.core.bll.storage.domain.PostDeleteActionHandler.fixParameters ( new org.ovirt.engine.core.bll.storage.domain.PostDeleteActionHandlerTest.ParametersWithPostDeleteAction ( true ) , true ) ; assertPostZeroValue ( parameters , false ) ; }
private org.ovirt.engine.core.compat.Version getClusterVersion ( ) { return org.ovirt.engine.core.bll.network.cluster.UpdateNetworkOnClusterCommand.getVdsGroupDAO ( ) . get ( org.ovirt.engine.core.bll.network.cluster.UpdateNetworkOnClusterCommand.getNetworkCluster ( ) . getClusterId ( ) ) . getcompatibility_version ( ) ; }
protected void onSelection ( ) { updateLayout ( ) ; if ( hasSelection ( ) ) { placeManager.revealPlace ( getSubTabRequest ( ) ) ; } else { placeManager.revealPlace ( org.ovirt.engine.ui.webadmin.section.main.presenter.AbstractMainTabWithDetailsPresenter.getMainTabRequest ( ) ) ; } }
public void setLabels ( java.util.List < java.lang.String > labels ) { this . labels = labels ; }
public static java.lang.Object GetConfigValuePreConverted ( org.ovirt.engine.core.common.queries.ConfigurationValues configValue ) { org.ovirt.engine.core.compat.KeyValuePairCompat < org.ovirt.engine.core.common.queries.ConfigurationValues , java.lang.String > key = new org.ovirt.engine.core.compat.KeyValuePairCompat < org.ovirt.engine.core.common.queries.ConfigurationValues , java.lang.String > ( configValue , org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncDataProvider.getDefaultConfigurationVersion ( ) ) ; return org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncDataProvider.cachedConfigValuesPreConvert.get ( key ) ; }
public void onClick ( com.google.gwt.event.dom.client.ClickEvent event ) { removeBricksButton.getCommand ( ) . Execute ( ) ; clearSelections ( ) ; }
public java.util.ArrayList < org.ovirt.engine.core.common.action.VdcReturnValueBase > runMultipleActions ( org.ovirt.engine.core.common.action.VdcActionType actionType , java.util.ArrayList < org.ovirt.engine.core.common.action.VdcActionParametersBase > multipleParams , boolean isRunOnlyIfAllCanDoPass ) { return runMultipleActions ( actionType , multipleParams , isRunOnlyIfAllCanDoPass , false ) ; }
static com.gwtplatform.mvp.client.TabData getTabData ( org.ovirt.engine.ui.webadmin.gin.ClientGinjector ginjector ) { return new org.ovirt.engine.ui.common.widget.tab.ModelBoundTabData ( ginjector.getApplicationConstants ( ) . templateStorageSubTabLabel ( ) , 4 , ginjector.getSubTabTemplateStorageModelProvider ( ) ) ; }
private boolean areDisksLocked ( org.ovirt.engine.core.common.action.VdcReturnValueBase vdcReturnValue ) { return vdcReturnValue.getValidationMessages ( ) . contains ( EngineMessage.ACTION_TYPE_FAILED_DISKS_LOCKED.name ( ) ) ; }
private void mockVMPoolDAO ( ) { org.mockito.Mockito.when ( vmPoolDAO.get ( vmPoolId ) ) . thenReturn ( vmPools ) ; }
public void testMissingJobMessages ( ) { org.ovirt.engine.core.dal.job.ExecutionMessageDirector messageDirector = org.ovirt.engine.core.dal.job.ExecutionMessageDirector.getInstance ( ) ; messageDirector.initialize ( org.ovirt.engine.core.dal.job.ExecutionMessageDirectorTest.TEST_BUNDLE_NAME ) ; org.junit.Assert.assertEquals ( VdcActionType.Unknown.name ( ) , messageDirector.getJobMessage ( VdcActionType.Unknown ) ) ; }
public void ForceRefresh ( ) { getTimer ( ) . stop ( ) ; setIsQueryFirstTime ( true ) ; syncSearch ( ) ; if ( ! ( getIsTimerDisabled ( ) ) ) { getTimer ( ) . start ( ) ; } }
public java.lang.String GetTagNameAndChildrenNames ( org.ovirt.engine.core.bll.Guid tagId ) { return org.ovirt.engine.core.bll.TagsDirector.getInstance ( ) . GetTagNameAndChildrenNames ( tagId ) ; }
protected org.ovirt.engine.core.common.businessentities.VM getVmEntity ( int index ) { return setUpVmEntityExpectations ( control.createMock ( org.ovirt.engine.core.common.businessentities.VM.class ) , index ) ; }
public int hashCode ( ) { return java.util.Objects.hash ( getVmId ( ) , forceMigrationForNonMigratableVm , targetClusterId ) ; }
private static org.ovirt.engine.core.common.businessentities.VDSGroup createVdsGroupWithDifferentName ( ) { org.ovirt.engine.core.common.businessentities.VDSGroup group = new org.ovirt.engine.core.common.businessentities.VDSGroup ( ) ; group.setName ( "BadName" ) ; group.setcompatibility_version ( org.ovirt.engine.core.bll.UpdateVdsGroupCommandTest.VERSION_1_1 ) ; return group ; }
public boolean isHostedEngine ( ) { return OriginType.HOSTED_ENGINE.equals ( getOrigin ( ) ) ; }
protected java.util.Map < org.ovirt.engine.core.compat.Guid , org.ovirt.engine.core.bll.CommandBase < ? > > buildChildCommands ( ) { return java.util.Collections.< org.ovirt.engine.core.compat.Guid , org.ovirt.engine.core.bll.CommandBase < ? > > emptyMap ( ) ; }
public int hashCode ( ) { return super . hashCode ( ) ; }
public org.ovirt.engine.core.bll.ValidationResult nameNotUsed ( ) { return org.ovirt.engine.core.bll.ValidationResult.failWith ( VdcBllMessages.ACTION_TYPE_FAILED_NAME_ALREADY_USED ) . when ( ( ( hostDao.getByName ( host.getName ( ) ) ) != null ) ) ; }
protected org.ovirt.engine.core.common.action.TagsActionParametersBase getAttachParams ( java.lang.String id ) { return new org.ovirt.engine.core.common.action.AttachEntityToTagParameters ( asGuid ( id ) , asList ( asGuid ( parentId ) ) ) ; }
public void setLockVm ( boolean lockVm ) { this . lockVm = lockVm ; }
public void setName ( java.lang.String value ) { if ( ! ( org.ovirt.engine.core.common.utils.ObjectUtils.objectsEqual ( name , value ) ) ) { name = value ; onPropertyChanged ( new org.ovirt.engine.ui.uicompat.PropertyChangedEventArgs ( "Name" ) ) ; } }
public java.lang.String getValue ( org.ovirt.engine.ui.uicommonweb.models.EntityModel object ) { org.ovirt.engine.core.common.businessentities.DiskImage diskImage = ( ( org.ovirt.engine.core.common.businessentities.DiskImage ) ( ( ( org.ovirt.engine.ui.uicommonweb.models.vms.DiskModel ) ( object.getEntity ( ) ) ) . getDisk ( ) ) ) ; return diskImage.getDiskAlias ( ) ; }
public org.ovirt.engine.core.compat.Guid eval ( org.ovirt.engine.core.common.businessentities.DiskImage disk ) { return disk.getvm_snapshot_id ( ) . getValue ( ) ; }
public void findActiveVmsUsingNetworksOnUnpluggedVnic ( ) { mockDaos ( false ) ; java.util.List < java.lang.String > vmNames = vmInterfaceManager.findActiveVmsUsingNetworks ( org.ovirt.engine.core.compat.Guid.newGuid ( ) , java.util.Collections.singletonList ( NETWORK_NAME ) ) ; org.junit.Assert.assertFalse ( vmNames.contains ( VM_NAME ) ) ; }
protected void selectedItemsChanged ( ) { super . selectedItemsChanged ( ) ; updateActionAvailability ( getEntity ( ) ) ; }
public void runningSucceded ( ) { removeMemoryFromSnapshot ( ) ; super . runningSucceded ( ) ; }
protected void RemoveSnapshot ( org.ovirt.engine.core.common.businessentities.DiskImage snapshot ) { super . RemoveSnapshot ( snapshot ) ; _imagesToDelete.add ( _imagesToDelete.size ( ) , snapshot.getImageId ( ) ) ; }
public void testGet64bitOss ( ) { org.junit.Assert.assertEquals ( 2 , OsRepositoryImpl.INSTANCE.get64bitOss ( ) . size ( ) ) ; }
public boolean IsSearchStringMatch ( java.lang.String searchString ) { return true ; }
void setDetachAllVisible ( boolean visible ) ;
public void sethypervisor_type ( org.ovirt.engine.core.common.businessentities.HypervisorType value ) { mVdsDynamic.sethypervisor_type ( value ) ; }
java.lang.String passthroughNotSupported ( java.lang.String version ) ;
public int compare ( org.ovirt.engine.core.bll.storage.CommandBase x , org.ovirt.engine.core.bll.storage.CommandBase y ) { return ( x.getStorageDomain ( ) . getStorageDomainType ( ) . getValue ( ) ) - ( y.getStorageDomain ( ) . getStorageDomainType ( ) . getValue ( ) ) ; }
public static < T > boolean objectsEqual ( T obj1 , T obj2 ) { if ( obj1 == null ) { return obj2 == null ; } else { return obj1.equals ( obj2 ) ; } }
public void setErrorMessage ( java.lang.String text ) { errorMessage.setText ( text ) ; errorMessage.setVisible ( ( text != null ) ) ; if ( errorMessage.isVisible ( ) ) { errorMessagePanel.setVisible ( true ) ; } }
public void setactual_size ( long value ) { this . actualSizeFromDiskImageDynamic = value ; setActualSize ( ( ( ( getactual_size ( ) ) * 1.0 ) / ( ( 1024 * 1024 ) * 1024 ) ) ) ; }
private boolean isHealthy ( org.ovirt.engine.core.common.businessentities.FenceAgent agent , org.ovirt.engine.core.common.businessentities.VDS host ) { return ( new org.ovirt.engine.core.bll.pm.HostFenceActionExecutor ( host ) . getFenceAgentStatus ( agent ) . getStatus ( ) ) == ( org.ovirt.engine.core.common.businessentities.pm.FenceOperationResult.Status.SUCCESS ) ; }
public java.lang.Double getcpu_user ( ) { return this . mVmStatistics.getcpu_user ( ) ; }
public void onClick ( com.google.gwt.event.dom.client.ClickEvent event ) { if ( ( ( org.ovirt.engine.ui.webadmin.section.main.view.popup.host.HostPopupView ) ( getView ( ) ) ) . rbDiscoveredHost.getValue ( ) ) { model.getIsDiscorveredHosts ( ) . setEntity ( true ) ; } }
org.ovirt.engine.ui.webadmin.widget.host.VLanPanel createVLanPanel ( org.ovirt.engine.ui.uicommonweb.models.hosts.HostInterfaceLineModel lineModel ) { org.ovirt.engine.ui.webadmin.widget.host.VLanPanel panel = new org.ovirt.engine.ui.webadmin.widget.host.VLanPanel ( ) ; panel.setWidth ( "100%" ) ; panel.setHeight ( "100%" ) ; panel.addVLans ( lineModel ) ; return panel ; }
private void processVmPoolOnStopVm ( ) { org.ovirt.engine.core.bll.VmPoolHandler.processVmPoolOnStopVm ( org.ovirt.engine.core.bll.RunVmCommandBase.getVm ( ) . getId ( ) , org.ovirt.engine.core.bll.job.ExecutionHandler.createDefaultContexForTasks ( org.ovirt.engine.core.bll.RunVmCommandBase.getExecutionContext ( ) ) ) ; }
protected org.ovirt.engine.core.dao.StorageDomainDAO getStorageDomainDao ( ) { return org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getStorageDomainDAO ( ) ; }
protected void markImageAsIllegal ( ) { setImageStatus ( ImageStatus.ILLEGAL ) ; }
public static org.ovirt.engine.core.common.businessentities.AsyncTasks getAsyncTask ( org.ovirt.engine.core.compat.Guid taskId , org.ovirt.engine.core.bll.CommandBase command , org.ovirt.engine.core.common.asynctasks.AsyncTaskCreationInfo asyncTaskCreationInfo , org.ovirt.engine.core.common.action.VdcActionType parentCommand ) { return org.ovirt.engine.core.bll.tasks.CommandCoordinator.getInstance ( ) . getAsyncTask ( taskId , command , asyncTaskCreationInfo , parentCommand ) ; }
public java.util.List < org.ovirt.engine.core.common.businessentities.network.VmNetworkInterface > getAllForTemplatesByNetwork ( org.ovirt.engine.core.compat.Guid networkId ) { return getCallsHandler ( ) . executeReadList ( "GetVmTemplateInterfacesByNetworkId" , mapper , getCustomMapSqlParameterSource ( ) . addValue ( "network_id" , networkId ) ) ; }
public void setDetailModels ( java.util.List < org.ovirt.engine.ui.uicommonweb.models.EntityModel > value ) { if ( ( detailModels ) != value ) { detailModels = value ; OnPropertyChanged ( new org.ovirt.engine.ui.uicompat.PropertyChangedEventArgs ( "DetailModels" ) ) ; } }
public void setOutAverageLinkshare ( java.lang.Integer outAverageLinkshare ) { this . outAverageLinkshare = outAverageLinkshare ; }
public void setFencingPolicy ( org.ovirt.engine.core.common.businessentities.FencingPolicy fencingPolicy ) { this . fencingPolicy = fencingPolicy ; }
public org.ovirt.engine.core.bll.host.provider.foreman.ContentHost findContentHost ( java.lang.String hostName ) { return new org.ovirt.engine.core.bll.host.provider.foreman.KatelloV21Provider ( this ) . findContentHost ( hostName ) ; }
public void setMigrationHandler ( org.ovirt.engine.core.bll.scheduling.MigrationHandler migrationHandler ) { if ( ( this . migrationHandler ) != null ) { throw new java.lang.RuntimeException ( "Load balance migration handler should be set only once" ) ; } this . migrationHandler = migrationHandler ; }
private void updateVmDevices ( java.util.List < java.lang.String > vmsToUpdate ) { org.ovirt.engine.core.vdsbroker.xmlrpc.XmlRpcStruct [ ] vms = getVmInfo ( vmsToUpdate ) ; updateVmDevices ( vms ) ; }
protected org.ovirt.engine.core.common.businessentities.VDSGroup getVdsGroupEntity ( ) { return new org.ovirt.engine.core.common.businessentities.VDSGroup ( ) ; }
public void shouldDetectSuspendedVM ( ) { invalidVM.setStatus ( VMStatus.Suspended ) ; org.hamcrest.MatcherAssert.assertThat ( validator.isVmReadyForUpgrade ( invalidVM ) , org.hamcrest.CoreMatchers.hasItem ( UPGRADE_ERROR.VM_SUSPENDED ) ) ; }
protected void handleError ( ) { addCanDoActionMessage ( org.ovirt.engine.core.common.errors.VdcBllMessages.VDS_FENCE_OPERATION_FAILED ) ; addCanDoActionMessage ( org.ovirt.engine.core.common.errors.VdcBllMessages.VAR__TYPE__HOST ) ; addCanDoActionMessage ( org.ovirt.engine.core.common.errors.VdcBllMessages.VAR__ACTION__RESTART ) ; log.error ( "Failed to run RestartVdsCommand on vds '{}'" , org.ovirt.engine.core.bll.pm.RestartVdsCommand.getVdsName ( ) ) ; }
protected void updateVMDetails ( org.ovirt.engine.core.common.businessentities.VM vm ) { org.ovirt.engine.core.bll.VmHandler.updateDisksFromDb ( vm ) ; org.ovirt.engine.core.bll.VmHandler.updateVmGuestAgentVersion ( vm ) ; org.ovirt.engine.core.bll.VmHandler.updateNetworkInterfacesFromDb ( vm ) ; }
public void ExecuteCommand ( org.ovirt.engine.ui.uicommonweb.UICommand command ) { Test ( ) ; }
private static boolean isVlan ( org.ovirt.engine.core.common.businessentities.network.Network net ) { return ( net.getvlan_id ( ) ) != null ; }
public org.ovirt.engine.core.bll.ValidationResult qosExists ( ) { return ( ( qos ) != null ) && ( ( getOldQos ( ) ) == null ) ? new org.ovirt.engine.core.bll.ValidationResult ( org.ovirt.engine.core.common.errors.VdcBllMessages.ACTION_TYPE_FAILED_QOS_NOT_FOUND ) : org.ovirt.engine.core.bll.ValidationResult.VALID ; }
public void clear ( ) { animatedPanel.clear ( ) ; }
public void setis_display ( boolean value ) { this . isDisplay = value ; }
public void canDoActionSucceedsOnDiskDomainCheckWhenStorageGuidInParamsMatches ( ) throws java.lang.Exception { org.ovirt.engine.core.compat.Guid storageId = org.ovirt.engine.core.compat.Guid.NewGuid ( ) ; initializeCommand ( storageId ) ; mockVmWithDisk ( storageId ) ; mockStorageDomain ( storageId ) ; mockStoragePoolIsoMap ( ) ; runAndAssertCanDoActionSuccess ( ) ; }
public void onKeyPress ( com.google.gwt.dom.client.NativeEvent event ) { if ( ( com.google.gwt.event.dom.client.KeyCodes.KEY_ESCAPE ) == ( event.getKeyCode ( ) ) ) { getView ( ) . hide ( ) ; unbind ( ) ; } }
public void onSuccess ( java.lang.Object target , java.lang.Object returnValue ) { org.ovirt.engine.ui.webadmin.section.main.view.tab.MainTabHostView view = ( ( org.ovirt.engine.ui.webadmin.section.main.view.tab.MainTabHostView ) ( target ) ) ; view.maxSpmPriority = ( ( java.lang.Integer ) ( returnValue ) ) ; InitSpmPriorities1 ( ) ; }
protected org.ovirt.engine.core.common.businessentities.VM createVmStatusDown ( org.ovirt.engine.core.common.businessentities.VM ... otherPluggedVMs ) { org.ovirt.engine.core.common.businessentities.VM vm = new org.ovirt.engine.core.common.businessentities.VM ( ) ; vm.setStatus ( VMStatus.Down ) ; vm.setGuestOs ( "rhel6" ) ; vm.setId ( vmId ) ; vm.setVdsGroupCompatibilityVersion ( Version.v3_1 ) ; return vm ; }
protected org.ovirt.engine.core.dao.ImageTransferDao getImageTransferDao ( ) { return org.ovirt.engine.core.bll.storage.disk.image.UploadImageCommand.getDbFacade ( ) . getImageTransferDao ( ) ; }
public boolean isObjectInSetup ( java.lang.Object vmTemplate ) { if ( ( alreadyInSystem ) == null ) { return false ; } return alreadyInSystem.containsKey ( ( ( org.ovirt.engine.core.common.businessentities.VmTemplate ) ( vmTemplate ) ) . getId ( ) ) ; }
public void collectiontoStringOneElement ( ) { java.lang.String s = "abc" ; org.junit.Assert.assertEquals ( ( ( "[" + s ) + "]" ) , org.ovirt.engine.core.common.businessentities.Entities.collectionToString ( java.util.Arrays.asList ( s ) , "" ) ) ; }
public org.ovirt.engine.core.common.businessentities.VmRngDevice.Source getSource ( ) { try { return org.ovirt.engine.core.common.businessentities.VmRngDevice.Source.valueOf ( ( ( java.lang.String ) ( getSpecParams ( ) . get ( org.ovirt.engine.core.common.businessentities.VmRngDevice.SOURCE_STRING ) ) ) . toUpperCase ( ) ) ; } catch ( java.lang.Exception e ) { return org.ovirt.engine.core.common.businessentities.VmRngDevice.Source.RANDOM ; } }
public org.ovirt.engine.core.bll.ValidationResult labelNotInVfsConfig ( java.lang.String label ) { return org.ovirt.engine.core.bll.ValidationResult.failWith ( VdcBllMessages.ACTION_TYPE_FAILED_LABEL_ALREADY_IN_VFS_CONFIG , getNicNameReplacement ( ) , java.lang.String.format ( org.ovirt.engine.core.bll.validator.VfsConfigValidator.LABEL_REPLACEMENT , label ) ) . when ( oldVfsConfig.getLabels ( ) . contains ( label ) ) ; }
public void validateNoDirectLunIdAndRandomStoragePoolId ( ) { setStoragePoolId ( org.ovirt.engine.core.compat.Guid.newGuid ( ) ) ; org.ovirt.engine.core.bll.ValidateTestUtils.runAndAssertValidateFailure ( command , EngineMessage.ACTION_TYPE_FAILED_STORAGE_POOL_NOT_EXIST ) ; }
public void setavailable_disk_size ( java.lang.Integer value ) { this . availableDiskSize = value ; }
private void cancelConfirmation ( ) { setConfirmWindow ( null ) ; }
private static org.ovirt.engine.core.sso.utils.Credentials translateUser ( java.lang.String user , java.lang.String password , org.ovirt.engine.core.sso.utils.SSOConfig config ) { org.ovirt.engine.core.sso.utils.Credentials credentials = null ; int separator = user.lastIndexOf ( "@" ) ; if ( separator != ( - 1 ) ) { java.lang.String profile = user.substring ( ( separator + 1 ) ) ; if ( ( org.apache.commons.lang.StringUtils.isNotEmpty ( profile ) ) && ( config.getSsoProfiles ( ) . contains ( profile ) ) ) { credentials = new org.ovirt.engine.core.sso.utils.Credentials ( ) ; credentials.setPassword ( password ) ; credentials.setProfile ( profile ) ; credentials.setUsername ( user.substring ( 0 , separator ) ) ; } } return credentials ; }
public java.lang.Integer getusage_mem_percent ( ) { return this . mVmStatistics.getusage_mem_percent ( ) ; }
protected java.lang.String getTitle ( org.ovirt.engine.ui.uicommonweb.models.userportal.UserPortalItemModel value ) { return constants.rebootVm ( ) ; }
org.ovirt.engine.core.bll.network.cluster.UpdateClusterNetworkClusterValidator createManagementNetworkClusterValidator ( ) { return new org.ovirt.engine.core.bll.network.cluster.UpdateClusterNetworkClusterValidator ( managementNetworkCluster , org.ovirt.engine.core.bll.UpdateVdsGroupCommand.getVdsGroup ( ) . getCompatibilityVersion ( ) ) ; }
private void verifyDomainForMemory ( java.util.List < org.ovirt.engine.core.common.businessentities.StorageDomain > storageDomains , org.ovirt.engine.core.common.businessentities.StorageDomain expectedStorageDomain ) { org.ovirt.engine.core.common.businessentities.StorageDomain storageDomain = memoryStorageHandler.findStorageDomainForMemory ( storageDomains , memoryDisks , vmDisks ) ; org.junit.Assert.assertEquals ( expectedStorageDomain , storageDomain ) ; }
public java.lang.String getguest_os ( ) { return this . mVmDynamic.getguest_os ( ) ; }
private void addFeatureStorageServerConnections ( org.ovirt.engine.api.model.Features features ) { org.ovirt.engine.api.model.Feature feature = new org.ovirt.engine.api.model.Feature ( ) ; feature.setName ( "Storage server connections" ) ; feature.setDescription ( "Ability to manage storage server connections" ) ; }
public org.ovirt.engine.core.compat.Guid eval ( org.ovirt.engine.core.common.businessentities.Disk a ) { return a.getId ( ) ; }
public org.ovirt.engine.core.common.errors.VdcBllMessages getNetworkInUse ( int numberOfEntities ) { return singularOrPlural ( numberOfEntities , VdcBllMessages.ACTION_TYPE_FAILED_NETWORK_IN_ONE_USE , VdcBllMessages.ACTION_TYPE_FAILED_NETWORK_IN_MANY_USES ) ; }
public void setapp_list ( java.lang.String value ) { this . mVmDynamic.setapp_list ( value ) ; OnPropertyChanged ( new org.ovirt.engine.core.compat.PropertyChangedEventArgs ( "app_list" ) ) ; }
public boolean isEnabled ( ) { return getLabel ( ) . isEnabled ( ) ; }
public org.ovirt.engine.core.bll.ValidationResult networkExists ( ) { return ( getNetwork ( ) ) == null ? new org.ovirt.engine.core.bll.ValidationResult ( org.ovirt.engine.core.common.errors.VdcBllMessages.NETWORK_NOT_EXISTS ) : org.ovirt.engine.core.bll.ValidationResult.VALID ; }
public void testGetAllForRoleAndAdElementAndObjectWithInvalidAdElement ( ) { org.ovirt.engine.core.common.businessentities.permissions result = dao.getForRoleAndAdElementAndObject ( org.ovirt.engine.core.dao.PermissionDAOTest.ROLE_ID , org.ovirt.engine.core.compat.Guid.NewGuid ( ) , org.ovirt.engine.core.dao.PermissionDAOTest.VM_ENTITY_ID ) ; org.junit.Assert.assertNull ( result ) ; }
protected org.ovirt.engine.core.common.action.VdcReturnValueBase runInternalAction ( org.ovirt.engine.core.common.action.VdcActionType actionType , org.ovirt.engine.core.common.action.VdcActionParametersBase parameters ) { return org.ovirt.engine.core.bll.Backend.getInstance ( ) . runInternalAction ( actionType , parameters ) ; }
private void doTestIpConfiguredForStaticBootProtocol ( java.lang.String address , java.lang.String netmask , org.hamcrest.Matcher < org.ovirt.engine.core.bll.ValidationResult > matcher ) { org.ovirt.engine.core.common.businessentities.network.NetworkAttachment attachment = createNetworkAttachmentWithIpConfiguration ( NetworkBootProtocol.STATIC_IP , address , netmask ) ; org.junit.Assert.assertThat ( createNetworkAttachmentValidator ( attachment ) . ipConfiguredForStaticBootProtocol ( ) , matcher ) ; }
public void testValidateFieldValueWithEnum ( ) { org.ovirt.engine.core.searchbackend.IConditionFieldAutoCompleter comp = new org.ovirt.engine.core.searchbackend.DiskConditionFieldAutoCompleter ( ) ; org.junit.Assert.assertTrue ( comp.validateFieldValue ( "FORMAT" , "RAW" ) ) ; }
private org.ovirt.engine.core.common.businessentities.Provider < ? > getHostProvider ( ) { return org.ovirt.engine.core.bll.AddVdsCommand.getProviderDao ( ) . get ( org.ovirt.engine.core.bll.AddVdsCommand.getParameters ( ) . getProviderId ( ) ) ; }
public void setMemoryVolumes ( java.lang.String memoryVolumes ) { this . memoryVolumes = memoryVolumes ; }
public void testDomainWithNotEnoughSpace ( ) { validator = new org.ovirt.engine.core.bll.validator.storage.StorageDomainValidator ( org.ovirt.engine.core.bll.validator.storage.StorageDomainValidatorTest.mockStorageDomain ( 3 , 756 , StorageType.NFS ) ) ; org.junit.Assert.assertEquals ( "Wrong failure for not enough space" , EngineMessage.ACTION_TYPE_FAILED_DISK_SPACE_LOW_ON_STORAGE_DOMAIN , validator.isDomainWithinThresholds ( ) . getMessage ( ) ) ; }
protected void executeCommand ( ) { setQuotaParameter ( ) ; getQuotaDAO ( ) . save ( getQuota ( ) ) ; getReturnValue ( ) . setSucceeded ( true ) ; }
public void checkNotValidEmptyStringAllowed ( ) { underTest = new org.ovirt.engine.ui.uicommonweb.validation.KeyValueFormatValidation ( mockConstantsManager , true ) ; org.ovirt.engine.ui.uicommonweb.validation.ValidationResult validationResult = underTest.validate ( NOT_VALID ) ; org.junit.Assert.assertEquals ( failureValidationResultEmptyAllowed , validationResult ) ; }
public void hostProviderDoesNotExist ( ) { org.mockito.Mockito.when ( host.getHostProviderId ( ) ) . thenReturn ( org.ovirt.engine.core.compat.Guid.newGuid ( ) ) ; org.junit.Assert.assertThat ( validator.hostProviderExists ( ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( EngineMessage.ACTION_TYPE_FAILED_PROVIDER_DOESNT_EXIST ) ) ; }
protected void updateBootOrderInVmDevice ( ) { org.ovirt.engine.core.bll.utils.VmDeviceUtils.updateBootOrderInVmDeviceAndStoreToDB ( org.ovirt.engine.core.bll.AttachDiskToVmCommand.getVm ( ) . getStaticData ( ) ) ; }
protected void refreshBootParameters ( org.ovirt.engine.core.common.action.RunVmParams runVmParameters ) { if ( runVmParameters == null ) { return ; } org.ovirt.engine.core.bll.RunVmCommand.getVm ( ) . setboot_sequence ( org.ovirt.engine.core.bll.RunVmCommand.getVm ( ) . getdefault_boot_sequence ( ) ) ; }
public void setOsType ( org.ovirt.engine.core.common.businessentities.VmOsType value ) { setos ( value ) ; }
protected org.ovirt.engine.core.common.businessentities.storage_domains getStorageDomain ( int idx ) { org.ovirt.engine.core.common.businessentities.storage_domains dom = new org.ovirt.engine.core.common.businessentities.storage_domains ( ) ; dom.setId ( GUIDS [ idx ] ) ; dom.setstorage_name ( NAMES [ idx ] ) ; return dom ; }
protected boolean runConnectionStorageToDomain ( org.ovirt.engine.core.common.businessentities.StorageDomain storageDomain , org.ovirt.engine.core.compat.Guid vdsId , int type , org.ovirt.engine.core.common.businessentities.LUNs lun , org.ovirt.engine.core.compat.Guid storagePoolId ) { return true ; }
org.ovirt.engine.ui.common.uicommon.model.DetailModelProvider < org.ovirt.engine.ui.uicommonweb.models.clusters.ClusterListModel , org.ovirt.engine.ui.uicommonweb.models.clusters.ClusterPolicyModel > getSubTabClusterPolicyModelProvider ( ) ;
static com.gwtplatform.mvp.client.TabData getTabData ( org.ovirt.engine.ui.userportal.gin.ClientGinjector ginjector ) { return new com.gwtplatform.mvp.client.TabDataBasic ( ginjector.getApplicationConstants ( ) . extendedTemplateGeneralSubTabLabel ( ) , 0 ) ; }
public void removeAllCommandsBeforeDate ( org.ovirt.engine.core.compat.DateTime cutoff ) { org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getCommandEntityDao ( ) . removeAllBeforeDate ( cutoff ) ; cacheInitialized = false ; initializeCache ( ) ; }
public int hashCode ( ) { return java.util.Objects.hash ( super . hashCode ( ) , sysPrepDomainName , sysPrepUserName , sysPrepPassword , vmInit , destinationVdsId , customEmulatedMachine , customCpuName ) ; }
protected org.springframework.jdbc.core.namedparam.MapSqlParameterSource createFullParametersMapper ( org.ovirt.engine.core.common.businessentities.network.HostNicVfsConfig hostNicVfsConfig ) { return getCustomMapSqlParameterSource ( ) . addValue ( "id" , hostNicVfsConfig.getId ( ) ) . addValue ( "nic_id" , hostNicVfsConfig.getNicId ( ) ) . addValue ( "all_networks_allowed" , hostNicVfsConfig.isAllNetworksAllowed ( ) ) ; }
public static java.util.List < org.ovirt.engine.core.common.businessentities.VmDevice > getBalloonDevices ( org.ovirt.engine.core.compat.Guid vmId ) { return org.ovirt.engine.core.bll.utils.VmDeviceUtils.dbFacade.getVmDeviceDao ( ) . getVmDeviceByVmIdAndType ( vmId , VmDeviceGeneralType.BALLOON ) ; }
protected org.ovirt.engine.core.compat.Guid createTask ( org.ovirt.engine.core.compat.Guid taskId , org.ovirt.engine.core.common.asynctasks.AsyncTaskCreationInfo asyncTaskCreationInfo , org.ovirt.engine.core.common.action.VdcActionType parentCommand , org.ovirt.engine.core.common.VdcObjectType entityType , org.ovirt.engine.core.compat.Guid ... entityIds ) { return createTask ( taskId , asyncTaskCreationInfo , parentCommand , null , entityType , entityIds ) ; }
public void testGetAll ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.Bookmark > result = dao.getAll ( ) ; org.junit.Assert.assertEquals ( org.ovirt.engine.core.dao.BookmarkDAOTest.BOOKMARK_COUNT , result.size ( ) ) ; }
public org.ovirt.engine.api.model.Nic addParents ( org.ovirt.engine.api.model.Nic nic ) { org.ovirt.engine.api.model.InstanceType parent = new org.ovirt.engine.api.model.InstanceType ( ) ; parent.setId ( parentId.toString ( ) ) ; nic.setInstanceType ( parent ) ; return nic ; }
public void persistCommandWithoutContext ( org.ovirt.engine.core.common.action.VdcActionType parentCommand , boolean enableCallBack ) { persistCommand ( parentCommand , null , enableCallBack ) ; }
public void testGetAllForQuotaId ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.Permissions > result = dao.getConsumedPermissionsForQuotaId ( FixturesTool.QUOTA_GENERAL ) ; org.junit.Assert.assertEquals ( result.get ( 0 ) . getad_element_id ( ) , FixturesTool.USER_EXISTING_ID ) ; }
protected void addNetworkImportData ( java.lang.String macAddr , java.util.List < org.ovirt.engine.core.common.businessentities.network.Network > networks ) { org.ovirt.engine.ui.uicommonweb.models.vms.ImportNetworkData data = new org.ovirt.engine.ui.uicommonweb.models.vms.ImportNetworkData ( ) ; data.setNetworks ( networks ) ; networkImportDataMap.put ( macAddr , data ) ; }
protected void ExecuteVDSCommand ( ) { if ( ( _vdsManager ) != null ) { synchronized ( _vdsManager.getLockObj ( ) ) { ExecuteVdsIdCommand ( ) ; } } else { ExecuteVdsIdCommand ( ) ; } }
protected int getMaxClonedNameLength ( java.lang.Object object ) { org.ovirt.engine.core.common.businessentities.VM vm = ( ( org.ovirt.engine.ui.uicommonweb.models.vms.ImportVmData ) ( object ) ) . getVm ( ) ; return org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncDataProvider.isWindowsOsType ( vm.getOs ( ) ) ? org.ovirt.engine.ui.uicommonweb.models.vms.UnitVmModel.WINDOWS_VM_NAME_MAX_LIMIT : org.ovirt.engine.ui.uicommonweb.models.vms.UnitVmModel.NON_WINDOWS_VM_NAME_MAX_LIMIT ; }
public java.util.List < java.lang.String > getAllHostNamesPinnedToVm ( org.ovirt.engine.core.compat.Guid vm ) { return getCallsHandler ( ) . executeReadList ( "GetNamesOfHostsDedicatedToVm" , getStringMapper ( ) , getCustomMapSqlParameterSource ( ) . addValue ( "vm_guid" , vm ) ) ; }
public void testGetLocaleFromRequest_Path ( ) { org.mockito.Mockito.when ( mockRequest.getPathInfo ( ) ) . thenReturn ( "/ja/index.html" ) ; java.util.Locale result = testServlet.getLocaleFromRequest ( mockRequest ) ; org.junit.Assert.assertEquals ( "The locale should be fr" , java.util.Locale.JAPANESE , result ) ; }
private void markHostDevicesAsUsed ( ) { if ( needsHostDevices ) { hostDeviceManager.allocateVmHostDevices ( org.ovirt.engine.core.bll.RunVmCommand.getVmId ( ) ) ; } }
public void setVdsGroupId ( org.ovirt.engine.core.compat.Guid value ) { setId ( value ) ; }
public void testGetByNameAndVersionWithInvalidVersion ( ) { org.ovirt.engine.core.common.businessentities.VdcOption result = dao.getByNameAndVersion ( existingOption.getoption_name ( ) , "farkle" ) ; assertNull ( result ) ; }
private void mockStorageDomainDAOGetForStoragePool ( ) { mockStorageDomainDAOGetForStoragePool ( org.ovirt.engine.core.bll.AddVmCommandTest.AVAILABLE_SPACE_GB ) ; }
public void setIsoPath ( java.lang.String value ) { vmStatic.setiso_path ( value ) ; }
protected org.ovirt.engine.core.common.businessentities.network.pseudo.NetworkLabel getEntity ( int index ) { org.ovirt.engine.core.common.businessentities.network.pseudo.NetworkLabel entity = control.createMock ( org.ovirt.engine.core.common.businessentities.network.pseudo.NetworkLabel.class ) ; org.easymock.EasyMock.expect ( entity.getId ( ) ) . andReturn ( org.ovirt.engine.api.restapi.resource.BackendHostNicLabelResourceTest.LABELS [ index ] ) . anyTimes ( ) ; return entity ; }
public java.lang.Object Convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery asyncQuery ) { return source != null ? source : new java.util.ArrayList < org.ovirt.engine.core.common.businessentities.gluster.GlusterGeoRepSession > ( ) ; }
public void validateNoDirectLunIdAndRandomStoragePoolId ( ) { setStoragePoolId ( org.ovirt.engine.core.compat.Guid.newGuid ( ) ) ; org.ovirt.engine.core.bll.ValidateTestUtils.runAndAssertValidateFailure ( command , EngineMessage.ACTION_TYPE_FAILED_STORAGE_POOL_NOT_EXIST ) ; }
public void testValidModifiedBondsFailsWhenReferencingExistingNonBondInterface ( ) throws java.lang.Exception { org.ovirt.engine.core.common.businessentities.network.Bond bond = createBond ( ) ; org.ovirt.engine.core.bll.ValidationResult notABondValidationResult = new org.ovirt.engine.core.bll.ValidationResult ( org.ovirt.engine.core.common.errors.EngineMessage.NETWORK_INTERFACE_IS_NOT_BOND , org.ovirt.engine.core.bll.validator.HostInterfaceValidator.VAR_NETWORK_INTERFACE_IS_NOT_BOND_ENTITY , bond.getName ( ) ) ; doTestValidModifiedBonds ( bond , ValidationResult.VALID , notABondValidationResult , notABondValidationResult , ValidationResult.VALID ) ; }
public void clearSession ( ) { org.ovirt.engine.core.utils.ThreadLocalParamsContainer.clean ( ) ; org.ovirt.engine.core.bll.session.SessionDataContainer.getInstance ( ) . removeSession ( ) ; }
private org.ovirt.engine.core.common.businessentities.storage.BaseDisk getDisk ( ) { return org.ovirt.engine.core.bll.storage.disk.image.AllocateImageGroupVolumeCommand.getBaseDiskDao ( ) . get ( org.ovirt.engine.core.bll.storage.disk.image.AllocateImageGroupVolumeCommand.getParameters ( ) . getImageGroupID ( ) ) ; }
java.lang.String numberValidationNumberLessInvalidReason ( java.lang.String prefixMsg , java.lang.String max ) ;
public void setBootProtocol ( org.ovirt.engine.core.common.businessentities.network.NetworkBootProtocol bootProtocol ) { this . bootProtocol = bootProtocol ; }
public void testGetByName ( ) { org.ovirt.engine.core.common.businessentities.network.Network result = dao.getByName ( org.ovirt.engine.core.dao.network.NetworkDaoTest.EXISTING_NETWORK_NAME ) ; org.junit.Assert.assertNotNull ( result ) ; org.junit.Assert.assertEquals ( org.ovirt.engine.core.dao.network.NetworkDaoTest.EXISTING_NETWORK_NAME , result.getname ( ) ) ; }
public boolean eval ( org.ovirt.engine.core.common.businessentities.Network network ) { return network.getId ( ) . equals ( nc.getnetwork_id ( ) ) ; }
protected void preSearchCalled ( org.ovirt.engine.core.common.businessentities.VmTemplate template ) { setSearchString ( ( "Events:event_template=" + ( template.getname ( ) ) ) ) ; }
private void logFailureMessage ( java.lang.RuntimeException ex ) { org.ovirt.engine.core.vdsbroker.VdsManager.log.warnFormat ( "Failed to refresh VDS , vds = {0} : {1}, error = '{2}', continuing." , _vds.getId ( ) , _vds.getVdsName ( ) , ex ) ; }
protected org.ovirt.engine.core.common.vdscommands.DeleteImageGroupVDSCommandParameters buildDeleteMemoryImageParams ( java.util.List < org.ovirt.engine.core.compat.Guid > guids ) { return new org.ovirt.engine.core.common.vdscommands.DeleteImageGroupVDSCommandParameters ( guids.get ( 1 ) , guids.get ( 0 ) , guids.get ( 2 ) , isPostZero ( ) , false ) ; }
protected void removeMemoryVolume ( java.lang.String memoryVolumes ) { if ( isMemoryStateRemovable ( memoryVolumes ) ) { removeMemoryVolumes ( memoryVolumes ) ; } }
private static org.ovirt.engine.core.common.businessentities.storage.DiskImage createShareableDiskImage ( ) { org.ovirt.engine.core.common.businessentities.storage.DiskImage image = new org.ovirt.engine.core.common.businessentities.storage.DiskImage ( ) ; image.setShareable ( true ) ; image.setDiskInterface ( DiskInterface.IDE ) ; return image ; }
protected void endMoveOrCopyCommand ( ) { org.ovirt.engine.core.bll.VmTemplateHandler.UnLockVmTemplate ( getVmTemplateId ( ) ) ; endActionOnAllImageGroups ( ) ; updateTemplateInSpm ( ) ; setSucceeded ( true ) ; }
protected void onHide ( ) { super . onHide ( ) ; pluginManager.disablePluginInvocation ( ) ; alertManager.setCanShowAlerts ( false ) ; }
public java.lang.String getVdsDestination ( ) { if ( ( getDestinationVds ( ) ) != null ) { return getDestinationVds ( ) . getName ( ) ; } else { return null ; } }
void vdsMovedToMaintanance ( org.ovirt.engine.core.compat.Guid vdsId ) ;
public org.ovirt.engine.core.compat.NGuid getStorageDomainId ( ) { if ( ( _storageDomain ) != null ) { return _storageDomain.getId ( ) ; } else { return _storageDomainId ; } }
private org.ovirt.engine.core.common.businessentities.storage_domains mockSecondStorageDomain ( int availabeDiskSize ) { org.ovirt.engine.core.common.businessentities.storage_domains storageDomain = new org.ovirt.engine.core.common.businessentities.storage_domains ( ) ; storageDomain.setavailable_disk_size ( availabeDiskSize ) ; storageDomain.setstatus ( StorageDomainStatus.Active ) ; storageDomain.setId ( secondStorageDomainId ) ; storageDomain.setstorage_domain_type ( StorageDomainType.Data ) ; return storageDomain ; }
public void onSuccess ( java.lang.Object model , java.lang.Object returnValue ) { osNames = ( ( org.ovirt.engine.core.common.queries.VdcQueryReturnValue ) ( returnValue ) ) . getReturnValue ( ) ; initOsIds ( ) ; }
public void legalArchitectureChange ( ) { createCommandWithDefaultVdsGroup ( ) ; cpuExists ( ) ; architectureIsUpdatable ( ) ; org.junit.Assert.assertTrue ( cmd.canDoAction ( ) ) ; }
protected boolean checkStoragePoolNameLengthValid ( ) { boolean result = true ; if ( ( org.ovirt.engine.core.bll.storage.StorageHandlingCommandBase.getStoragePool ( ) . getname ( ) . length ( ) ) > ( getStoragePoolNameSizeLimit ( ) ) ) { result = false ; addCanDoActionMessage ( VdcBllMessages.ACTION_TYPE_FAILED_NAME_LENGTH_IS_TOO_LONG ) ; } return result ; }
public static org.ovirt.engine.core.common.job.Step addSubStep ( org.ovirt.engine.core.bll.job.ExecutionContext context , org.ovirt.engine.core.common.job.Step parentStep , org.ovirt.engine.core.common.job.StepEnum newStepName , java.lang.String description ) { return org.ovirt.engine.core.bll.job.ExecutionHandler.addSubStep ( context , parentStep , newStepName , description , false ) ; }
protected org.ovirt.engine.core.common.businessentities.storage_domains createSourceDomain ( ) { org.ovirt.engine.core.common.businessentities.storage_domains sd = new org.ovirt.engine.core.common.businessentities.storage_domains ( ) ; sd.setstorage_domain_type ( StorageDomainType.ImportExport ) ; sd.setstatus ( StorageDomainStatus.Active ) ; return sd ; }
protected org.ovirt.engine.core.bll.context.CompensationContext getCompensationContext ( ) { return context.getCompensationContext ( ) ; }
public boolean AddAsyncRunningVm ( org.ovirt.engine.core.compat.Guid vmId , org.ovirt.engine.core.common.businessentities.IVdsEventListener listener ) { boolean returnValue = false ; if ( ( _asyncRunningVms.putIfAbsent ( vmId , listener ) ) == null ) { returnValue = true ; } return returnValue ; }
public void AddDisk ( ) { if ( ( getEntity ( ) ) != null ) { StartProgress ( null ) ; disks = null ; AddDiskUpdateData ( ) ; } }
public java.lang.String getRelatedTableName ( java.lang.String obj ) { if ( obj == null ) { return null ; } else if ( ( org.ovirt.engine.core.searchbackend.SearchObjectAutoCompleter.getEntitySearchInfo ( obj ) ) != null ) { return org.ovirt.engine.core.searchbackend.SearchObjectAutoCompleter.getEntitySearchInfo ( obj ) . relatedTableName ; } return null ; }
public void run ( ) { org.ovirt.engine.core.bll.InitBackendServicesOnStartupBean.log.infoFormat ( "MacPoolManager started: {0}" , new java.util.Date ( ) ) ; org.ovirt.engine.core.bll.network.MacPoolManager.getInstance ( ) . initialize ( ) ; org.ovirt.engine.core.bll.InitBackendServicesOnStartupBean.log.infoFormat ( "MacPoolManager finished: {0}" , new java.util.Date ( ) ) ; }
public void testGetNonePermittedStorageDomains ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.StorageDomain > result = dao.getPermittedStorageDomainsByStoragePool ( FixturesTool.USER_EXISTING_ID , ActionGroup.CONSUME_QUOTA , FixturesTool.DATA_CENTER ) ; org.junit.Assert.assertNotNull ( result ) ; org.junit.Assert.assertTrue ( result.isEmpty ( ) ) ; }
public org.ovirt.engine.core.common.businessentities.Snapshot getInPreview ( ) { for ( org.ovirt.engine.core.common.businessentities.Snapshot snapshot : ( ( java.util.ArrayList < org.ovirt.engine.core.common.businessentities.Snapshot > ) ( getItems ( ) ) ) ) { if ( ( snapshot.getStatus ( ) ) == ( org.ovirt.engine.core.common.businessentities.Snapshot.SnapshotStatus.IN_PREVIEW ) ) { return snapshot ; } } return null ; }
protected javax.ws.rs.core.Response actionStatus ( org.ovirt.engine.api.model.CreationStatus status , org.ovirt.engine.api.model.Action action , java.lang.Object result ) { setActionItem ( action , result ) ; action.setStatus ( org.ovirt.engine.api.common.util.StatusUtils.create ( status ) ) ; return javax.ws.rs.core.Response.ok ( ) . entity ( action ) . build ( ) ; }
public void setParameters ( java.lang.String value ) { switch ( getVmPoolType ( ) ) { case TimeLease : { initializeTimeLeasedDefaultData ( value ) ; break ; } default : { parameters = value ; break ; } } }
public java.lang.String getValue ( org.ovirt.engine.ui.uicommonweb.models.vms.ImportVmData object ) { return ( java.lang.String.valueOf ( ( ( org.ovirt.engine.ui.uicommonweb.models.vms.ImportVmData ) ( object ) ) . getVm ( ) . getVmMemSizeMb ( ) ) ) + " MB" ; }
public void onSuccess ( java.lang.Object model , java.lang.Object returnValue ) { java.util.Collection < org.ovirt.engine.core.common.businessentities.Cluster > clusters = ( ( java.util.Collection < org.ovirt.engine.core.common.businessentities.Cluster > ) ( returnValue ) ) ; dcClusters.put ( dcId , clusters ) ; attachNetworkToClusters ( network , clusters , publicUse ) ; }
public void canCreateAsMuchNumaNodesAsVirtualCores ( ) { final org.ovirt.engine.core.bll.numa.vm.AddVmNumaNodesCommand command = mockedCommandWithVmFromDb ( ) ; vm.setNumOfSockets ( 1 ) ; vm.setCpuPerSocket ( 4 ) ; org.assertj.core.api.Assertions.assertThat ( command.canDoAction ( ) ) . isTrue ( ) ; }
public void add ( ) { if ( ( getWindow ( ) ) != null ) { return ; } final org.ovirt.engine.ui.uicommonweb.models.providers.ProviderModel providerModel = new org.ovirt.engine.ui.uicommonweb.models.providers.ProviderModel ( this ) ; setWindow ( providerModel ) ; }
public org.ovirt.engine.api.model.Quota get ( ) { org.ovirt.engine.core.common.queries.GetQuotaByQuotaIdQueryParameters params = new org.ovirt.engine.core.common.queries.GetQuotaByQuotaIdQueryParameters ( ) ; params.setQuotaId ( guid ) ; org.ovirt.engine.api.model.Quota quota = performGet ( VdcQueryType.GetQuotaByQuotaId , params ) ; return quota ; }
public void setbookmark_name ( java.lang.String name ) { this . name = name ; OnPropertyChanged ( new org.ovirt.engine.core.compat.PropertyChangedEventArgs ( "bookmark_name" ) ) ; }
public boolean isSetBoot ( ) { return ( ( this . boot ) != null ) && ( ! ( this . boot.isEmpty ( ) ) ) ; }
public void testVmAppliedBeforeConfig ( ) { setupVmWithSerialNumber ( SerialNumberPolicy.CUSTOM , org.ovirt.engine.core.vdsbroker.vdsbroker.VmSerialNumberBuilderTest.CUSTOM_VM_SERIAL ) ; setupConfigWithSerialNumber ( SerialNumberPolicy.CUSTOM , org.ovirt.engine.core.vdsbroker.vdsbroker.VmSerialNumberBuilderTest.CUSTOM_CONFIG_SERIAL ) ; assertSerialNumber ( org.ovirt.engine.core.vdsbroker.vdsbroker.VmSerialNumberBuilderTest.CUSTOM_VM_SERIAL ) ; }
protected void updateCustomPropertySheet ( ) { if ( ( getModel ( ) . getSelectedCluster ( ) ) == null ) { return ; } org.ovirt.engine.core.common.businessentities.VDSGroup cluster = getModel ( ) . getSelectedCluster ( ) ; updateCustomPropertySheet ( cluster.getCompatibilityVersion ( ) ) ; }
private void initVds ( ) { vds = new org.ovirt.engine.core.common.businessentities.VDS ( ) ; vds.setId ( new org.ovirt.engine.core.compat.Guid ( "00000000-0000-0000-0000-000000000012" ) ) ; vds.setClusterCompatibilityVersion ( Version.v3_4 ) ; }
private org.ovirt.engine.core.bll.AddQuotaCommand createCommand ( ) { org.ovirt.engine.core.common.action.QuotaCRUDParameters param = new org.ovirt.engine.core.common.action.QuotaCRUDParameters ( mockGeneralStorageQuota ( ) ) ; command = org.mockito.Mockito.spy ( new org.ovirt.engine.core.bll.AddQuotaCommand ( param ) ) ; org.mockito.Mockito.doReturn ( quotaDao ) . when ( command ) . getQuotaDao ( ) ; return command ; }
public void add ( ) { runAddAndVerify ( createNewInterface ( ) , true , org.mockito.Mockito.times ( 1 ) , org.ovirt.engine.core.bll.network.VmInterfaceManagerTest.OS_ID , org.ovirt.engine.core.bll.network.VmInterfaceManagerTest.VERSION_3_2 ) ; }
public static double truncatePercentage ( double value ) { return java.lang.Math.min ( 100 , value ) ; }
public java.util.List < org.ovirt.engine.core.common.businessentities.StorageDomain > getAllWithQuery ( java.lang.String query ) { return new org.springframework.jdbc.core.simple.SimpleJdbcTemplate ( jdbcTemplate ) . query ( query , org.ovirt.engine.core.dao.StorageDomainDAODbFacadeImpl.StorageDomainRowMapper.instance ) ; }
public void edit ( org.ovirt.engine.ui.uicommonweb.models.clusters.ClusterNetworkManageModel clusterNetworkManageModel ) { networks.asEditor ( ) . edit ( clusterNetworkManageModel ) ; initEntityModelCellTable ( constants , templates ) ; }
public void eventRaised ( org.ovirt.engine.ui.uicompat.Event ev , java.lang.Object sender , org.ovirt.engine.ui.uicompat.EventArgs args ) { getView ( ) . setTestResultImage ( ( ( java.lang.Boolean ) ( model.getTestResult ( ) . getEntity ( ) ) ) ) ; }
public org.ovirt.engine.core.common.businessentities.VmInit get ( org.ovirt.engine.core.compat.Guid id ) { org.ovirt.engine.core.common.businessentities.VmInit vmInit = getCallsHandler ( ) . executeRead ( "GetVmInitByVmId" , org.ovirt.engine.core.dao.VmInitDaoImpl.VMInitRowMapper.instance , getIdParamterSource ( id ) ) ; return vmInit ; }
public void findActiveVmsUsingNetworks ( ) { mockDaos ( ) ; java.util.List < java.lang.String > vmNames = vmInterfaceManager.findActiveVmsUsingNetworks ( org.ovirt.engine.core.compat.Guid.newGuid ( ) , java.util.Collections.singletonList ( NETWORK_NAME ) ) ; org.junit.Assert.assertTrue ( vmNames.contains ( VM_NAME ) ) ; }
public static org.ovirt.engine.core.common.businessentities.VmDevice addNetworkInterfaceDevice ( org.ovirt.engine.core.common.businessentities.VmDeviceId id , boolean plugged ) { return org.ovirt.engine.core.bll.utils.VmDeviceUtils.addManagedDevice ( id , VmDeviceGeneralType.INTERFACE , VmDeviceType.BRIDGE , java.util.Collections.< java.lang.String , java.lang.Object > emptyMap ( ) , plugged , false ) ; }
public void testRemoveWithParam ( ) { container.SetData ( org.ovirt.engine.core.bll.session.SessionDataContainerTest.TEST_SESSION_ID , org.ovirt.engine.core.bll.session.SessionDataContainerTest.TEST_KEY , org.ovirt.engine.core.bll.session.SessionDataContainerTest.TEST_VALUE ) ; container.removeSession ( org.ovirt.engine.core.bll.session.SessionDataContainerTest.TEST_SESSION_ID ) ; org.junit.Assert.assertNull ( "Get should return null since the session was removed" , container.GetData ( org.ovirt.engine.core.bll.session.SessionDataContainerTest.TEST_SESSION_ID , org.ovirt.engine.core.bll.session.SessionDataContainerTest.TEST_KEY ) ) ; }
public void setLogo ( com.google.gwt.user.client.ui.Widget widget ) { logoPanel.setWidget ( widget ) ; updateTitlePadding ( ) ; }
public void testGetAllForConnectionWithInvalidConnection ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.StorageDomain > result = dao.getAllForConnection ( org.ovirt.engine.core.utils.RandomUtils.instance ( ) . nextString ( 10 ) ) ; org.junit.Assert.assertNotNull ( result ) ; org.junit.Assert.assertTrue ( result.isEmpty ( ) ) ; }
protected void ExecuteVdsBrokerCommand ( ) { status = org.ovirt.engine.core.vdsbroker.vdsbroker.VmLogoffVDSCommand.getBroker ( ) . desktopLogoff ( mVmId.toString ( ) , new java.lang.Boolean ( mForce ) . toString ( ) ) ; org.ovirt.engine.core.vdsbroker.vdsbroker.VmLogoffVDSCommand.ProceedProxyReturnValue ( ) ; }
private void logException ( java.lang.RuntimeException ex ) { org.ovirt.engine.core.vdsbroker.VDSCommandBase.log.errorFormat ( "Command {0} execution failed. Exception: {1}" , org.ovirt.engine.core.vdsbroker.VDSCommandBase.getCommandName ( ) , org.apache.commons.lang.exception.ExceptionUtils.getMessage ( ex ) ) ; }
public void testGetDataAndSetDataWithEmptySession ( ) { org.ovirt.engine.core.utils.ThreadLocalParamsContainer.setHttpSessionId ( "" ) ; org.junit.Assert.assertFalse ( "Set should fail with an empty session" , container.SetData ( org.ovirt.engine.core.bll.session.SessionDataContainerTest.TEST_KEY , org.ovirt.engine.core.bll.session.SessionDataContainerTest.TEST_VALUE ) ) ; org.junit.Assert.assertNull ( "Get should return null with an empty session" , container.GetData ( org.ovirt.engine.core.bll.session.SessionDataContainerTest.TEST_KEY ) ) ; }
public void setiso_path ( java.lang.String value ) { if ( ! ( org.ovirt.engine.core.compat.StringHelper.EqOp ( mVmStatic.getiso_path ( ) , value ) ) ) { mVmStatic.setiso_path ( value ) ; } }
public void eventRaised ( org.ovirt.engine.ui.uicompat.Event ev , java.lang.Object sender , org.ovirt.engine.ui.uicompat.PropertyChangedEventArgs args ) { java.lang.String propName = args.propertyName ; if ( propName.equals ( "IsValid" ) ) { onIsValidPropertyChange ( object ) ; } }
protected org.ovirt.engine.core.dao.StorageDomainDAO getStorageDomainDAO ( ) { return org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getStorageDomainDao ( ) ; }
public java.lang.String getValue ( org.ovirt.engine.core.common.businessentities.Role object ) { return object.getname ( ) ; }
protected boolean canDoAction ( ) { return org.ovirt.engine.core.bll.storage.pool.SetStoragePoolStatusCommand.checkStoragePool ( ) ; }
public void canDoActionSucceeds ( ) { command = org.mockito.Mockito.spy ( new org.ovirt.engine.core.bll.RemoveAuditLogByIdCommand < org.ovirt.engine.core.common.action.RemoveAuditLogByIdParameters > ( new org.ovirt.engine.core.common.action.RemoveAuditLogByIdParameters ( org.ovirt.engine.core.bll.RemoveAuditLogByIdCommandTest.EVENT_ID_3 ) ) ) ; prepareMocks ( command ) ; org.junit.Assert.assertTrue ( command.canDoAction ( ) ) ; }
public static < T > org.ovirt.engine.ui.common.widget.editor.ValueBoxEditorChanger < T > of ( com.google.gwt.user.client.ui.ValueBoxBase < T > valueBox ) { return new org.ovirt.engine.ui.common.widget.editor.ValueBoxEditorChanger < T > ( valueBox ) ; }
public void setStorageName ( java.lang.String storageName ) { getStorageStaticData ( ) . setstorage_name ( storageName ) ; }
public java.lang.Object convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { return source != null ? ( ( java.lang.Integer ) ( source ) ) . intValue ( ) : 120 ; }
public static void RunAction ( final org.ovirt.engine.core.common.action.VdcActionType actionType , final org.ovirt.engine.core.common.action.VdcActionParametersBase parameters , final org.ovirt.engine.ui.uicompat.IFrontendActionAsyncCallback callback , final java.lang.Object state , final boolean showErrorDialog ) { org.ovirt.engine.ui.frontend.Frontend.getInstance ( ) . runAction ( actionType , parameters , callback , state , showErrorDialog ) ; }
private void mockDbDAO ( ) { mockDbFacade ( ) ; mockVdsGroupDAO ( ) ; mockVMPoolDAO ( ) ; mockVMTemplateDAO ( ) ; mockVmNetworkInterfaceDao ( ) ; }
private void cancelUpload ( ) { org.ovirt.engine.ui.uicommonweb.models.storage.UploadImageModel.showCancelUploadDialog ( this , HelpTag.cancel_upload_image_to_domain , org.ovirt.engine.ui.uicommonweb.Linq.< org.ovirt.engine.core.common.businessentities.storage.DiskImage > cast ( getSelectedItems ( ) ) ) ; }
protected org.ovirt.engine.core.compat.Guid createTask ( org.ovirt.engine.core.compat.Guid taskId , org.ovirt.engine.core.common.asynctasks.AsyncTaskCreationInfo asyncTaskCreationInfo , org.ovirt.engine.core.common.action.VdcActionType parentCommand ) { return createTask ( taskId , asyncTaskCreationInfo , parentCommand , null , java.util.Collections.< org.ovirt.engine.core.compat.Guid , org.ovirt.engine.core.common.VdcObjectType > emptyMap ( ) ) ; }
private java.util.List < org.ovirt.engine.core.common.businessentities.Quota > searchQuota ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.Quota > quotaList = genericSearch ( org.ovirt.engine.core.bll.SearchQuery.getDbFacade ( ) . getQuotaDao ( ) , true , null ) ; org.ovirt.engine.core.bll.quota.QuotaManager.getInstance ( ) . updateUsage ( quotaList ) ; return quotaList ; }
protected boolean shouldDestroyOnClose ( ) { return false ; }
public java.util.ArrayList < org.ovirt.engine.core.common.businessentities.Tags > GetAllTags ( ) { java.util.ArrayList < org.ovirt.engine.core.common.businessentities.Tags > ret = new java.util.ArrayList < org.ovirt.engine.core.common.businessentities.Tags > ( tagsMapByID.values ( ) ) ; ret.remove ( GetRootTag ( ) ) ; return ret ; }
protected boolean checkStorageDomainSharedStatusNotLocked ( org.ovirt.engine.core.common.businessentities.storage_domains storageDomain ) { boolean returnValue = ( storageDomain != null ) && ( ( storageDomain.getstorage_domain_shared_status ( ) ) != ( org.ovirt.engine.core.common.businessentities.StorageDomainSharedStatus.Locked ) ) ; if ( ! returnValue ) { addCanDoActionMessage ( VdcBllMessages.ACTION_TYPE_FAILED_STORAGE_DOMAIN_STATUS_ILLEGAL ) ; } return returnValue ; }
protected boolean canDoAction ( ) { org.ovirt.engine.core.bll.provider.ProviderValidator validator = new org.ovirt.engine.core.bll.provider.ProviderValidator ( getProvider ( ) ) ; return ( validate ( validator.providerIsSet ( ) ) ) && ( super . canDoAction ( ) ) ; }
public void setUp ( ) { comp = new org.ovirt.engine.core.searchbackend.SearchObjectAutoCompleter ( true ) ; }
public java.util.List < org.ovirt.engine.core.common.businessentities.Bookmark > getAll ( ) { org.springframework.jdbc.core.namedparam.MapSqlParameterSource parameterSource = new org.ovirt.engine.core.dao.BookmarkDAODbFacadeImpl.BookmarkSqlParameterSource ( ) ; return getCallsHandler ( ) . executeReadList ( "GetAllFromBookmarks" , new org.ovirt.engine.core.dao.BookmarkDAODbFacadeImpl.BookmarkRowMapper ( ) , parameterSource ) ; }
private org.ovirt.engine.core.common.businessentities.Provider < ? > getDeletedProvider ( ) { if ( ( deletedProvider ) == null ) { deletedProvider = getProviderDao ( ) . get ( org.ovirt.engine.core.bll.provider.RemoveProviderCommand.getParameters ( ) . getProvider ( ) . getId ( ) ) ; } return deletedProvider ; }
public boolean eval ( org.ovirt.engine.core.common.businessentities.VdsNetworkInterface i ) { return org.apache.commons.lang.StringUtils.equals ( i.getNetworkName ( ) , net.getname ( ) ) ; }
public void setvds_group_compatibility_version ( org.ovirt.engine.core.compat.Version value ) { if ( org.ovirt.engine.core.compat.Version.OpInequality ( vds_group_compatibility_versionField , value ) ) { this . vds_group_compatibility_versionField = value ; OnPropertyChanged ( new org.ovirt.engine.core.compat.PropertyChangedEventArgs ( "vds_group_compatibility_version" ) ) ; } }
protected void executeCommand ( ) { if ( ( org.ovirt.engine.core.bll.hostdeploy.InstallVdsInternalCommand.getVds ( ) ) == null ) { return ; } org.ovirt.engine.core.bll.hostdeploy.InstallVdsInternalCommand.reestablishConnectionIfNeeded ( ) ; vdsInitialStatus = org.ovirt.engine.core.bll.hostdeploy.InstallVdsInternalCommand.getVds ( ) . getStatus ( ) ; installHost ( ) ; }
public void validateFailsWithEmptyBricksList ( ) { cmd = org.mockito.Mockito.spy ( new org.ovirt.engine.core.bll.gluster.CommitRemoveGlusterVolumeBricksCommand ( new org.ovirt.engine.core.common.action.gluster.GlusterVolumeRemoveBricksParameters ( volumeWithoutRemoveBricksTask , new java.util.ArrayList < > ( ) ) ) ) ; prepareMocks ( cmd ) ; org.junit.Assert.assertFalse ( cmd.validate ( ) ) ; }
private boolean isBalloonEnabled ( ) { java.lang.Boolean balloonEnabled = org.ovirt.engine.core.bll.UpdateVmCommand.getParameters ( ) . isBalloonEnabled ( ) ; return balloonEnabled != null ? balloonEnabled : org.ovirt.engine.core.bll.utils.VmDeviceUtils.isBalloonEnabled ( getVmId ( ) ) ; }
private java.util.List < org.ovirt.engine.core.common.businessentities.DiskImage > getVmImageDisks ( ) { if ( ( cachedVmImageDisks ) == null ) { cachedVmImageDisks = org.ovirt.engine.core.bll.ImagesHandler.filterImageDisks ( getVmDisks ( ) , true , false ) ; } return cachedVmImageDisks ; }
private org.ovirt.engine.core.vdsbroker.VmsMonitoring getVmsMonitoring ( org.ovirt.engine.core.vdsbroker.VmsListFetcher fetcher , long fetchTime ) { return new org.ovirt.engine.core.vdsbroker.VmsMonitoring ( vdsManager , fetcher.getChangedVms ( ) , fetcher.getVmsWithChangedDevices ( ) , auditLogDirector , fetchTime , isTimeToRefreshStatistics ( ) ) ; }
public static org.ovirt.engine.core.compat.Version getCompatibilityVersion ( org.ovirt.engine.core.common.businessentities.VM vm ) { return org.ovirt.engine.core.bll.utils.ClusterUtils.getCompatibilityVersion ( vm.getStaticData ( ) ) ; }
public void toFile ( java.lang.String krb5ConfPath , java.lang.StringBuffer sb ) throws java.io.FileNotFoundException , java.io.IOException { java.io.FileOutputStream fos = new java.io.FileOutputStream ( krb5ConfPath ) ; fos.write ( sb.toString ( ) . getBytes ( ) ) ; fos.close ( ) ; }
protected org.ovirt.engine.api.model.Template getRestModel ( int index ) { return org.ovirt.engine.api.restapi.resource.BackendTemplatesResourceTest.getModel ( index ) ; }
public void testNewStorageTypes ( ) { org.junit.Assert.assertTrue ( ( "A storage type was added/removed. Update this test, and the isFileDomain/isBlockDomain " + "method accordingly" ) , ( ( org.ovirt.engine.core.common.businessentities.storage.StorageType.values ( ) . length ) == 9 ) ) ; }
private org.ovirt.engine.core.bll.ImportVmTemplateCommand setupDiskSpaceTest ( final int extraDiskSpaceRequired , final int pctOfSpaceRequired ) { mcr.mockConfigValue ( ConfigValues.FreeSpaceCriticalLowInGB , extraDiskSpaceRequired ) ; mcr.mockConfigValue ( ConfigValues.FreeSpaceLow , pctOfSpaceRequired ) ; return new org.ovirt.engine.core.bll.TestHelperImportVmTemplateCommand ( createParameters ( ) ) ; }
public static java.lang.String getI18NPrefix ( ) { if ( ( org.ovirt.engine.core.common.config.Config.getConfigUtils ( ) ) == null ) return "" ; else return org.ovirt.engine.core.common.config.Config.< java.lang.String > GetValue ( ConfigValues.DBI18NPrefix ) ; }
private org.ovirt.engine.core.dal.dbbroker.DbFacade getDbFacade ( ) { return org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) ; }
private void closeChannel ( ) { try { this . channel.close ( ) ; } catch ( java.io.IOException e ) { } finally { this . channel = null ; } }
public java.util.Collection < java.lang.String > getGroupNames ( ) { return java.util.Collections.unmodifiableCollection ( groupNames ) ; }
public java.lang.Void runInTransaction ( ) { hostDeviceDao.saveAllInBatch ( newDevices ) ; hostDeviceDao.updateAllInBatch ( changedDevices ) ; hostDeviceDao.removeAllInBatch ( removedDevices ) ; handleHostNicVfsConfigUpdate ( newDevices , changedDevices , removedDevices ) ; vmDeviceDao.removeAllInBatch ( removedVmDevices ) ; return null ; }
protected void init ( ) { super . init ( ) ; resource.getParent ( ) . backend = backend ; resource.getParent ( ) . mappingLocator = resource.mappingLocator ; resource.getParent ( ) . httpHeaders = httpHeaders ; }
public void setId ( org.ovirt.engine.core.compat.Guid value ) { this . id = value ; }
private void processSessionIdException ( ) { org.ovirt.engine.ui.webadmin.plugin.restapi.RestApiSessionManager.logger.severe ( "Engine REST API session ID is not available" ) ; }
public org.ovirt.engine.core.common.action.VdcReturnValueBase EndAction ( org.ovirt.engine.core.common.action.VdcActionType actionType , org.ovirt.engine.core.common.action.VdcActionParametersBase parameters ) { return endAction ( actionType , parameters , null ) ; }
protected final boolean failCanDoAction ( org.ovirt.engine.core.common.errors.VdcBllMessages message , java.lang.String ... variableReplacements ) { addCanDoActionMessage ( message ) ; for ( java.lang.String variableReplacement : variableReplacements ) { addCanDoActionMessage ( variableReplacement ) ; } return false ; }
public void getUsbPolicyIsSetDisabled ( ) { org.ovirt.engine.api.model.Usb usb = new org.ovirt.engine.api.model.Usb ( ) ; org.ovirt.engine.core.common.businessentities.VDSGroup vdsGroup = new org.ovirt.engine.core.common.businessentities.VDSGroup ( ) ; assertEquals ( org.ovirt.engine.api.restapi.types.VmMapper.getUsbPolicyOnCreate ( usb , vdsGroup.getCompatibilityVersion ( ) ) , UsbPolicy.DISABLED ) ; }
public void render ( com.google.gwt.cell.client.Cell.Context context , java.lang.Boolean value , com.google.gwt.safehtml.shared.SafeHtmlBuilder sb , java.lang.String id ) { super . render ( context , value , sb , id ) ; sb.append ( title ) ; }
private java.lang.String getNetworkNameReplacement ( ) { return java.lang.String.format ( "$NetworkName %s" , network.getName ( ) ) ; }
public void testList ( ) throws java.lang.Exception { javax.ws.rs.core.UriInfo uriInfo = setUpUriExpectations ( null ) ; setGetQuotasExpectations ( ) ; control.replay ( ) ; collection.setUriInfo ( uriInfo ) ; verifyCollection ( getCollection ( ) ) ; }
public static void getWatchdogByVmId ( org.ovirt.engine.ui.frontend.AsyncQuery aQuery , org.ovirt.engine.core.compat.Guid vmId ) { org.ovirt.engine.ui.frontend.Frontend.RunQuery ( VdcQueryType.GetWatchdog , new org.ovirt.engine.core.common.queries.IdQueryParameters ( vmId ) , aQuery ) ; }
public static org.ovirt.engine.core.common.businessentities.VmDevice addConsoleDevice ( org.ovirt.engine.core.compat.Guid vmId ) { return org.ovirt.engine.core.bll.utils.VmDeviceUtils.addManagedDevice ( new org.ovirt.engine.core.common.businessentities.VmDeviceId ( org.ovirt.engine.core.compat.Guid.newGuid ( ) , vmId ) , VmDeviceGeneralType.CONSOLE , VmDeviceType.CONSOLE , org.ovirt.engine.core.bll.utils.VmDeviceUtils.getConsoleDeviceSpecParams ( ) , true , false ) ; }
public void testUnknownQuery ( ) throws java.lang.Exception { org.ovirt.engine.core.bll.QueriesCommandBaseTest.ThereIsNoSuchQuery query = new org.ovirt.engine.core.bll.QueriesCommandBaseTest.ThereIsNoSuchQuery ( org.mockito.Mockito.mock ( org.ovirt.engine.core.common.queries.VdcQueryParametersBase.class ) ) ; org.junit.Assert.assertEquals ( "Wrong type for 'ThereIsNoSuchQuery' " , VdcQueryType.Unknown , org.ovirt.engine.core.bll.TestHelperQueriesCommandType.getQueryTypeFieldValue ( query ) ) ; }
protected java.lang.String getLockMessage ( ) { return EngineMessage.ACTION_TYPE_FAILED_OBJECT_LOCKED.name ( ) ; }
void mockSessionDataContainer ( org.ovirt.engine.core.bll.ConfigureConsoleOptionsQuery query ) { org.mockito.Mockito.doReturn ( org.ovirt.engine.core.bll.ConfigureConsoleOptionsQueryTest.SSO_TOKEN ) . when ( sessionDataContainer ) . getSsoAccessToken ( org.mockito.Matchers.anyString ( ) ) ; }
public void testGetSystemStatisticsValueWithoutSpecifiedStatus ( ) { int numOfUsers = underTest.getSystemStatisticsValue ( "User" , "" ) ; org.junit.Assert.assertTrue ( ( numOfUsers == ( org.ovirt.engine.core.dao.SystemStatisticsDaoImplTest.NUM_OF_USERS_IN_FIXTURES ) ) ) ; }
private static java.lang.String getSysprepDir ( ) { return ( ( org.ovirt.engine.core.common.config.Config.< java.lang.String > GetValue ( ConfigValues.DataDir ) ) + ( java.io.File.separator ) ) + "sysprep" ; }
public byte nextByte ( byte b ) { return ( ( byte ) ( super . nextInt ( b ) ) ) ; }
protected abstract R doPopulate ( R model , Q entity ) ;
public java.lang.String getStoragePoolName ( ) { if ( ( getStoragePool ( ) ) != null ) { return getStoragePool ( ) . getname ( ) ; } return "" ; }
public void testNullAttr ( ) { org.ovirt.engine.api.types.V4Vm object = objectFromXml ( "<vm></vm>" ) ; org.junit.Assert.assertNull ( object.getId ( ) ) ; }
private void setUpMocksForRemove ( boolean hookFound , org.ovirt.engine.core.common.businessentities.gluster.GlusterHookEntity hook , org.ovirt.engine.core.common.businessentities.VDSStatus status ) { setupMocks ( hookFound , hook ) ; org.mockito.Mockito.when ( vdsDao.getAllForCluster ( org.mockito.ArgumentMatchers.any ( org.ovirt.engine.core.compat.Guid.class ) ) ) . thenReturn ( getServers ( status ) ) ; }
public org.ovirt.engine.ui.uicommonweb.models.vms.ImportVmModel flush ( ) { table.flush ( ) ; nicTable.flush ( ) ; diskTable.flush ( ) ; appTable.flush ( ) ; return org.ovirt.engine.ui.webadmin.section.main.view.popup.storage.backup.ImportVmPopupView.Driver.driver.flush ( ) ; }
public void postModelEnabled ( boolean enabled ) { messageLabel.setVisible ( ( ! enabled ) ) ; setApplyEnabled ( ( ! enabled ) ) ; }
protected void verifyModel ( org.ovirt.engine.api.model.User model , int index ) { assertEquals ( EXTERNAL_IDS [ index ] . toHex ( ) , model.getExternalId ( ) ) ; assertEquals ( NAMES [ index ] , model.getUserName ( ) ) ; }
public boolean eval ( org.ovirt.engine.core.common.businessentities.storage_domains storage_domains ) { return ( storage_domains.getstorage_domain_type ( ) ) == ( org.ovirt.engine.core.common.businessentities.StorageDomainType.Master ) ; }
public void onHostSelectionChange ( org.ovirt.engine.ui.webadmin.section.main.presenter.tab.HostSelectionChangeEvent event ) { updateMainTabSelection ( event.getSelectedItems ( ) ) ; currentSelectedHost = event.getSelectedItems ( ) . get ( 0 ) ; updateModel ( currentErrataCountModel ) ; }
public java.lang.String getText ( org.ovirt.engine.core.common.businessentities.storage_domains storage ) { return storage.getstorage_name ( ) ; }
public void testGetByName ( ) { org.ovirt.engine.core.common.businessentities.StoragePool result = dao.getByName ( existingPool.getname ( ) ) ; assertGetResult ( result ) ; }
protected void toggleProfilesAvailability ( ) { getProfiles ( ) . setIsAvailable ( ( ( java.lang.Boolean ) ( getIsVmNetwork ( ) . getEntity ( ) ) ) ) ; }
public void enforceClone ( java.lang.String prohibitReason ) { getClone ( ) . setEntity ( true ) ; getClone ( ) . setChangeProhibitionReason ( prohibitReason ) ; getClone ( ) . setIsChangeable ( false ) ; }
public void edit ( org.ovirt.engine.ui.uicommonweb.models.storage.DisksAllocationModel model ) { driver.edit ( model ) ; initListeners ( model ) ; updateColumnsAvailability ( model ) ; updateListHeader ( model ) ; }
public abstract void updateMinAllocatedMemory ( ) ;
protected void invokeCommands ( java.util.ArrayList < org.ovirt.engine.core.common.action.VdcReturnValueBase > returnValues ) { if ( canRunActions ( returnValues ) ) { if ( isWaitForResult ) { invokeSyncCommands ( ) ; } else { invokeCommands ( ) ; } } }
private static org.ovirt.engine.core.common.businessentities.storage.DiskImage createSparseDiskImage ( ) { org.ovirt.engine.core.common.businessentities.storage.DiskImage image = new org.ovirt.engine.core.common.businessentities.storage.DiskImage ( ) ; image.setVolumeType ( VolumeType.Sparse ) ; image.setDiskInterface ( DiskInterface.IDE ) ; return image ; }
void vdsNonOperational ( org.ovirt.engine.core.compat.Guid vdsId , org.ovirt.engine.core.common.businessentities.NonOperationalReason type , boolean logCommand , boolean saveToDb , org.ovirt.engine.core.compat.Guid domainId ) ;
private org.ovirt.engine.core.common.businessentities.network.NetworkCluster getOldNetworkCluster ( ) { if ( ( oldNetworkCluster ) == null ) { oldNetworkCluster = org.ovirt.engine.core.bll.network.cluster.UpdateNetworkOnClusterCommand.getNetworkClusterDAO ( ) . get ( getNetworkCluster ( ) . getId ( ) ) ; } return oldNetworkCluster ; }
public java.lang.String getPassword ( ) { return ( ( java.lang.String ) ( getData ( org.ovirt.engine.core.bll.session.SessionDataContainer.PASSWORD_PARAMETER_NAME , false ) ) ) ; }
public void networkNull ( ) throws java.lang.Exception { validator = new org.ovirt.engine.core.bll.validator.NetworkValidator ( vmDao , null ) ; org.junit.Assert.assertThat ( validator.networkIsSet ( org.ovirt.engine.core.compat.Guid.newGuid ( ) ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( EngineMessage.NETWORK_HAVING_ID_NOT_EXISTS ) ) ; }
public void moveDiskToGluster ( ) { initializeCommand ( ImageOperation.Move , new org.ovirt.engine.core.common.businessentities.storage.DiskImage ( ) ) ; initSrcStorageDomain ( ) ; initDestStorageDomain ( StorageType.GLUSTERFS ) ; initVmDiskImage ( false ) ; org.junit.Assert.assertTrue ( command.validate ( ) ) ; }
public java.lang.String getValue ( org.ovirt.engine.core.common.utils.PairQueryable < org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface , org.ovirt.engine.core.common.businessentities.VDS > object ) { return object.getSecond ( ) . getVdsName ( ) ; }
public void updateRunButton ( org.ovirt.engine.ui.uicommonweb.UICommand command , boolean isPool ) { java.lang.String tooltip = ( isPool ) ? org.ovirt.engine.ui.userportal.section.main.view.tab.basic.MainTabBasicListItemView.constants.takeVm ( ) : org.ovirt.engine.ui.userportal.section.main.view.tab.basic.MainTabBasicListItemView.constants.runVm ( ) ; runButton.setTooltip ( com.google.gwt.safehtml.shared.SafeHtmlUtils.fromSafeConstant ( tooltip ) ) ; updateButton ( runButton , command ) ; }
private void mockConfigSizeRequirements ( int requiredSpaceBufferInGB , int requiredSpacePercent ) { mcr.mockConfigValue ( ConfigValues.FreeSpaceCriticalLowInGB , requiredSpaceBufferInGB ) ; mcr.mockConfigValue ( ConfigValues.FreeSpaceLow , requiredSpacePercent ) ; }
public static boolean shouldRemoveNetworkFromHostUponNetworkRemoval ( org.ovirt.engine.core.common.businessentities.network.Network persistedNetwork , org.ovirt.engine.core.compat.Version compatibilityVersion ) { return ( ( ! ( persistedNetwork.isExternal ( ) ) ) && ( org.ovirt.engine.core.utils.NetworkUtils.isLabeled ( persistedNetwork ) ) ) && ( org.ovirt.engine.core.bll.network.cluster.NetworkHelper.setupNetworkSupported ( compatibilityVersion ) ) ; }
public java.lang.String getVmPoolName ( ) { return ( getVmPool ( ) ) != null ? getVmPool ( ) . getvm_pool_name ( ) : null ; }
public void testDumpRepoToString ( ) { java.lang.String actual = OsRepositoryImpl.INSTANCE.toString ( ) ; java.lang.String expected = OsRepositoryImpl.INSTANCE.name ( ) ; org.junit.Assert.assertNotSame ( expected , actual ) ; java.lang.System.out.println ( actual ) ; }
private void mockFenceSuccess ( ) { org.ovirt.engine.core.common.vdscommands.VDSReturnValue returnValue = new org.ovirt.engine.core.common.vdscommands.VDSReturnValue ( ) ; returnValue.setSucceeded ( true ) ; org.mockito.Mockito.when ( vdsBrokerFrontend.RunVdsCommand ( org.mockito.Mockito.eq ( VDSCommandType.FenceVds ) , org.mockito.Matchers.any ( org.ovirt.engine.core.common.vdscommands.GetDeviceListVDSCommandParameters.class ) ) ) . thenReturn ( returnValue ) ; }
public org.ovirt.vdsm.jsonrpc.client.reactors.ReactorClient createClient ( org.ovirt.vdsm.jsonrpc.client.reactors.Reactor reactor , java.nio.channels.Selector selector , java.lang.String hostname , int port , org.ovirt.vdsm.jsonrpc.client.reactors.SSLClient.CertCallback certCallback ) throws org.ovirt.vdsm.jsonrpc.client.ClientConnectionException { return new org.ovirt.vdsm.jsonrpc.client.reactors.stomp.StompClient ( reactor , selector , hostname , port ) ; }
public void onSuccess ( java.lang.Object model , java.lang.Object returnValue ) { java.lang.String suggestedDiskAlias = ( ( java.lang.String ) ( returnValue ) ) ; org.ovirt.engine.ui.uicommonweb.models.vms.DiskModel diskModel = ( ( org.ovirt.engine.ui.uicommonweb.models.vms.DiskModel ) ( model ) ) ; diskModel.getAlias ( ) . setEntity ( suggestedDiskAlias ) ; }
private org.ovirt.engine.core.common.queries.VdcQueryReturnValue getErrorQueryReturnValue ( org.ovirt.engine.core.common.errors.VdcBllMessages errorMessage ) { org.ovirt.engine.core.common.queries.VdcQueryReturnValue returnValue = new org.ovirt.engine.core.common.queries.VdcQueryReturnValue ( ) ; returnValue.setSucceeded ( false ) ; returnValue.setExceptionString ( errorMessage.toString ( ) ) ; return returnValue ; }
public void testStorageDomainForMemoryIsValidOnlyForActiveStatus ( org.ovirt.engine.core.common.businessentities.StorageDomainStatus storageDomainStatus ) { storageDomain.setStatus ( storageDomainStatus ) ; org.junit.Assert.assertEquals ( filter.getPredicate ( memoryDisks ) . test ( storageDomain ) , ( storageDomainStatus == ( org.ovirt.engine.core.common.businessentities.StorageDomainStatus.Active ) ) ) ; }
public C list ( ) { java.util.List < Q > collection = getBackendCollection ( queryType , queryParams ) ; if ( org.apache.commons.collections.CollectionUtils.isEmpty ( collection ) ) { throw new javax.ws.rs.WebApplicationException ( Response.Status.NOT_FOUND ) ; } return mapCollection ( collection ) ; }
public org.ovirt.engine.api.model.Nic get ( ) ;
public void testMonitoringNeededByStatus ( ) { org.junit.Assert.assertTrue ( ( ( underTest.isMonitoringNeeded ( status ) ) == ( monitoringNeeded ) ) ) ; }
private void attachManagementNetwork ( ) { final org.ovirt.engine.core.common.businessentities.network.NetworkCluster networkCluster = createManagementNetworkCluster ( ) ; networkCluster.setClusterId ( org.ovirt.engine.core.bll.AddClusterCommand.getClusterId ( ) ) ; networkClusterDao.save ( networkCluster ) ; }
public void bondWithNoSlaves ( ) { org.ovirt.engine.core.common.businessentities.VdsNetworkInterface bond = createBond ( org.ovirt.engine.core.bll.network.host.SetupNetworksHelperTest.BOND_NAME , null ) ; mockExistingIfaces ( bond ) ; org.ovirt.engine.core.bll.network.host.SetupNetworksHelper helper = createHelper ( createParametersForNics ( bond ) ) ; validateAndExpectViolation ( helper , VdcBllMessages.NETWORK_BONDS_INVALID_SLAVE_COUNT , bond.getName ( ) ) ; }
public boolean Match ( org.ovirt.engine.core.common.businessentities.storage_domains source ) { return id.equals ( source.getId ( ) ) ; }
static com.gwtplatform.mvp.client.TabData getTabData ( org.ovirt.engine.ui.webadmin.gin.ClientGinjector ginjector ) { return new org.ovirt.engine.ui.common.widget.tab.ModelBoundTabData ( ginjector.getApplicationConstants ( ) . clusterNetworkSubTabLabel ( ) , 3 , ginjector.getSubTabClusterNetworkModelProvider ( ) ) ; }
private org.springframework.jdbc.core.namedparam.MapSqlParameterSource createLabelParametersMapper ( org.ovirt.engine.core.compat.Guid vfsConfigId , java.lang.String label ) { org.springframework.jdbc.core.namedparam.MapSqlParameterSource parameterSource = getCustomMapSqlParameterSource ( ) . addValue ( "vfs_config_id" , vfsConfigId ) . addValue ( "label" , label ) ; return parameterSource ; }
org.ovirt.engine.core.dal.dbbroker.SimpleJdbcCallsHandler.CallCreator createCallForModification ( final java.lang.String procedureName ) { return new org.ovirt.engine.core.dal.dbbroker.SimpleJdbcCallsHandler.CallCreator ( ) { @ java.lang.Override public org.springframework.jdbc.core.simple.SimpleJdbcCall createCall ( ) { return new org.springframework.jdbc.core.simple.SimpleJdbcCall ( jdbcTemplate ) . withProcedureName ( procedureName ) ; } } ; }
public boolean isStatusUp ( ) { return org.ovirt.engine.core.common.businessentities.VM.isStatusUp ( getstatus ( ) ) ; }
public void executed ( org.ovirt.engine.ui.uicompat.FrontendMultipleActionAsyncResult result ) { getWindow ( ) . stopProgress ( ) ; setWindow ( null ) ; }
public static void getConfigFromCache ( org.ovirt.engine.core.common.queries.ConfigurationValues configValue , java.lang.String version , org.ovirt.engine.ui.frontend.AsyncQuery aQuery ) { org.ovirt.engine.core.common.queries.GetConfigurationValueParameters parameters = new org.ovirt.engine.core.common.queries.GetConfigurationValueParameters ( configValue , version ) ; org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncDataProvider.getConfigFromCache ( parameters , aQuery ) ; }
void logout ( java.lang.Object userObject , org.ovirt.engine.ui.frontend.communication.UserCallback < ? > callback ) ;
private static long macToLong ( java.lang.String mac ) { final int HEX_RADIX = 16 ; java.lang.String macWithoutCommas = mac.replaceAll ( ":" , "" ) ; return java.lang.Long.parseLong ( macWithoutCommas , HEX_RADIX ) ; }
public void setpm_type ( java.lang.String value ) { mVdsStatic.setpm_type ( value ) ; OnPropertyChanged ( new org.ovirt.engine.core.compat.PropertyChangedEventArgs ( "pm_type" ) ) ; }
public java.lang.String toString ( ) { java.lang.String prefix = "" ; if ( ( TotalMilliseconds ) < 0 ) { prefix = "-" ; } return org.ovirt.engine.core.compat.StringFormat.format ( "%s%d.%02d:%02d:%02d.%03d" , prefix , Days , Hours , Minutes , Seconds , Milliseconds ) ; }
protected void updateHosts ( ) { }
public org.ovirt.engine.core.common.businessentities.DbUser getByUsername ( java.lang.String username ) { org.springframework.jdbc.core.namedparam.MapSqlParameterSource parameterSource = getCustomMapSqlParameterSource ( ) . addValue ( "username" , username ) ; return getCallsHandler ( ) . executeRead ( "GetUserByUserName" , new org.ovirt.engine.core.dao.DbUserDAODbFacadeImpl.DbUserRowMapper ( ) , parameterSource ) ; }
public void setvolumeFormat ( org.ovirt.engine.core.common.businessentities.storage.VolumeFormat volumeFormat ) { getImage ( ) . setVolumeFormat ( volumeFormat ) ; }
public org.ovirt.engine.api.model.Template get ( ) { org.ovirt.engine.api.model.Template template = performGet ( VdcQueryType.GetVmTemplate , new org.ovirt.engine.core.common.queries.GetVmTemplateParameters ( guid ) ) ; org.ovirt.engine.api.restapi.util.DisplayHelper.adjustDisplayData ( this , template ) ; return template ; }
public void testSave ( ) { dao.save ( newPool ) ; org.ovirt.engine.core.common.businessentities.StoragePool result = dao.getByName ( newPool.getname ( ) ) ; org.junit.Assert.assertNotNull ( result ) ; org.junit.Assert.assertEquals ( newPool , result ) ; }
public void calculateNetworkImplementationDetailsManagedNetwork ( ) throws java.lang.Exception { org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface iface = createNetworkDevice ( ) ; calculateNetworkImplementationDetailsAndAssertManaged ( iface , true , createNetwork ( iface.getNetworkName ( ) , iface.isBridged ( ) , iface.getMtu ( ) , iface.getVlanId ( ) ) ) ; }
public org.ovirt.engine.ui.uicommonweb.models.EntityModel getSysprepScript ( ) { return privateSysprepScript ; }
private boolean Validate ( ) { return true ; }
protected void init ( ) { super . init ( ) ; org.ovirt.engine.core.common.config.Config.setConfigUtils ( new org.ovirt.engine.api.restapi.resource.VmMapperMockConfigUtils ( ) ) ; }
public void updateGlusterHookStatus ( org.ovirt.engine.core.compat.Guid hookId , org.ovirt.engine.core.compat.Guid hostId , org.ovirt.engine.core.common.businessentities.gluster.GlusterHookStatus status ) ;
protected org.ovirt.engine.core.common.scheduling.AffinityGroup getNewAffinityGroup ( ) { org.ovirt.engine.core.common.scheduling.AffinityGroup affinityGroup = super . getNewAffinityGroup ( ) ; affinityGroup.setEntityIds ( new java.util.ArrayList < org.ovirt.engine.core.compat.Guid > ( ) ) ; affinityGroup.getEntityIds ( ) . add ( getParentEntity ( ) . getId ( ) ) ; return affinityGroup ; }
protected org.ovirt.engine.core.bll.DetachActionGroupsFromRoleCommand < ? extends org.ovirt.engine.core.common.action.ActionGroupsToRoleParameter > generateCommand ( ) { return new org.ovirt.engine.core.bll.DetachActionGroupsFromRoleCommand ( getParams ( ) ) ; }
private org.ovirt.engine.core.common.businessentities.Cluster getCluster ( boolean glusterEnabled ) { org.ovirt.engine.core.common.businessentities.Cluster cluster = new org.ovirt.engine.core.common.businessentities.Cluster ( ) ; cluster.setId ( clusterId ) ; cluster.setVirtService ( false ) ; cluster.setGlusterService ( glusterEnabled ) ; cluster.setCompatibilityVersion ( Version.v3_1 ) ; return cluster ; }
public boolean isManagemet ( ) { return org.ovirt.engine.core.compat.StringHelper.stringsEqual ( getNetwork ( ) . getname ( ) , org.ovirt.engine.ui.uicommonweb.models.datacenters.NetworkModel.ENGINE_NETWORK ) ; }
private org.ovirt.engine.core.common.businessentities.vm_pools mockVmPools ( ) { org.ovirt.engine.core.common.businessentities.vm_pools vmPools = new org.ovirt.engine.core.common.businessentities.vm_pools ( ) ; vmPools.setvm_pool_name ( "simplePoolName" ) ; vmPools.setvds_group_id ( vdsGroupId ) ; vmPools.setvm_pool_id ( vmPoolId ) ; return vmPools ; }
public void canDoActionFailsWithDuplicateBricks ( ) { cmd = org.mockito.Mockito.spy ( createTestCommand ( volumeId2 , getBricks ( volumeId2 , 1 , true ) , 2 , 0 ) ) ; prepareMocks ( cmd ) ; org.junit.Assert.assertFalse ( cmd.canDoAction ( ) ) ; }
public void testClusterAppliedBeforeConfig ( ) { setupClusterWithSerialNumber ( SerialNumberPolicy.VM_ID , null ) ; setupConfigWithSerialNumber ( SerialNumberPolicy.CUSTOM , org.ovirt.engine.core.vdsbroker.vdsbroker.VmSerialNumberBuilderTest.CUSTOM_CONFIG_SERIAL ) ; assertSerialNumber ( org.ovirt.engine.core.vdsbroker.vdsbroker.VmSerialNumberBuilderTest.VM_ID.toString ( ) ) ; }
public static java.util.List < org.ovirt.engine.core.aaa.DirectoryUser > findPrincipalsByQuery ( final org.ovirt.engine.core.extensions.mgr.ExtensionProxy extension , final java.lang.String namespace , final java.lang.String query ) { return org.ovirt.engine.core.aaa.AuthzUtils.queryPrincipals ( extension , namespace , org.ovirt.engine.core.aaa.SearchQueryParsingUtils.generateQueryMap ( query , Authz.QueryEntity.PRINCIPAL ) , false ) ; }
public void sendMessage ( byte [ ] message ) { send ( new org.ovirt.vdsm.jsonrpc.client.reactors.stomp.impl.Message ( ) . message ( ) . withHeader ( org.ovirt.vdsm.jsonrpc.client.reactors.stomp.impl.Message.HEADER_DESTINATION , org.ovirt.vdsm.jsonrpc.client.reactors.stomp.RESPONSE_QUEUE ) . withContent ( new java.lang.String ( message , org.ovirt.vdsm.jsonrpc.client.utils.JsonUtils.UTF8 ) ) . build ( ) ) ; }
public void validateNonExternalStepFails ( ) throws java.lang.Exception { setupMock ( ) ; parameters.setJobId ( org.ovirt.engine.core.bll.EndExternalStepCommandTest.jobId ) ; parameters.setId ( org.ovirt.engine.core.bll.EndExternalStepCommandTest.nonExternalStepId ) ; org.junit.Assert.assertTrue ( ( ! ( command.validate ( ) ) ) ) ; }
public void onSuccess ( java.lang.Object nothing , java.lang.Object returnValue ) { org.ovirt.engine.core.common.businessentities.VmTemplate baseTemplate = ( ( org.ovirt.engine.core.common.businessentities.VmTemplate ) ( returnValue ) ) ; org.ovirt.engine.ui.uicommonweb.models.templates.TemplateWithVersion templateCouple = new org.ovirt.engine.ui.uicommonweb.models.templates.TemplateWithVersion ( baseTemplate , template ) ; setReadOnlyTemplateWithVersion ( templateCouple ) ; }
public abstract void addColumn ( com.google.gwt.user.cellview.client.Column < T , ? > column , org.ovirt.engine.ui.common.widget.table.header.SafeHtmlHeader header , java.lang.String width ) ;
public void setKsmPolicyForNuma ( java.lang.Boolean ksmPolicyForNumaFlag ) { if ( ksmPolicyForNumaFlag == null ) { return ; } org.ovirt.engine.ui.uicommonweb.models.clusters.ClusterModel.KsmPolicyForNuma ksmPolicyForNuma = org.ovirt.engine.ui.uicommonweb.models.clusters.ClusterModel.KsmPolicyForNuma.shareAcrossNumaNodes ; if ( ksmPolicyForNumaFlag == false ) { ksmPolicyForNuma = org.ovirt.engine.ui.uicommonweb.models.clusters.ClusterModel.KsmPolicyForNuma.shareInsideEachNumaNode ; } getKsmPolicyForNumaSelection ( ) . setSelectedItem ( ksmPolicyForNuma ) ; return ; }
public boolean Match ( org.ovirt.engine.core.common.businessentities.VDS source ) { return source.getstatus ( ) . equals ( status ) ; }
public java.lang.String getValue ( org.ovirt.engine.core.common.businessentities.VmTemplate object ) { return java.lang.String.valueOf ( object.getDiskList ( ) . size ( ) ) ; }
public java.lang.String renderNullSafe ( java.lang.Object object ) { return ( ( org.ovirt.engine.core.common.businessentities.VDSGroup ) ( object ) ) . getname ( ) ; }
public void markAsValid ( ) { if ( editorStateValid ) { super . markAsValid ( ) ; } label.setEnabled ( true ) ; contentWidgetContainerTooltip.setText ( contentWidgetContainerConfiguredTooltip ) ; contentWidgetContainerTooltip.reconfigure ( ) ; }
public int compare ( org.ovirt.engine.ui.uicommonweb.models.clusters.ClusterNetworkModel o1 , org.ovirt.engine.ui.uicommonweb.models.clusters.ClusterNetworkModel o2 ) { return o1.getCluster ( ) . getname ( ) . compareTo ( o2.getCluster ( ) . getname ( ) ) ; }
protected java.lang.String renderNullSafe ( java.lang.Object object ) { return ( ( org.ovirt.engine.core.common.businessentities.network.Network ) ( object ) ) . getName ( ) ; }
public org.ovirt.engine.api.v3.servers.V3VmNicsServer getNicsResource ( ) { return new org.ovirt.engine.api.v3.servers.V3VmNicsServer ( delegate.getNicsResource ( ) ) ; }
public void setIsLogedin ( boolean value ) { isLoggedIn = value ; OnPropertyChanged ( new org.ovirt.engine.core.compat.PropertyChangedEventArgs ( "IsLogedin" ) ) ; }
protected java.lang.String cdPathWindowsToLinux ( java.lang.String url ) { return org.ovirt.engine.core.bll.storage.disk.image.ImagesHandler.cdPathWindowsToLinux ( url , org.ovirt.engine.core.bll.RunVmCommand.getVm ( ) . getStoragePoolId ( ) , org.ovirt.engine.core.bll.RunVmCommand.getVdsId ( ) ) ; }
public void calculateNetworkImplementationDetailsNetworkIsSyncWithMtuUnset ( ) throws java.lang.Exception { org.ovirt.engine.core.common.businessentities.VdsNetworkInterface iface = createNetworkDevice ( ) ; calculateNetworkImplementationDetailsAndAssertSync ( iface , true , iface.getNetworkName ( ) , iface.isBridged ( ) , 0 , iface.getVlanId ( ) ) ; }
public void serializeNetwork ( ) { org.ovirt.engine.core.common.businessentities.Network net = new org.ovirt.engine.core.common.businessentities.Network ( ) ; org.ovirt.engine.core.utils.serialization.json.JsonObjectSerializer serialezer = new org.ovirt.engine.core.utils.serialization.json.JsonObjectSerializer ( ) ; junit.framework.Assert.assertTrue ( ( ( serialezer.serialize ( net ) . length ( ) ) > 0 ) ) ; }
public static boolean IsActiveStorageDomain ( org.ovirt.engine.core.common.businessentities.storage_domains storageDomain ) { boolean isActive = ( ( storageDomain.getstatus ( ) ) != null ) && ( ( storageDomain.getstatus ( ) ) == ( org.ovirt.engine.core.common.businessentities.StorageDomainStatus.Active ) ) ; return isActive ; }
public void onSuccess ( java.lang.Object parentModel , java.lang.Object returnValue ) { model.getIsVirtioScsiEnabled ( ) . setEntity ( ( ( java.lang.Boolean ) ( returnValue ) ) ) ; callAfterUpdates ( ) ; }
public void eventRaised ( org.ovirt.engine.ui.uicompat.Event ev , java.lang.Object sender , org.ovirt.engine.ui.uicompat.EventArgs args ) { timeZoneEditor.setEnabled ( ( ( java.lang.Boolean ) ( model.getTimeZoneEnabled ( ) . getEntity ( ) ) ) ) ; }
private java.util.List < org.ovirt.engine.core.common.businessentities.pm.FenceAgent > getFenceAgents ( ) { return getBackendCollection ( QueryType.GetFenceAgentsByVdsId , new org.ovirt.engine.core.common.queries.IdQueryParameters ( new org.ovirt.engine.core.compat.Guid ( hostId ) ) ) ; }
private void updateActionAvailability ( ) { org.ovirt.engine.core.common.businessentities.VDS vds = getEntity ( ) ; getSyncStorageDevicesCommand ( ) . setIsExecutionAllowed ( ( ( vds.getStatus ( ) ) == ( org.ovirt.engine.core.common.businessentities.VDSStatus.Up ) ) ) ; }
public com.google.gwt.safehtml.shared.SafeHtml getTooltip ( org.ovirt.engine.core.common.businessentities.storage.Disk object ) { if ( object.getReadOnly ( ) ) { return com.google.gwt.safehtml.shared.SafeHtmlUtils.fromSafeConstant ( org.ovirt.engine.ui.common.widget.uicommon.disks.DisksViewColumns.constants.readOnly ( ) ) ; } return null ; }
protected org.ovirt.engine.core.utils.ovf.xml.XmlNode selectSingleNode ( org.ovirt.engine.core.utils.ovf.xml.XmlNode node , java.lang.String pattern , org.ovirt.engine.core.utils.ovf.xml.XmlNamespaceManager ns ) { this . lastReadEntry = pattern ; if ( ns == null ) { return node.SelectSingleNode ( pattern ) ; } return node.SelectSingleNode ( pattern , ns ) ; }
public void onSuccess ( java.lang.Object model , java.lang.Object returnValue ) { hostModel.setPmProxyPreferences ( ( ( java.lang.String ) ( returnValue ) ) ) ; }
public void testGetOsFamily ( ) throws java.lang.Exception { org.junit.Assert.assertTrue ( OsRepositoryImpl.INSTANCE.getOsFamily ( 777 ) . equals ( "linux" ) ) ; }
org.ovirt.engine.ui.webadmin.widget.host.BondPanel createBondPanel ( org.ovirt.engine.ui.uicommonweb.models.hosts.HostInterfaceLineModel lineModel ) { org.ovirt.engine.ui.webadmin.widget.host.BondPanel panel = new org.ovirt.engine.ui.webadmin.widget.host.BondPanel ( lineModel ) ; panel.setWidth ( "100%" ) ; panel.setHeight ( "100%" ) ; return panel ; }
private void addVolumeToDb ( final org.ovirt.engine.core.common.businessentities.gluster.GlusterVolumeEntity createdVolume ) { createdVolume.setClusterId ( getVdsGroupId ( ) ) ; org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getGlusterVolumeDao ( ) . save ( createdVolume ) ; }
protected org.ovirt.engine.api.model.Network getEntity ( int index ) { return org.ovirt.engine.api.restapi.resource.AbstractBackendNetworksResourceTest.setUpEntityExpectations ( control.createMock ( org.ovirt.engine.api.model.Network.class ) , false , index ) ; }
private boolean isVmMigratingToThisVds ( ) { return ( ( dbVm.getStatus ( ) ) == ( org.ovirt.engine.core.common.businessentities.VMStatus.MigratingFrom ) ) && ( getVdsManager ( ) . getVdsId ( ) . equals ( dbVm.getMigratingToVds ( ) ) ) ; }
private void stubDaos ( ) { mockStatistics ( ) ; mockVmDynamic ( ) ; mockVmStatic ( true ) ; mockVdsDao ( ) ; }
public void onSuccess ( java.lang.Object model , java.lang.Object returnValue ) { java.util.Collection < org.ovirt.engine.core.common.businessentities.VmTemplate > vmTemplates = ( ( java.util.Collection < org.ovirt.engine.core.common.businessentities.VmTemplate > ) ( returnValue ) ) ; prefetchIcons ( vmTemplates ) ; }
protected boolean isSlave ( org.ovirt.engine.core.common.businessentities.VdsNetworkInterface iface , java.lang.String masterName ) { return ( ( iface.getBondName ( ) ) != null ) && ( iface.getBondName ( ) . equals ( masterName ) ) ; }
protected boolean canDoAction ( ) { Q validator = getProfileValidator ( ) ; return ( ( validate ( validator.profileIsSet ( ) ) ) && ( validate ( validator.profileExists ( ) ) ) ) && ( validate ( validator.isLastProfileInParentEntity ( ) ) ) ; }
public void setTitle ( java.lang.String title ) { org.ovirt.engine.ui.common.view.popup.AbstractModelBoundPopupView.asWidget ( ) . setHeader ( new com.google.gwt.user.client.ui.Label ( title ) ) ; }
public void setUpBase ( ) { org.mockito.MockitoAnnotations.initMocks ( this ) ; org.ovirt.engine.core.bll.BaseCommandTest.injectorRule.bind ( javax.transaction.TransactionManager.class , transactionManager ) ; org.ovirt.engine.core.utils.threadpool.ThreadPoolUtil.setExecutorService ( java.util.concurrent.Executors.newFixedThreadPool ( 1 ) ) ; }
public void excuteCommandTest ( ) { command.executeCommand ( ) ; org.junit.Assert.assertEquals ( command.getAuditLogTypeValue ( ) , AuditLogType.USER_ADDED_AFFINITY_GROUP ) ; }
protected org.ovirt.engine.core.common.businessentities.VmStatic getUpdatable ( java.lang.String isoPath ) { org.ovirt.engine.core.common.businessentities.VmStatic updatable = getEntity ( org.ovirt.engine.core.common.businessentities.VM.class , VdcQueryType.GetVmByVmId , new org.ovirt.engine.core.common.queries.GetVmByVmIdParameters ( parentId ) , parentId.toString ( ) ) . getStaticData ( ) ; updatable.setIsoPath ( isoPath ) ; return updatable ; }
public void init ( javax.servlet.ServletConfig config ) throws javax.servlet.ServletException { super . init ( config ) ; pkiResources = org.ovirt.engine.core.utils.PKIResources.getInstance ( ) ; }
public org.ovirt.engine.ui.uicommonweb.models.datacenters.EditNetworkModel flush ( ) { org.ovirt.engine.ui.uicommonweb.models.datacenters.EditNetworkModel model = driver.flush ( ) ; model.getProfiles ( ) . setItems ( profilesEditor.flush ( ) . getItems ( ) ) ; return model ; }
public void init ( ) { startProgress ( null ) ; setTitle ( org.ovirt.engine.ui.uicompat.ConstantsManager.getInstance ( ) . getConstants ( ) . importVirtualMachinesTitle ( ) ) ; setHelpTag ( HelpTag.import_virtual_machine ) ; setHashName ( "import_virtual_machine" ) ; initDataCenters ( ) ; }
private void initDestStorageDomain ( ) { org.ovirt.engine.core.common.businessentities.storage_domains destDomain = new org.ovirt.engine.core.common.businessentities.storage_domains ( ) ; destDomain.setstatus ( StorageDomainStatus.Active ) ; destDomain.setstorage_type ( StorageType.NFS ) ; org.mockito.Mockito.doReturn ( destDomain ) . when ( command ) . getStorageDomain ( ) ; }
private void createDummyPolicyUnit ( ) { dummyPolicyUnit = new org.ovirt.engine.core.common.scheduling.PolicyUnit ( ) ; dummyPolicyUnit.setId ( org.ovirt.engine.core.compat.Guid.newGuid ( ) ) ; dummyPolicyUnit.setName ( "Dummy policy unit" ) ; dummyPolicyUnit.setBalanceImplemeted ( true ) ; }
private void expectGetLunsMap ( ) { for ( org.ovirt.engine.core.compat.Guid GUID : org.ovirt.engine.core.bll.GetLunsByVgIdQueryTest.GUIDS ) { expectGetLunsMap ( GUID.toString ( ) , GUID.toString ( ) ) ; } }
protected org.ovirt.engine.core.common.businessentities.DiskImage CloneDiskImage ( org.ovirt.engine.core.compat.Guid newImageGuid ) { return cloneDiskImage ( newImageGuid , getDiskImage ( ) ) ; }
java.util.Map < java.lang.String , java.lang.String > allocate ( org.ovirt.engine.core.common.businessentities.network.Network network , org.ovirt.engine.core.common.businessentities.network.VnicProfile vnicProfile , org.ovirt.engine.core.common.businessentities.network.VmNic nic ) ;
public void add ( ) { runAddAndVerify ( org.ovirt.engine.core.bll.network.VmInterfaceManagerTest.createNewInterface ( ) , org.ovirt.engine.core.bll.network.VmInterfaceManagerTest.OS_ID , true ) ; }
protected java.lang.String getActiveTabHistoryToken ( ) { return this . activeTabHistoryToken ; }
public void setVmOs ( org.ovirt.engine.core.common.businessentities.VmOsType value ) { this . vmStatic.setOs ( value ) ; }
org.ovirt.engine.core.compat.Guid persistAsyncTaskPlaceHolder ( org.ovirt.engine.core.common.action.VdcActionType parentCommand ) ;
protected void vdsNonOperational ( org.ovirt.engine.core.common.businessentities.VDS vds , org.ovirt.engine.core.common.businessentities.NonOperationalReason reason , java.util.Map < java.lang.String , java.lang.String > customLogValues ) { org.ovirt.engine.core.vdsbroker.ResourceManager.getInstance ( ) . getEventListener ( ) . vdsNonOperational ( vds.getId ( ) , reason , true , Guid.Empty , customLogValues ) ; }
public void setElapsedTime ( java.lang.Double elapsedTime ) { this . elapsedTime = elapsedTime ; setRoundedElapsedTime ( elapsedTime ) ; }
public java.lang.String getCandidateDisplayName ( ) { return getVmTemplateData ( ) . getname ( ) ; }
private void isAutoAssign_EntityChanged ( java.lang.Object sender , org.ovirt.engine.ui.uicompat.EventArgs args ) { if ( ( getIsAutoAssign ( ) . getEntity ( ) ) == false ) { getDefaultHost ( ) . setIsChangeable ( true ) ; } }
private java.util.List < org.ovirt.engine.core.common.businessentities.StoragePool > searchStoragePool ( ) { return genericSearch ( org.ovirt.engine.core.bll.SearchQuery.getDbFacade ( ) . getStoragePoolDao ( ) , true , null ) ; }
private org.ovirt.engine.core.common.businessentities.Network createNewNetwork ( boolean isVmNetwork , java.lang.String networkName ) { org.ovirt.engine.core.common.businessentities.Network network = new org.ovirt.engine.core.common.businessentities.Network ( ) ; network.setVmNetwork ( isVmNetwork ) ; network.setname ( networkName ) ; return network ; }
protected abstract void initHeader ( org.ovirt.engine.ui.webadmin.ApplicationConstants constants ) ;
protected org.ovirt.engine.core.common.vdscommands.CreateVmVDSCommandParameters buildCreateVmParameters ( ) { org.ovirt.engine.core.common.vdscommands.CreateVmVDSCommandParameters parameters = new org.ovirt.engine.core.common.vdscommands.CreateVmVDSCommandParameters ( org.ovirt.engine.core.bll.RunVmCommand.getVdsId ( ) , org.ovirt.engine.core.bll.RunVmCommand.getVm ( ) ) ; return parameters ; }
public void testJsonDiskDescription ( ) throws java.io.IOException { disk.setDiskAlias ( "DiskAlias" ) ; disk.setDiskDescription ( "DiskDescription" ) ; org.ovirt.engine.core.bll.MetadataDiskDescriptionHandlerTest.assertDiskDescriptionMap ( disk ) ; }
public void defaultEndtime ( ) { final long epochOffset = 0 ; final org.ovirt.engine.core.dal.dbbroker.auditloghandling.TimeoutBaseTest.TestTimeoutBase t = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.TimeoutBaseTest.TestTimeoutBase ( ) ; org.junit.Assert.assertEquals ( epochOffset , t.getEndTime ( ) . getTime ( ) ) ; }
public void onSuccess ( java.lang.Object model , java.lang.Object ReturnValue ) { setItems ( ( ( java.util.Collection < org.ovirt.engine.core.common.businessentities.VM > ) ( ( ( org.ovirt.engine.core.common.queries.VdcQueryReturnValue ) ( ReturnValue ) ) . getReturnValue ( ) ) ) ) ; }
public void setEntity ( org.ovirt.engine.core.common.businessentities.network.NetworkView value ) { super . setEntity ( value ) ; }
public void OnSuccess ( java.lang.Object target , java.lang.Object returnValue ) { if ( ! ( org.ovirt.engine.ui.uicommonweb.models.vms.DiskModel.maxDiskSizeInited ) ) { org.ovirt.engine.ui.uicommonweb.models.vms.DiskModel.maxDiskSizeInited = true ; org.ovirt.engine.ui.uicommonweb.models.vms.DiskModel.maxDiskSize = ( ( java.lang.Integer ) ( returnValue ) ) ; } }
public void getUsbPolicyUsbTypeNative ( ) { org.ovirt.engine.api.model.Usb usb = new org.ovirt.engine.api.model.Usb ( ) ; usb.setEnabled ( true ) ; usb.setType ( UsbType.NATIVE ) ; assertEquals ( org.ovirt.engine.api.restapi.types.VmMapper.getUsbPolicyOnCreate ( usb ) , UsbPolicy.ENABLED_NATIVE ) ; }
public void setActualSize ( double value ) { actualSize = value ; }
public boolean disconnectStorageFromDomainByVdsId ( org.ovirt.engine.core.common.businessentities.storage_domains storageDomain , org.ovirt.engine.core.compat.Guid vdsId ) { return runConnectionStorageToDomain ( storageDomain , vdsId , VDSCommandType.DisconnectStorageServer.getValue ( ) ) ; }
public void setVdsGroupCompatibilityVersion ( org.ovirt.engine.core.compat.Version value ) { this . vdsGroupCompatibilityVersion = value ; }
public void onSuccess ( java.lang.Object model , java.lang.Object returnValue ) { networkProfiles = ( ( java.util.List < org.ovirt.engine.core.common.businessentities.network.VnicProfileView > ) ( returnValue ) ) ; initNetworksList ( ) ; initClusterAndStorage ( dataCenter ) ; }
public abstract < T > T GetValue ( org.ovirt.engine.core.common.config.ConfigValues configValue , java.lang.String version ) ;
private org.ovirt.engine.core.bll.validator.NetworkAttachmentValidator createNetworkAttachmentValidator ( org.ovirt.engine.core.common.businessentities.network.NetworkAttachment attachmentToValidate ) { return new org.ovirt.engine.core.bll.validator.NetworkAttachmentValidator ( attachmentToValidate , host , new org.ovirt.engine.core.bll.network.VmInterfaceManager ( ) , networkClusterDao , networkDao , vdsDao , vmDao ) ; }
public void init ( final java.util.List < org.ovirt.engine.core.common.businessentities.VM > externalVms , final org.ovirt.engine.core.compat.Guid storageDomainId ) { super . setItems ( new org.ovirt.engine.ui.frontend.INewAsyncCallback ( ) { @ java.lang.Override public void onSuccess ( java.lang.Object model , java.lang.Object returnValue ) { doInit ( storageDomainId ) ; } } , externalVms ) ; }
public void onSuccess ( java.lang.Object result ) { java.util.ArrayList < org.ovirt.engine.core.common.businessentities.ExternalDiscoveredHost > hosts = ( ( java.util.ArrayList < org.ovirt.engine.core.common.businessentities.ExternalDiscoveredHost > ) ( result ) ) ; org.ovirt.engine.ui.uicommonweb.models.ListModel externalDiscoveredHostsListModel = getExternalDiscoveredHosts ( ) ; externalDiscoveredHostsListModel.setItems ( hosts ) ; externalDiscoveredHostsListModel.setIsChangeable ( true ) ; }
public boolean isInitialized ( ) { return this . vmStatic.getis_initialized ( ) ; }
public void updateAll ( java.lang.String procedureName , java.util.Collection < T > entities ) { for ( T entity : entities ) { update ( entity , ( procedureName == null ? org.ovirt.engine.core.dao.MassOperationsGenericDaoDbFacade.getProcedureNameForUpdate ( ) : procedureName ) ) ; } }
public java.util.Collection < java.lang.String > findProblematicMacs ( org.ovirt.engine.core.common.businessentities.VM vm ) { vm.setClusterId ( clusterId ) ; return externalVmMacsFinder.findExternalMacAddresses ( vm , null ) ; }
public void areAllVfsFreeFalseHasNetwork ( ) { freeVfCommon ( 2 , 0 , 0 , 3 , 0 ) ; org.junit.Assert.assertFalse ( networkDeviceHelper.areAllVfsFree ( nic ) ) ; }
public void setStorage ( java.lang.String storage ) { getStorageStaticData ( ) . setstorage ( storage ) ; }
public void setUp ( ) throws java.lang.Exception { org.ovirt.engine.core.utils.ThreadLocalParamsContainer.setHttpSessionId ( "session" ) ; setUpMockQueryParameters ( ) ; setUpSpyQuery ( ) ; }
public static java.lang.String getDefaultBondingOption ( ) { return "mode=802.3ad miimon=150" ; }
public void OnSuccess ( java.lang.Object target , java.lang.Object returnValue ) { org.ovirt.engine.ui.uicommonweb.models.vms.UnitVmModel model = ( ( org.ovirt.engine.ui.uicommonweb.models.vms.UnitVmModel ) ( target ) ) ; java.util.ArrayList < java.lang.String > images = ( ( java.util.ArrayList < java.lang.String > ) ( returnValue ) ) ; setImagesToModel ( model , images ) ; }
public void setup ( ) { dbFacade = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) ; initAgents ( ) ; mockDbFacades ( ) ; initCommand ( ) ; mockBackend ( ) ; }
public org.ovirt.engine.api.model.StorageConnection update ( org.ovirt.engine.api.model.StorageConnection connection ) { validateEnums ( org.ovirt.engine.api.model.StorageConnection.class , connection ) ; return performUpdate ( connection , new org.ovirt.engine.api.restapi.resource.QueryIdResolver ( org.ovirt.engine.core.common.queries.VdcQueryType.GetStorageServerConnectionById , org.ovirt.engine.core.common.queries.StorageServerConnectionQueryParametersBase.class ) , VdcActionType.UpdateStorageServerConnection , new org.ovirt.engine.api.restapi.resource.BackendStorageServerConnectionResource.UpdateParametersProvider ( ) ) ; }
private void addStorageDomainOvfInfoToDb ( org.ovirt.engine.core.compat.Guid diskId ) { org.ovirt.engine.core.common.businessentities.StorageDomainOvfInfo storageDomainOvfInfo = new org.ovirt.engine.core.common.businessentities.StorageDomainOvfInfo ( org.ovirt.engine.core.bll.CreateOvfVolumeForStorageDomainCommand.getStorageDomainId ( ) , null , diskId , org.ovirt.engine.core.common.businessentities.StorageDomainOvfInfoStatus.DISABLED , null ) ; getStorageDomainOvfInfoDao ( ) . save ( storageDomainOvfInfo ) ; }
public void testGet ( ) throws java.lang.Exception { setUriInfo ( setUpBasicUriExpectations ( ) ) ; setUpEntityQueryExpectations ( 1 ) ; control.replay ( ) ; org.ovirt.engine.api.model.Watchdog watchdog = resource.get ( ) ; verifyModel ( watchdog ) ; }
void setTooltipText ( java.lang.String tooltipText ) { tooltip.setText ( tooltipText ) ; tooltip.reconfigure ( ) ; }
public void testCleanNotExpiredUsersSessionsNoUsers ( ) { org.ovirt.engine.core.dao.DbUserDAO dbUserDAOMcok = initDataForClearTest ( org.ovirt.engine.core.bll.session.SessionDataContainerTest.TEST_KEY ) ; container.cleanExpiredUsersSessions ( ) ; org.junit.Assert.assertNotNull ( "Get should return the value since the session was not removed" , container.GetData ( org.ovirt.engine.core.bll.session.SessionDataContainerTest.TEST_SESSION_ID , org.ovirt.engine.core.bll.session.SessionDataContainerTest.TEST_KEY ) ) ; org.mockito.Mockito.verifyZeroInteractions ( dbUserDAOMcok ) ; }
public void setTotalDiskSize ( java.lang.Integer value ) { value = ( value == null ) ? 0 : value ; if ( ! ( totalDiskSize.equals ( value ) ) ) { totalDiskSize = value ; OnPropertyChanged ( new org.ovirt.engine.core.compat.PropertyChangedEventArgs ( "TotalDiskSize" ) ) ; } }
public boolean eval ( org.ovirt.engine.core.common.businessentities.Network n ) { return n.getname ( ) . equals ( getInterface ( ) . getNetworkName ( ) ) ; }
protected void updateDisksFromDb ( org.ovirt.engine.core.common.businessentities.VmTemplate t ) { org.ovirt.engine.core.bll.VmTemplateHandler.UpdateDisksFromDb ( t ) ; }
public void finalize ( ) { close ( ) ; }
public void setClientIp ( java.lang.String clientIp ) { if ( ! ( java.util.Objects.equals ( clientIp , clientIp ) ) ) { this . clientIp = clientIp ; onPropertyChanged ( new org.ovirt.engine.ui.uicompat.PropertyChangedEventArgs ( "ClientIp" ) ) ; } }
protected boolean isDiskExist ( org.ovirt.engine.core.common.businessentities.storage.Disk disk ) { org.ovirt.engine.core.bll.validator.storage.DiskValidator diskValidator = getDiskValidator ( disk ) ; return ( validate ( diskValidator.isDiskExists ( ) ) ) && ( validate ( diskValidator.isDiskAttachedToVm ( org.ovirt.engine.core.bll.storage.disk.AbstractDiskVmCommand.getVmId ( ) ) ) ) ; }
protected com.google.gwt.editor.client.EditorVisitor getEditorVisitor ( ) { if ( ( visitor ) == null ) { visitor = new org.ovirt.engine.ui.common.editor.UiCommonEditorVisitor < T > ( getEventMap ( ) , getOwnerModels ( ) ) ; } return visitor ; }
public void onSuccess ( java.lang.Object model , java.lang.Object returnValue ) { java.util.List < org.ovirt.engine.core.common.businessentities.gluster.StorageDevice > devices = ( ( java.util.List < org.ovirt.engine.core.common.businessentities.gluster.StorageDevice > ) ( returnValue ) ) ; java.util.Collections.sort ( devices , new org.ovirt.engine.ui.uicommonweb.Linq.StorageDeviceComparer ( ) ) ; setItems ( devices ) ; }
public void formatStringTest4 ( ) { testMessages.addFallback ( DynamicMessageKey.APPLICATION_TITLE , "Testing 123: {0}.{1}.{0}" ) ; java.lang.String result = testMessages.formatString ( DynamicMessageKey.APPLICATION_TITLE , "1" , "2" , "3" ) ; org.junit.Assert.assertNotNull ( "There should be a result" ) ; org.junit.Assert.assertEquals ( "Result should be 'Testing 123: 1.1.1'" , "Testing 123: 1.2.1" , result ) ; }
public void setBalloonEnabled ( boolean isBallonEnabled ) { balloonEnabled = isBallonEnabled ; OnPropertyChanged ( new org.ovirt.engine.core.compat.PropertyChangedEventArgs ( "is_balloon_enabled" ) ) ; }
public void setForceHelp ( java.lang.String forceHelpText ) { boolean isForceHelpNonEmpty = forceHelpText != null ; if ( isForceHelpNonEmpty ) { geoRepForceHelpIcon.setText ( org.ovirt.engine.ui.webadmin.section.main.view.popup.gluster.GeoRepActionConfirmPopUpView.templates.italicText ( forceHelpText ) ) ; } geoRepForceHelpIcon.setVisible ( isForceHelpNonEmpty ) ; }
protected boolean isVisible ( org.ovirt.engine.core.common.businessentities.gluster.GlusterTaskSupport value ) { return ( value.getAsyncTask ( ) . getType ( ) ) == ( org.ovirt.engine.core.common.asynctasks.gluster.GlusterTaskType.REMOVE_BRICK ) ; }
protected void onUpdateDocumentationBaseURL ( ) { }
protected boolean canDoAction ( ) { org.ovirt.engine.core.bll.validator.UpgradeHostValidator validator = new org.ovirt.engine.core.bll.validator.UpgradeHostValidator ( org.ovirt.engine.core.bll.hostdeploy.UpgradeHostInternalCommand.getDbFacade ( ) , org.ovirt.engine.core.bll.hostdeploy.UpgradeHostInternalCommand.getVds ( ) ) ; return ( validate ( validator.hostExists ( ) ) ) && ( validate ( validator.statusSupportedForHostUpgradeInternal ( ) ) ) ; }
public void eventRaised ( org.ovirt.engine.ui.uicompat.Event ev , java.lang.Object sender , org.ovirt.engine.ui.uicompat.EventArgs args ) { updateTabsData ( snapshotModel ) ; }
protected void processImages ( ) { processImages ( ( ! ( org.ovirt.engine.core.bll.ImportVmCommand.isImagesAlreadyOnTarget ( ) ) ) ) ; if ( getReturnValue ( ) . getVdsmTaskIdList ( ) . isEmpty ( ) ) { endVmRelatedOps ( ) ; } }
public void canDoActionFails ( ) { cmd = org.mockito.Mockito.spy ( createTestCommand ( volumeId1 , getBricks ( volumeId1 , 2 ) , 0 , 4 ) ) ; prepareMocks ( cmd ) ; org.junit.Assert.assertFalse ( cmd.canDoAction ( ) ) ; }
private void mockDaos ( ) { mockVmDao ( ) ; mockDiskImageDao ( ) ; mockStorageDomainDao ( ) ; mockStoragePoolDao ( ) ; mockValidators ( ) ; }
public void setvds_group_id ( org.ovirt.engine.core.compat.Guid value ) { this . mVdsStatic.setvds_group_id ( value ) ; OnPropertyChanged ( new org.ovirt.engine.core.compat.PropertyChangedEventArgs ( "vds_group_id" ) ) ; }
protected org.ovirt.engine.core.bll.validator.storage.DiskValidator getDiskValidator ( org.ovirt.engine.core.common.businessentities.storage.Disk disk ) { return new org.ovirt.engine.core.bll.validator.storage.DiskValidator ( disk , org.ovirt.engine.core.bll.storage.disk.AbstractDiskVmCommand.getVmDeviceUtils ( ) ) ; }
public void calculateNetworkImplementationDetailsEmptyNetworkName ( ) throws java.lang.Exception { org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface iface = createNetworkDevice ( ) ; iface.setNetworkName ( "" ) ; org.junit.Assert.assertNull ( "Network implementation details should not be filled." , org.ovirt.engine.core.utils.NetworkUtils.calculateNetworkImplementationDetails ( java.util.Collections.< java.lang.String , org.ovirt.engine.core.common.businessentities.network.Network > emptyMap ( ) , iface ) ) ; }
public static void getVmWatchdogTypes ( int osId , org.ovirt.engine.core.compat.Version version , org.ovirt.engine.ui.frontend.AsyncQuery asyncQuery ) { org.ovirt.engine.ui.frontend.Frontend.getInstance ( ) . runQuery ( VdcQueryType.OsRepository , new org.ovirt.engine.core.common.queries.OsQueryParameters ( org.ovirt.engine.core.common.queries.OsQueryParameters.OsRepositoryVerb.GetVmWatchdogTypes , osId , version ) , asyncQuery ) ; }
public org.ovirt.engine.core.common.businessentities.NonOperationalReason getNonOperationalReason ( ) { return org.ovirt.engine.core.common.businessentities.NonOperationalReason.forValue ( nonOperationalReason ) ; }
public org.ovirt.engine.core.common.action.VdcReturnValueBase logOff ( org.ovirt.engine.core.common.businessentities.aaa.DbUser userToLogoff ) { org.ovirt.engine.core.common.action.VdcActionParametersBase params = new org.ovirt.engine.core.common.action.VdcActionParametersBase ( ) ; params.setSessionId ( getEngineSessionId ( ) ) ; org.ovirt.engine.core.common.action.VdcReturnValueBase returnValue = getBackend ( ) . logoff ( params ) ; return returnValue ; }
private java.lang.String getProtocol ( ) { return urlobj.getProtocol ( ) ; }
public void setSELinuxEnforceMode ( java.lang.Integer value ) { this . selinuxEnforceMode = org.ovirt.engine.core.common.businessentities.SELinuxMode.fromValue ( value ) ; }
private void setEditPolicyCommand ( org.ovirt.engine.ui.uicommonweb.UICommand value ) { privateEditPolicyCommand = value ; }
org.ovirt.engine.core.aaa.AuthenticationResult authenticate ( java.lang.String name , java.lang.String password ) ;
private void localize ( org.ovirt.engine.ui.common.CommonApplicationConstants constants ) { isPluggedEditor.setLabel ( constants.activateVmDiskPopup ( ) ) ; }
public java.lang.Object call ( ) throws java.lang.Exception { _parser.cliEnvironmentSet ( "OVIRT_ENGINE/correlationId" , _correlationId ) ; return null ; }
public void setvms_cores_count ( java.lang.Integer value ) { this . mVdsDynamic.setvms_cores_count ( value ) ; OnPropertyChanged ( new org.ovirt.engine.core.compat.PropertyChangedEventArgs ( "vms_cores_count" ) ) ; }
public boolean match ( org.ovirt.engine.core.common.businessentities.StoragePool source ) { return ( source.getstatus ( ) ) == ( status ) ; }
public void setDiskStorageMap ( java.util.HashMap < org.ovirt.engine.core.compat.Guid , java.util.ArrayList < org.ovirt.engine.core.compat.Guid > > value ) { diskStorageMap = value ; OnPropertyChanged ( new org.ovirt.engine.core.compat.PropertyChangedEventArgs ( "DiskStorageMap" ) ) ; }
public void onSuccess ( java.lang.Object innerModel , java.lang.Object value ) { this . setDiskProfilesList ( ( ( java.util.List < org.ovirt.engine.core.common.businessentities.profiles.DiskProfile > ) ( ( ( org.ovirt.engine.core.common.queries.VdcQueryReturnValue ) ( value ) ) . getReturnValue ( ) ) ) ) ; }
protected void init ( ) { if ( ( org.ovirt.engine.core.bll.RunVmCommand.getVm ( ) ) != null ) { needsHostDevices = hostDeviceManager.checkVmNeedsDirectPassthrough ( org.ovirt.engine.core.bll.RunVmCommand.getVm ( ) ) ; } loadVmInit ( ) ; }
public void testGet ( ) { setUriInfo ( setUpBasicUriExpectations ( ) ) ; resource.setParent ( getCollectionResourceMock ( ) ) ; control.replay ( ) ; org.ovirt.engine.api.model.Hook hook = resource.get ( ) ; assertEquals ( org.ovirt.engine.api.restapi.resource.BackendHostHookResourceTest.EVENT_2_NAME , hook.getEventName ( ) ) ; }
public void eventRaised ( org.ovirt.engine.ui.uicompat.Event ev , java.lang.Object sender , org.ovirt.engine.ui.uicompat.EventArgs args ) { if ( handleItemsChangedEvent ( ) ) { updateData ( ) ; } }
public void eventRaised ( org.ovirt.engine.ui.uicompat.Event ev , java.lang.Object sender , org.ovirt.engine.ui.uicompat.EventArgs args ) { revealStorageView ( disk ) ; }
public void setupMocks ( ) { mockGlobalParameters ( ) ; setUpCommand ( ) ; mockVds ( ) ; mockDbDao ( ) ; command.init ( ) ; }
public void testDisksUsages ( ) { java.lang.Object [ ] disksUsages = org.ovirt.engine.core.vdsbroker.vdsbroker.VdsBrokerObjectsBuilderTest.initDisksUsageData ( ) ; java.util.Map < java.lang.String , java.lang.Object > map = org.ovirt.engine.core.vdsbroker.vdsbroker.VdsBrokerObjectsBuilderTest.setDisksUsage ( disksUsages ) ; org.ovirt.engine.core.vdsbroker.vdsbroker.VdsBrokerObjectsBuilderTest.validateDisksUsagesList ( org.ovirt.engine.core.vdsbroker.vdsbroker.VdsBrokerObjectsBuilderTest.getVmStatistics ( ) , disksUsages , map ) ; }
public java.lang.String toString ( ) { return ( "Host[" + ( ( mVdsStatic ) == null ? "null" : mVdsStatic.getVdsName ( ) ) ) + "]" ; }
public org.ovirt.engine.core.bll.ValidationResult statusSupportedForHostUpgrade ( ) { return org.ovirt.engine.core.bll.ValidationResult.failWith ( VdcBllMessages.VDS_CANNOT_INSTALL_STATUS_ILLEGAL ) . unless ( org.ovirt.engine.core.common.VdcActionUtils.canExecute ( java.util.Arrays.asList ( getHost ( ) ) , org.ovirt.engine.core.common.businessentities.VDS.class , VdcActionType.UpgradeHost ) ) ; }
public org.ovirt.engine.api.model.OpenstackVolumeAuthenticationKey update ( org.ovirt.engine.api.model.OpenstackVolumeAuthenticationKey resource ) { validateEnums ( org.ovirt.engine.api.model.OpenstackVolumeAuthenticationKey.class , resource ) ; return performUpdate ( resource , new org.ovirt.engine.api.restapi.resource.openstack.QueryIdResolver ( org.ovirt.engine.core.common.queries.VdcQueryType.GetLibvirtSecretById , org.ovirt.engine.core.common.queries.IdQueryParameters.class ) , VdcActionType.UpdateLibvirtSecret , new org.ovirt.engine.api.restapi.resource.openstack.BackendOpenStackVolumeAuthenticationKeyResource.UpdateParametersProvider ( ) ) ; }
public org.ovirt.engine.core.common.businessentities.VDS get ( org.ovirt.engine.core.compat.NGuid id ) { return get ( id , null , false ) ; }
public java.lang.String getVdsName ( ) { return this . mVdsStatic.getVdsName ( ) ; }
public java.lang.String getMessage ( org.ovirt.engine.ui.uicommonweb.models.hosts.network.NetworkItemModel < ? > op1 , org.ovirt.engine.ui.uicommonweb.models.hosts.network.NetworkItemModel < ? > op2 ) { return appendDetachNetworkSuggestion ( getVerb ( op1 ) , ( ( org.ovirt.engine.ui.uicommonweb.models.hosts.network.NetworkInterfaceModel ) ( op2 ) ) ) ; }
public org.ovirt.engine.core.compat.NGuid getMigratingToVds ( ) { return this . vmDynamic.getMigratingToVds ( ) ; }
public boolean isMacInUse ( java.lang.String mac ) { try ( org.ovirt.engine.core.utils.lock.AutoCloseableLock l = new org.ovirt.engine.core.utils.lock.AutoCloseableLock ( lockObj.readLock ( ) ) ) { checkIfInitialized ( ) ; return macsStorage.isMacInUse ( org.ovirt.engine.core.utils.MacAddressRangeUtils.macToLong ( mac ) ) ; } }
public java.util.List < org.ovirt.engine.core.common.businessentities.Disk > getAllForVm ( org.ovirt.engine.core.compat.Guid id ) { return getAllForVm ( id , null , false ) ; }
protected void proceedProxyReturnValue ( ) { if ( isRefreshStoragePool ( ) ) { super . proceedProxyReturnValue ( ) ; } else { proceedConnectProxyReturnValue ( ) ; } }
public java.lang.String getSearchString ( ) { return ( searchString ) + ( ( pagingSearchString ) == null ? "" : pagingSearchString ) ; }
public org.ovirt.engine.core.common.asynctasks.AsyncTaskType getTaskType ( ) { throw new java.lang.UnsupportedOperationException ( ) ; }
protected org.ovirt.engine.core.compat.Guid getStoragePoolIdFromSourceImageContainer ( ) { return org.ovirt.engine.core.bll.AddVmCommand.getVmTemplate ( ) . getstorage_pool_id ( ) . getValue ( ) ; }
private void doStop ( ) { reset ( ) ; cancel ( ) ; com.google.gwt.event.logical.shared.ValueChangeEvent.fire ( this , getRefreshRate ( ) ) ; }
public org.ovirt.engine.core.common.businessentities.VdsStatic get ( org.ovirt.engine.core.compat.Guid id ) { return getCallsHandler ( ) . executeRead ( "GetVdsStaticByVdsId" , new org.ovirt.engine.core.dao.VdsStaticDAODbFacadeImpl.VdsStaticRowMapper ( ) , getCustomMapSqlParameterSource ( ) . addValue ( "vds_id" , id ) ) ; }
protected void asyncSearch ( ) { super . asyncSearch ( ) ; setAsyncResult ( org.ovirt.engine.ui.frontend.Frontend.RegisterSearch ( getSearchString ( ) , SearchType.VmTemplate , getSearchPageSize ( ) ) ) ; setItems ( getAsyncResult ( ) . getData ( ) ) ; }
protected java.util.Map < org.ovirt.engine.core.compat.Guid , java.lang.String > getExclusiveLocks ( ) { return java.util.Collections.singletonMap ( org.ovirt.engine.core.bll.RestoreAllSnapshotsCommand.getVmId ( ) , LockingGroup.VM.name ( ) ) ; }
public void OnSuccess ( java.lang.Object model , java.lang.Object result ) { java.util.List < org.ovirt.engine.core.common.businessentities.VDS > hostList = ( ( java.util.List < org.ovirt.engine.core.common.businessentities.VDS > ) ( result ) ) ; hostList.add ( 0 , null ) ; getHostList ( ) . setItems ( hostList ) ; }
public void snapshotName ( ) { final org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBase b = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBase ( ) ; b.setSnapshotName ( org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBaseTest.NAME ) ; final java.lang.String s = b.getSnapshotName ( ) ; org.junit.Assert.assertEquals ( org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBaseTest.NAME , s ) ; }
public org.ovirt.engine.core.common.businessentities.StoragePoolStatus getRawValue ( org.ovirt.engine.core.common.businessentities.StoragePool object ) { return object.getstatus ( ) ; }
public native java.lang.String getPath ( ) ;
protected org.ovirt.engine.core.compat.Guid getExistingEntityId ( ) { return org.ovirt.engine.core.compat.Guid.createGuidFromStringDefaultEmpty ( "1115c1c6-cb15-4832-b2a4-023770607111" ) ; }
public void runMultipleAction ( final org.ovirt.engine.core.common.action.VdcActionType actionType , final java.util.ArrayList < org.ovirt.engine.core.common.action.VdcActionParametersBase > parameters , final org.ovirt.engine.ui.uicompat.IFrontendMultipleActionAsyncCallback callback , final java.lang.Object state ) { runMultipleAction ( actionType , parameters , false , callback , state , true ) ; }
private void mockVmDaoGetVm ( ) { org.mockito.Mockito.doReturn ( vmDao ) . when ( command ) . getVmDao ( ) ; org.mockito.Mockito.when ( vmDao.get ( org.mockito.Matchers.any ( org.ovirt.engine.core.compat.Guid.class ) ) ) . thenReturn ( vm ) ; }
public void setUserId ( final org.ovirt.engine.core.compat.NGuid value ) { mUserId = value.getValue ( ) ; }
private void postAction ( ) { resetData ( ) ; updateOptions ( ) ; }
private void mockVds ( ) { mockGetStorageDomainList ( 100 , 100 ) ; mockGetImagesList ( ) ; }
public void Executed ( org.ovirt.engine.ui.uicompat.FrontendMultipleActionAsyncResult result ) { org.ovirt.engine.ui.uicommonweb.models.disks.DiskListModel localModel = ( ( org.ovirt.engine.ui.uicommonweb.models.disks.DiskListModel ) ( result.getState ( ) ) ) ; localModel.StopProgress ( ) ; Cancel ( ) ; }
public static boolean getClusterDefaultCountThreadsAsCores ( ) { return false ; }
public java.lang.Void runInTransaction ( ) { processOldImageFromDb ( ) ; addDiskImageToDb ( newDiskImage , getCompensationContext ( ) ) ; setActionReturnValue ( newDiskImage ) ; setSucceeded ( true ) ; return null ; }
protected void setActionMessageParameters ( ) { addCanDoActionMessage ( VdcBllMessages.VAR__ACTION__REMOVE ) ; }
public void testBeanValidations ( ) { mockOsRepository ( ) ; org.junit.Assert.assertTrue ( createCommand ( initializeMock ( 1 , 1 ) ) . validateInputs ( ) ) ; }
public void onSuccess ( java.lang.Object returnValue ) { java.util.List < org.ovirt.engine.core.common.businessentities.Label > vmLabelsList = ( ( java.util.List < org.ovirt.engine.core.common.businessentities.Label > ) ( returnValue ) ) ; labelList.setItems ( allLabels ) ; labelList.setSelectedItems ( vmLabelsList ) ; }
public org.ovirt.engine.api.model.Network addParents ( org.ovirt.engine.api.model.Network model ) { model = org.ovirt.engine.api.restapi.resource.BackendNetworkHelper.addParents ( model ) ; model.setCluster ( new org.ovirt.engine.core.common.businessentities.Cluster ( ) ) ; model.getCluster ( ) . setId ( clusterId.toString ( ) ) ; return model ; }
public void remove ( java.util.Set < java.lang.String > memoryStates ) { removeMemoryVolumes ( memoryStates ) ; }
public org.ovirt.engine.core.searchbackend.IConditionValueAutoCompleter getFieldValueAutoCompleter ( java.lang.String fieldName ) { org.ovirt.engine.core.searchbackend.IConditionValueAutoCompleter completer = null ; if ( ( org.ovirt.engine.core.compat.StringHelper.EqOp ( fieldName , org.ovirt.engine.core.searchbackend.NetworkConditionFieldAutoCompleter.STP ) ) || ( org.ovirt.engine.core.compat.StringHelper.EqOp ( fieldName , org.ovirt.engine.core.searchbackend.NetworkConditionFieldAutoCompleter.VM_NETWORK ) ) ) { completer = new org.ovirt.engine.core.searchbackend.BitValueAutoCompleter ( ) ; } return completer ; }
static com.gwtplatform.mvp.client.TabData getTabData ( org.ovirt.engine.ui.common.uicommon.model.SearchableDetailModelProvider < org.ovirt.engine.core.common.businessentities.network.VmNetworkInterface , org.ovirt.engine.ui.uicommonweb.models.vms.VmListModel < java.lang.Void > , org.ovirt.engine.ui.uicommonweb.models.vms.VmInterfaceListModel > modelProvider ) { return new org.ovirt.engine.ui.common.widget.tab.ModelBoundTabData ( org.ovirt.engine.ui.webadmin.section.main.presenter.tab.virtualMachine.SubTabVirtualMachineNetworkInterfacePresenter.constants.virtualMachineNetworkInterfaceSubTabLabel ( ) , 2 , modelProvider ) ; }
private void doQueryClose ( org.ovirt.engine.api.extensions.ExtMap input , org.ovirt.engine.api.extensions.ExtMap output ) throws java.sql.SQLException { authorization.closeQuery ( input.get ( Authz.InvokeKeys.QUERY_OPAQUE , java.lang.String.class ) ) ; output.put ( Base.InvokeKeys.RESULT , Base.InvokeResult.SUCCESS ) ; output.put ( Authz.InvokeKeys.STATUS , Authz.Status.SUCCESS ) ; }
public int getVlanId ( ) { java.lang.Integer vlanId = getEntity ( ) . getvlan_id ( ) ; return vlanId == null ? 0 : vlanId ; }
public void sameBondNameSentTwice ( ) { org.ovirt.engine.core.common.businessentities.VdsNetworkInterface bond = createBond ( org.ovirt.engine.core.bll.network.host.SetupNetworksHelperTest.BOND_NAME , null ) ; mockExistingIfaces ( bond ) ; org.ovirt.engine.core.bll.network.host.SetupNetworksHelper helper = createHelper ( createParametersForNics ( bond , bond ) ) ; validateAndExpectViolation ( helper , VdcBllMessages.NETWORK_INTERFACES_ALREADY_SPECIFIED , bond.getName ( ) ) ; }
private void providers_SelectedItemChanged ( ) { org.ovirt.engine.core.common.businessentities.Provider provider = getProviders ( ) . getSelectedItem ( ) ; setEnableSearchHost ( ( provider != null ) ) ; getExternalHostName ( ) . setItems ( null ) ; getExternalHostName ( ) . setIsChangable ( false ) ; }
private void markHostDevicesAsUsed ( ) { if ( needsHostDevices ) { hostDeviceManager.allocateVmHostDevices ( org.ovirt.engine.core.bll.RunVmCommand.getVmId ( ) ) ; } }
public void newNetwork ( ) { if ( ( getWindow ( ) ) != null ) { return ; } final org.ovirt.engine.ui.uicommonweb.models.datacenters.NetworkModel networkModel = new org.ovirt.engine.ui.uicommonweb.models.datacenters.NewNetworkModel ( this ) ; setWindow ( networkModel ) ; networkModel.startProgress ( null ) ; initDcList ( networkModel ) ; }
public void noVdsGroup ( ) { simulateNetworkDoesNotExist ( ) ; simulateVdsGroupDoesNotExist ( ) ; assertCanDoActionFailure ( VdcBllMessages.VDS_CLUSTER_IS_NOT_VALID.toString ( ) ) ; }
public void testListWithCustomGlobalHeader ( ) { clustersService.list ( ) . send ( ) ; org.junit.Assert.assertEquals ( getLastRequestHeaders ( ) . get ( "my" ) . getFirst ( ) , "value" ) ; }
public void executed ( org.ovirt.engine.ui.uicompat.FrontendActionAsyncResult result1 ) { org.ovirt.engine.core.common.action.VdcReturnValueBase retVal = result1.getReturnValue ( ) ; postSaveAction ( null , ( ( retVal != null ) && ( retVal.getSucceeded ( ) ) ) ) ; }
protected org.ovirt.engine.core.common.businessentities.VDSGroup getVdsGroup ( ) { if ( ( org.ovirt.engine.core.bll.gluster.GlusterVolumeCommandBase.getGlusterVolume ( ) ) != null ) { setVdsGroupId ( org.ovirt.engine.core.bll.gluster.GlusterVolumeCommandBase.getGlusterVolume ( ) . getClusterId ( ) ) ; } return super . getVdsGroup ( ) ; }
public void setUp ( ) throws java.lang.Exception { super . setUp ( ) ; diskDao = prepareDAO ( dbFacade.getBaseDiskDao ( ) ) ; existingTemplate = dao.get ( org.ovirt.engine.core.dao.FixturesTool.TEMPLATE_IMAGE_ID ) ; }
public abstract boolean equalValues ( org.ovirt.engine.core.common.businessentities.qos.QosBase other ) ;
protected org.ovirt.engine.core.common.businessentities.Snapshot.SnapshotType determineSnapshotType ( ) { return org.ovirt.engine.core.bll.CreateAllSnapshotsFromVmCommand.isInternalExecution ( ) ? org.ovirt.engine.core.bll.CreateAllSnapshotsFromVmCommand.getParameters ( ) . getSnapshotType ( ) : org.ovirt.engine.core.common.businessentities.Snapshot.SnapshotType.REGULAR ; }
protected static boolean canAttachNonPrestartedVmToUser ( org.ovirt.engine.core.compat.Guid vm_guid , java.util.ArrayList < java.lang.String > messages ) { return org.ovirt.engine.core.bll.VmPoolCommandBase.isVmFree ( vm_guid , messages ) ; }
public void OnSuccess ( java.lang.Object model , java.lang.Object returnValue ) { java.util.List < org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface > bonds = ( ( java.util.List < org.ovirt.engine.core.common.businessentities.network.VdsNetworkInterface > ) ( ( ( org.ovirt.engine.core.common.queries.VdcQueryReturnValue ) ( returnValue ) ) . getReturnValue ( ) ) ) ; allBonds = bonds ; }
public void removeAllCommandsInHierarchy ( final org.ovirt.engine.core.compat.Guid commandId ) { for ( org.ovirt.engine.core.compat.Guid childCmdId : getChildCommandIds ( commandId ) ) { removeAllCommandsInHierarchy ( childCmdId ) ; } removeCommand ( commandId ) ; }
public void setStoragePoolId ( org.ovirt.engine.core.compat.Guid storagePoolId ) { getStoragePoolIsoMapData ( ) . setstorage_pool_id ( storagePoolId ) ; }
public void testConvertFieldEnumValueToActualValue ( ) { org.ovirt.engine.core.searchbackend.EnumValueAutoCompleter comp = new org.ovirt.engine.core.searchbackend.EnumValueAutoCompleter ( org.ovirt.engine.core.searchbackend.Jedi.class ) ; org.junit.Assert.assertEquals ( "MACE" , "4" , comp.convertFieldEnumValueToActualValue ( "MACE" ) ) ; org.junit.Assert.assertEquals ( "mace" , "4" , comp.convertFieldEnumValueToActualValue ( "mace" ) ) ; }
private org.ovirt.engine.core.common.businessentities.Snapshot getDstSnapshot ( ) { if ( ( cachedSnapshot ) == null ) { cachedSnapshot = getSnapshotDao ( ) . get ( org.ovirt.engine.core.bll.TryBackToAllSnapshotsOfVmCommand.getParameters ( ) . getDstSnapshotId ( ) ) ; } return cachedSnapshot ; }
public void initTest ( ) { initEntitiesIds ( ) ; initialSetup ( ) ; initCommand ( ) ; }
public void setupMocks ( ) { org.mockito.MockitoAnnotations.initMocks ( this ) ; mockGlobalParameters ( ) ; setUpCommand ( ) ; mockVds ( ) ; mockDbDao ( ) ; command.init ( ) ; }
public boolean getIsAvailable ( ) { return ( getDetailModel ( ) . getExternalId ( ) ) == null ; }
public void addWithExistingMacAddressSucceed ( ) { org.ovirt.engine.core.common.businessentities.network.VmNic iface = org.ovirt.engine.core.bll.network.VmInterfaceManagerTest.createNewInterface ( ) ; runAddAndVerify ( iface , true , org.mockito.Mockito.times ( 1 ) , org.ovirt.engine.core.bll.network.VmInterfaceManagerTest.OS_ID ) ; }
public void onUserPortalModelInit ( org.ovirt.engine.ui.userportal.uicommon.model.UserPortalModelInitEvent event ) { connectAutomaticallyManager.unregisterModels ( ) ; connectAutomaticallyManager.registerModel ( provider.getModel ( ) ) ; }
protected org.ovirt.engine.core.compat.Guid getId ( ) { return Id ; }
public static boolean checkImagesLocked ( org.ovirt.engine.core.common.businessentities.VM vm , java.util.List < java.lang.String > messages ) { return org.ovirt.engine.core.bll.ImagesHandler.checkImagesLocked ( vm , messages , org.ovirt.engine.core.bll.ImagesHandler.getImages ( vm , null ) ) ; }
public void testValidateStoragePoolRandomStoragePoolId ( ) { command.setStoragePoolId ( org.ovirt.engine.core.compat.Guid.newGuid ( ) ) ; org.junit.Assert.assertFalse ( command.validateStoragePool ( ) ) ; org.ovirt.engine.core.bll.ValidateTestUtils.assertValidationMessages ( "" , command , EngineMessage.ACTION_TYPE_FAILED_STORAGE_POOL_NOT_EXIST ) ; }
private void stubFailedCalls ( ) { org.mockito.Mockito.when ( resourceManager.runVdsCommand ( org.mockito.ArgumentMatchers.any ( org.ovirt.engine.core.common.vdscommands.VDSCommandType.class ) , org.mockito.ArgumentMatchers.any ( org.ovirt.engine.core.common.vdscommands.VdsIdAndVdsVDSCommandParametersBase.class ) ) ) . thenReturn ( getFailedVdsReturnValue ( ) ) ; }
public java.lang.Void runInTransaction ( ) { compensationContext.snapshotEntityStatus ( vm , vm.getstatus ( ) ) ; vm.setstatus ( VMStatus.Down ) ; org.ovirt.engine.core.bll.VmHandler.UnLockVm ( vm.getId ( ) ) ; compensationContext.stateChanged ( ) ; return null ; }
protected void setActionMessageParameters ( ) { if ( ( getMoveOrCopyImageOperation ( ) ) == ( org.ovirt.engine.core.common.businessentities.storage.ImageOperation.Move ) ) { addValidationMessage ( EngineMessage.VAR__ACTION__MOVE ) ; } else { addValidationMessage ( EngineMessage.VAR__ACTION__COPY ) ; } addValidationMessage ( EngineMessage.VAR__TYPE__VM_TEMPLATE ) ; }
private static < T > void excludeExceptions ( T dstobj ) throws java.lang.IllegalAccessException , java.lang.NoSuchMethodException , java.lang.reflect.InvocationTargetException { for ( java.lang.String field : org.ovirt.engine.sdk.mapping.Mapper.MAPPING_EXCEPTIONS ) { org.apache.commons.beanutils.PropertyUtils.setProperty ( dstobj , field , null ) ; } }
public void testLoginNameAtDirectoryWhenDirectorySet ( ) { org.ovirt.engine.core.common.businessentities.aaa.DbUser user = new org.ovirt.engine.core.common.businessentities.aaa.DbUser ( ) ; user.setLoginName ( "Legolas" ) ; user.setDomain ( "MiddleEarth.com" ) ; command.setCurrentUser ( user ) ; org.junit.Assert.assertEquals ( command.getConsoleUserName ( ) , "Legolas@MiddleEarth.com" ) ; }
public void testGetByNameAndCluster ( ) { org.ovirt.engine.core.common.businessentities.Network result = dao.getByNameAndCluster ( org.ovirt.engine.core.dao.NetworkDAOTest.EXISTING_NETWORK_NAME , cluster ) ; org.junit.Assert.assertNotNull ( result ) ; org.junit.Assert.assertEquals ( org.ovirt.engine.core.dao.NetworkDAOTest.EXISTING_NETWORK_NAME , result.getname ( ) ) ; }
public short nextShort ( short s ) { return ( ( short ) ( super . nextInt ( s ) ) ) ; }
public java.lang.String getValue ( org.ovirt.engine.core.common.businessentities.VmTemplate object ) { return object.getname ( ) ; }
private java.util.List < org.ovirt.engine.core.common.businessentities.network > getNetworkList ( ) { java.util.ArrayList < org.ovirt.engine.core.common.businessentities.network > list = new java.util.ArrayList < org.ovirt.engine.core.common.businessentities.network > ( ) ; list.add ( network ) ; return list ; }
public void onSuccess ( java.lang.Object returnValue ) { java.util.Collection < org.ovirt.engine.core.common.businessentities.network.HostNetworkQos > qoss = ( ( java.util.Collection < org.ovirt.engine.core.common.businessentities.network.HostNetworkQos > ) ( returnValue ) ) ; qosById = org.ovirt.engine.core.common.businessentities.Entities.businessEntitiesById ( qoss ) ; queryInterfaces ( ) ; }
private void mockDiskImageDao ( ) { org.mockito.Mockito.when ( diskImageDao.getSnapshotById ( org.mockito.ArgumentMatchers.any ( org.ovirt.engine.core.compat.Guid.class ) ) ) . thenReturn ( org.ovirt.engine.core.bll.CommonVmPoolCommandTestAbstract.getDiskImageList ( ) . get ( 0 ) ) ; }
private java.lang.String readFileTemplate ( ) throws java.io.FileNotFoundException { return org.ovirt.engine.sdk.codegen.utils.FileUtils.getFileContent ( ( ( getTemplatePath ( ) ) + ( this . name ) ) ) ; }
public static void RunAction ( final org.ovirt.engine.core.common.action.VdcActionType actionType , final org.ovirt.engine.core.common.action.VdcActionParametersBase parameters , final org.ovirt.engine.ui.uicompat.IFrontendActionAsyncCallback callback , final java.lang.Object state ) { org.ovirt.engine.ui.frontend.Frontend.runActionImpl ( actionType , parameters , ( callback != null ? callback : org.ovirt.engine.ui.frontend.Frontend.NULLABLE_ASYNC_CALLBACK ) , state ) ; }
public synchronized org.ovirt.engine.api.model.RSDL getRSDL ( ) throws java.io.IOException , java.lang.ClassNotFoundException { if ( ( org.ovirt.engine.api.restapi.resource.BackendApiResource.rsdl ) == null ) { org.ovirt.engine.api.rsdl.RsdlManager rsdlManager = new org.ovirt.engine.api.rsdl.RsdlManager ( ) ; org.ovirt.engine.api.restapi.resource.BackendApiResource.rsdl = rsdlManager.loadRsdl ( getCurrent ( ) . get ( org.ovirt.engine.core.common.mode.ApplicationMode.class ) ) ; } return org.ovirt.engine.api.restapi.resource.BackendApiResource.rsdl ; }
public void sparsifyNotSupportedWhenWipeAfterDeleteIsOn ( ) { org.ovirt.engine.core.common.businessentities.StorageDomain storageDomain = createStorageDomainForDisk ( StorageType.ISCSI ) ; disk.setWipeAfterDelete ( true ) ; storageDomain.setSupportsDiscardZeroesData ( false ) ; org.junit.Assert.assertThat ( validator.isSparsifySupported ( ) , org.ovirt.engine.core.bll.validator.ValidationResultMatchers.failsWith ( EngineMessage.ACTION_TYPE_FAILED_DISK_SPARSIFY_NOT_SUPPORTED_BY_UNDERLYING_STORAGE_WHEN_WAD_IS_ENABLED ) ) ; }
protected java.lang.String getDisabledMessage ( org.ovirt.engine.ui.uicommonweb.models.vms.ImportVmData model ) { return ( ( org.ovirt.engine.ui.uicommonweb.models.vms.ImportVmData ) ( model ) ) . getClone ( ) . getChangeProhibitionReason ( ) ; }
private org.ovirt.engine.core.common.businessentities.VdsNetworkInterface createVlan ( java.lang.String baseIfaceName , int vlanId , java.lang.String networkName ) { return createVdsInterface ( org.ovirt.engine.core.compat.Guid.NewGuid ( ) , ( ( baseIfaceName + "." ) + vlanId ) , false , null , vlanId , networkName ) ; }
public java.lang.Object call ( ) throws java.lang.Exception { _messages.post ( InstallerMessages.Severity.INFO , java.lang.String.format ( "Logs at host located at: '%1$s'" , _parser.cliEnvironmentGet ( CoreEnv.LOG_FILE_NAME ) ) ) ; return null ; }
private static org.ovirt.engine.core.common.action.InstallVdsParameters createParameters ( ) { org.ovirt.engine.core.common.action.InstallVdsParameters param = new org.ovirt.engine.core.common.action.InstallVdsParameters ( org.ovirt.engine.core.compat.Guid.newGuid ( ) , null ) ; param.setIsReinstallOrUpgrade ( true ) ; return param ; }
public void validateSucceeds ( ) { command.getParameters ( ) . setAuditLogId ( org.ovirt.engine.core.bll.RemoveAuditLogByIdCommandTest.EVENT_ID_3 ) ; prepareMocks ( command ) ; org.junit.Assert.assertTrue ( command.validate ( ) ) ; }
public static org.ovirt.engine.core.common.utils.customprop.VmPropertiesUtils getInstance ( ) { return org.ovirt.engine.core.common.utils.customprop.VmPropertiesUtils.vmPropertiesUtils ; }
public void testGetAllForStoragePool ( ) { java.util.List < org.ovirt.engine.core.common.businessentities.VDS > result = dao.getAllForStoragePool ( existingVds.getstorage_pool_id ( ) ) ; assertGetAllForStoragePoolCorrectResult ( result ) ; }
public void interfaceBasedOnNullProposedVlan ( ) { org.junit.Assert.assertFalse ( org.ovirt.engine.core.utils.NetworkUtils.interfaceBasedOn ( ( ( java.lang.String ) ( null ) ) , org.ovirt.engine.core.utils.NetworkUtilsTest.IFACE_NAME ) ) ; }
public static void endTaskStepAndJob ( org.ovirt.engine.core.bll.job.ExecutionContext context , boolean exitStatus ) { org.ovirt.engine.core.bll.job.ExecutionHandler.endFinalizingStepAndCurrentStep ( context , exitStatus ) ; org.ovirt.engine.core.bll.job.ExecutionHandler.endTaskJobIfNeeded ( context , exitStatus ) ; }
public java.lang.Object Convert ( java.lang.Object source , org.ovirt.engine.ui.frontend.AsyncQuery _asyncQuery ) { return source != null ? ( ( java.lang.Boolean ) ( source ) ) . booleanValue ( ) : true ; }
protected boolean syntaxErrorInProperties ( java.lang.String properties ) { return ! ( VALIDATION_PATTERN.matcher ( properties ) . matches ( ) ) ; }
public void testConfigHostPolicy ( ) { setupConfigWithSerialNumber ( SerialNumberPolicy.HOST_ID , null ) ; assertSerialNumber ( null ) ; }
protected org.ovirt.engine.core.common.vdscommands.DeleteImageGroupVDSCommandParameters buildDeleteMemoryConfParams ( java.util.List < org.ovirt.engine.core.compat.Guid > guids ) { return new org.ovirt.engine.core.common.vdscommands.DeleteImageGroupVDSCommandParameters ( guids.get ( 1 ) , guids.get ( 0 ) , guids.get ( 4 ) , isPostZero ( ) , false ) ; }
public void testRemoveIfUnusedWithUnused ( ) { prepareDao ( ) . removeIfUnused ( org.ovirt.engine.core.dao.VmIconDaoTest.UNUSED_ICON_ID ) ; final org.ovirt.engine.core.common.businessentities.VmIcon nothing = prepareDao ( ) . get ( org.ovirt.engine.core.dao.VmIconDaoTest.UNUSED_ICON_ID ) ; org.junit.Assert.assertNull ( nothing ) ; }
public java.util.List < org.ovirt.engine.core.common.businessentities.AsyncTask > getAllAsyncTasksFromDb ( ) { return coCoAsyncTaskHelper.getAllAsyncTasksFromDb ( this ) ; }
private java.lang.String changeUserPasswd ( javax.servlet.http.HttpServletRequest request , org.ovirt.engine.core.sso.utils.Credentials userCredentials ) throws org.ovirt.engine.core.sso.utils.AuthenticationException { org.ovirt.engine.core.sso.servlets.InteractiveChangePasswdServlet.log.debug ( "Calling Authn to change password for user '{}@{}'." , userCredentials.getUsername ( ) , userCredentials.getProfile ( ) ) ; org.ovirt.engine.core.sso.utils.AuthenticationUtils.changePassword ( ssoContext , request , userCredentials ) ; org.ovirt.engine.core.sso.utils.SSOUtils.getSsoSession ( request ) . setChangePasswdCredentials ( null ) ; if ( org.ovirt.engine.core.sso.utils.SSOUtils.isUserAuthenticated ( request ) ) { org.ovirt.engine.core.sso.servlets.InteractiveChangePasswdServlet.log.debug ( "User is authenticated updating password in SSOSession for password-access scope." ) ; org.ovirt.engine.core.sso.utils.SSOUtils.persistUserPassword ( request , org.ovirt.engine.core.sso.utils.SSOUtils.getSsoSession ( request ) , userCredentials.getNewCredentials ( ) ) ; } else { org.ovirt.engine.core.sso.servlets.InteractiveChangePasswdServlet.log.debug ( "User password change succeeded, redirecting to login page." ) ; org.ovirt.engine.core.sso.utils.SSOUtils.getSsoSession ( request ) . setLoginMessage ( "Change password succeeded, enter new credentials to login." ) ; } return ( request.getContextPath ( ) ) + ( org.ovirt.engine.core.sso.utils.SSOConstants.INTERACTIVE_LOGIN_URI ) ; }
private org.ovirt.engine.core.common.businessentities.Disk getOldDisk ( ) { if ( ( oldDisk ) == null ) { oldDisk = org.ovirt.engine.core.bll.UpdateVmDiskCommand.getDiskDao ( ) . get ( org.ovirt.engine.core.bll.UpdateVmDiskCommand.getParameters ( ) . getDiskId ( ) ) ; } return oldDisk ; }
private void assertGetHostsForStorageOperationCorrectStoragePool ( java.util.List < org.ovirt.engine.core.common.businessentities.VDS > result ) { for ( org.ovirt.engine.core.common.businessentities.VDS vds : result ) { org.junit.Assert.assertEquals ( vds.getStoragePoolId ( ) , FixturesTool.STORAGE_POOL_RHEL6_ISCSI ) ; } }
public void setDiskInfoList ( java.util.ArrayList < org.ovirt.engine.core.common.businessentities.DiskImage > diskInfoList ) { this . diskInfoList = diskInfoList ; }
public void onSuccess ( java.lang.Object model , java.lang.Object returnValue ) { setCommandExecutionAllowedForProvider ( ( ( org.ovirt.engine.core.common.businessentities.Provider ) ( ( ( org.ovirt.engine.core.common.queries.VdcQueryReturnValue ) ( returnValue ) ) . getReturnValue ( ) ) ) ) ; }
protected org.ovirt.engine.core.common.queries.VdcQueryReturnValue runInternalQuery ( org.ovirt.engine.core.common.queries.VdcQueryType actionType , org.ovirt.engine.core.common.queries.VdcQueryParametersBase parameters ) { parameters.setRefresh ( false ) ; return getBackend ( ) . runInternalQuery ( actionType , parameters , getEngineContext ( ) ) ; }
public void testCloneFromTemplateWithClonePermissionsClone ( ) throws java.lang.Exception { org.ovirt.engine.api.model.Vm model = createModel ( createDisksCollection ( ) ) ; model.setPermissions ( new org.ovirt.engine.api.model.Permissions ( ) ) ; model.getPermissions ( ) . setClone ( true ) ; doTestCloneFromTemplateWithClonePermissions ( model , true ) ; }
public void getCustomValueFromEmptyMap ( ) { final org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBase b = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBaseTest.TestAuditLogableBase ( ) ; final java.lang.String s = b.getCustomValue ( org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBaseTest.NAME ) ; org.junit.Assert.assertEquals ( "" , s ) ; }
private org.ovirt.engine.core.common.businessentities.VM initializeMock ( final int domainSizeGB , final int sizeRequired ) { mockVmTemplateDaoReturnVmTemplate ( ) ; mockDiskImageDaoGetSnapshotById ( ) ; mockStorageDomainDaoGetForStoragePool ( domainSizeGB ) ; mockStorageDomainDaoGet ( domainSizeGB ) ; mockConfig ( ) ; org.ovirt.engine.core.common.businessentities.VM vm = org.ovirt.engine.core.bll.AddVmCommandTest.createVm ( ) ; return vm ; }
private boolean hasVolumeBricksOnServer ( ) { if ( ( getGlusterBrickDao ( ) . getGlusterVolumeBricksByServerId ( org.ovirt.engine.core.bll.RemoveVdsCommand.getVdsId ( ) ) . size ( ) ) > 0 ) { return true ; } else { return false ; } }
public java.lang.String getTimeZone ( ) { return vmStatic.gettime_zone ( ) ; }
protected org.ovirt.engine.core.common.vdscommands.VDSReturnValue runVdsCommand ( org.ovirt.engine.core.common.vdscommands.VDSCommandType commandType , org.ovirt.engine.core.common.vdscommands.VDSParametersBase params ) { return org.ovirt.engine.core.bll.Backend.getInstance ( ) . getResourceManager ( ) . RunVdsCommand ( commandType , params ) ; }
boolean Validate ( ) ;
public static boolean hasSmartcardDevice ( org.ovirt.engine.core.compat.Guid vmId ) { return ! ( org.ovirt.engine.core.bll.utils.VmDeviceUtils.getSmartcardDevices ( vmId ) . isEmpty ( ) ) ; }
public java.lang.String serialize ( java.lang.Object payload ) throws org.ovirt.engine.core.utils.SerializationExeption { return writeJsonAsString ( payload , org.ovirt.engine.core.utils.serialization.json.JsonObjectSerializer.formattedMapper ) ; }
java.util.List < org.ovirt.engine.core.common.businessentities.Disk > getAllAttachableDisksByPoolId ( org.ovirt.engine.core.compat.Guid poolId , org.ovirt.engine.core.compat.Guid userId , boolean isFiltered ) ;
public void setup ( ) { org.mockito.Mockito.doReturn ( proxyLocator ) . when ( validator ) . getProxyLocator ( org.mockito.Mockito.any ( org.ovirt.engine.core.common.businessentities.VDS.class ) ) ; org.mockito.Mockito.doReturn ( backend ) . when ( validator ) . getBackend ( ) ; }
public static void cleanUp ( ) { if ( ( org.ovirt.engine.core.utils.ssh.TransferTest.local1 ) != null ) { org.ovirt.engine.core.utils.ssh.TransferTest.local1.delete ( ) ; org.ovirt.engine.core.utils.ssh.TransferTest.local1 = null ; } org.ovirt.engine.core.utils.ssh.TestCommon.terminate ( ) ; }
private boolean isNicToConfigureContainTheLabel ( java.lang.String nicName , java.lang.String label ) { java.util.Set < java.lang.String > labelsToConfigure = getLabelsToConfigureOnNic ( nicName ) ; return labelsToConfigure == null ? false : labelsToConfigure.contains ( label ) ; }
private boolean isEditConsoleEnabled ( org.ovirt.engine.ui.uicommonweb.models.userportal.UserPortalItemModel item ) { return ( ( item.getVM ( ) ) != null ) && ( item.getVM ( ) . isRunningOrPaused ( ) ) ; }
private java.lang.String generateMetaDataFile ( java.util.List < org.ovirt.engine.core.compat.Guid > vmAndTemplatesIds ) { java.util.Map < java.lang.String , java.lang.Object > data = new java.util.HashMap < > ( ) ; addVmsStatus ( vmAndTemplatesIds , data ) ; return buildJson ( data , true ) ; }
public void markAsInvalid ( java.util.List < java.lang.String > validationHints ) { valid = false ; applyCommonValidationStyles ( ) ; getValidatedWidgetStyle ( ) . setBorderColor ( "red" ) ; getValidatedWidget ( ) . setTitle ( getValidationTitle ( validationHints ) ) ; }
protected com.google.gwt.user.client.ui.TreeItem getNodeItem ( org.ovirt.engine.core.common.businessentities.storage.Disk disk ) { return getDiskNode ( new java.util.ArrayList < org.ovirt.engine.core.common.businessentities.storage.Disk > ( java.util.Arrays.asList ( disk ) ) ) ; }
private void attachVmDisksToStorageDomain ( org.ovirt.engine.core.common.businessentities.StorageDomain storageDomain , org.ovirt.engine.core.common.businessentities.storage.DiskImage ... vmDisks ) { for ( org.ovirt.engine.core.common.businessentities.storage.DiskImage diskImage : vmDisks ) { diskImage.setStorageIds ( new java.util.ArrayList < org.ovirt.engine.core.compat.Guid > ( java.util.Arrays.asList ( storageDomain.getId ( ) ) ) ) ; } }
public void setIsVolumeFormatAvailable ( boolean isVolumeFormatAvailable ) { this . volumeFormatAvailable = isVolumeFormatAvailable ; }
public void vnicProfileExist ( ) throws java.lang.Exception { vnicProfileValidationTest ( org.ovirt.engine.core.bll.validator.ValidationResultMatchers.isValid ( ) , true , true , false , false ) ; }
private void updateActionAvailability ( ) { org.ovirt.engine.core.common.businessentities.DiskImage disk = ( ( org.ovirt.engine.core.common.businessentities.DiskImage ) ( getEntity ( ) ) ) ; }
public void onSuccess ( java.lang.Object model , java.lang.Object returnValue ) { allNetworks = ( ( java.util.List < org.ovirt.engine.core.common.businessentities.network.Network > ) ( returnValue ) ) ; initNetworkModels ( ) ; initDcNetworkParams ( ) ; queryInterfaces ( ) ; }
protected boolean isVersionSupportedForShareable ( org.ovirt.engine.core.common.businessentities.Disk disk , java.lang.String compVersion ) { if ( ( disk.getDiskStorageType ( ) ) == ( org.ovirt.engine.core.common.businessentities.Disk.DiskStorageType.IMAGE ) ) { return org.ovirt.engine.core.common.config.Config.< java.lang.Boolean > GetValue ( ConfigValues.ShareableDiskEnabled , compVersion ) ; } return true ; }
public org.ovirt.engine.api.resource.gluster.GlusterHookResource getGlusterHookSubResource ( @ javax.ws.rs.PathParam ( value = "hook_id" ) java.lang.String id ) ;
public void getClusterWithId ( ) { final org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBase b = new org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBaseTest.TestAuditLogableBase ( ) ; b.setClusterId ( org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBaseTest.GUID ) ; final org.ovirt.engine.core.common.businessentities.Cluster g = b.getCluster ( ) ; org.junit.Assert.assertEquals ( org.ovirt.engine.core.dal.dbbroker.auditloghandling.AuditLogableBaseTest.GUID , g.getId ( ) ) ; }
java.lang.String nameDisk ( ) ;
public java.lang.String getTemplate ( java.lang.String realUrlParamName , java.lang.String headerParamName ) { org.ovirt.engine.sdk.codegen.utils.StringTemplateWrapper templateWrapper = new org.ovirt.engine.sdk.codegen.utils.StringTemplateWrapper ( getTemplate ( ) , true ) ; templateWrapper.set ( "realUrlParamName" , realUrlParamName ) ; templateWrapper.set ( "headerParamName" , headerParamName ) ; return templateWrapper.toString ( ) ; }
public void testValidateUniqueTemplateNameInDC ( ) { org.ovirt.engine.core.bll.exportimport.ImportVmTemplateCommand command = setupVolumeFormatAndTypeTest ( VolumeFormat.RAW , VolumeType.Preallocated , StorageType.NFS ) ; org.mockito.Mockito.doReturn ( true ) . when ( command ) . isVmTemplateWithSameNameExist ( ) ; org.ovirt.engine.core.bll.ValidateTestUtils.runAndAssertValidateFailure ( command , EngineMessage.VM_CANNOT_IMPORT_TEMPLATE_NAME_EXISTS ) ; }
public void setVmId ( org.ovirt.engine.core.compat.NGuid vmId ) { this . vmId = vmId ; this . statistics.setVmId ( vmId ) ; }
public java.lang.Void runInTransaction ( ) { compensationContext.snapshotEntityStatus ( vm , vm.getstatus ( ) ) ; org.ovirt.engine.core.bll.VmHandler.LockVm ( vm.getId ( ) ) ; compensationContext.stateChanged ( ) ; return null ; }
protected void persistCollectedData ( ) { updateNetConfigDirtyFlag ( ) ; hostNetworkTopologyPersister.persistAndEnforceNetworkCompliance ( getVds ( ) , skipManagementNetwork ( ) , org.ovirt.engine.core.common.businessentities.Entities.entitiesByName ( getParameters ( ) . getInterfaces ( ) ) ) ; }
protected void compileInternal ( ) { java.util.Set < java.lang.String > inParams = new java.util.HashSet < java.lang.String > ( getInParameterNames ( ) ) ; inParams.add ( "dummyParamNeverUsed" ) ; setInParameterNames ( inParams ) ; super . compileInternal ( ) ; }
public void testGet ( ) { setUriInfo ( setUpBasicUriExpectations ( ) ) ; resource.setParent ( getCollectionResourceMock ( ) ) ; control.replay ( ) ; org.ovirt.engine.api.model.Hook hook = resource.get ( ) ; assertEquals ( hook.getEventName ( ) , org.ovirt.engine.api.restapi.resource.BackendHostHookResourceTest.EVENT_2_NAME ) ; }
private void validateAndExpectNoViolations ( org.ovirt.engine.core.bll.SetupNetworksHelper helper ) { java.util.List < org.ovirt.engine.core.dal.VdcBllMessages > violations = helper.validate ( ) ; junit.framework.Assert.assertTrue ( ( "Expected no violations, but got: " + violations ) , violations.isEmpty ( ) ) ; }
protected void setLock ( org.ovirt.engine.core.utils.lock.EngineLock lock ) { context.withLock ( null ) ; }
public void testGet ( ) throws java.lang.Exception { setUpGetEntityExpectations ( 0 , false ) ; setUriInfo ( setUpBasicUriExpectations ( ) ) ; control.replay ( ) ; verifyModel ( resource.get ( ) , 0 ) ; }
public java.util.List < org.ovirt.engine.core.common.businessentities.AsyncTasks > getTasksByEntity ( org.ovirt.engine.core.compat.Guid entityId ) { org.springframework.jdbc.core.namedparam.MapSqlParameterSource parameterSource = getCustomMapSqlParameterSource ( ) ; parameterSource.addValue ( "entity_id" , entityId ) ; return getCallsHandler ( ) . executeReadList ( "GetAsyncTasksByEntityId" , org.ovirt.engine.core.dao.AsyncTaskDAODbFacadeImpl.AsyncTaskRowMapper.instance , parameterSource ) ; }
public void validateFails ( ) { cmd = org.mockito.Mockito.spy ( createTestCommand ( volumeId1 , 0 ) ) ; prepareMocks ( cmd ) ; org.junit.Assert.assertFalse ( cmd.validate ( ) ) ; }
public static void setEngineSessionId ( javax.servlet.http.HttpSession session , java.lang.String sessionId ) { org.ovirt.engine.api.common.security.auth.SessionUtils.log.debug ( ( "setting engine session ID to " + sessionId ) ) ; session.setAttribute ( org.ovirt.engine.api.common.security.auth.SessionUtils.ENGINE_SESSION_ID_KEY , sessionId ) ; }
public void setStatus ( org.ovirt.engine.core.common.businessentities.StorageDomainStatus status ) { getStoragePoolIsoMapData ( ) . setstatus ( status ) ; }
private static org.ovirt.engine.core.bll.storage.pool.RemoveStoragePoolCommand < org.ovirt.engine.core.common.action.StoragePoolParametersBase > createCommand ( org.ovirt.engine.core.common.action.StoragePoolParametersBase param ) { return new org.ovirt.engine.core.bll.storage.pool.RemoveStoragePoolCommand < org.ovirt.engine.core.common.action.StoragePoolParametersBase > ( param ) ; }
public void executeCommand ( org.ovirt.engine.ui.uicommonweb.UICommand uiCommand ) { logSsoOnDesktopFailedAgentNonResp ( spiceConsoleModel.getLogger ( ) , ( logonCommandReturnValue != null ? logonCommandReturnValue.getDescription ( ) : "" ) ) ; spiceConsoleModel.executeQuery ( getEntity ( ) ) ; getParentModel ( ) . setWindow ( null ) ; }
private void handleResult ( org.ovirt.engine.core.common.vdscommands.VDSFenceReturnValue result ) { if ( wasSkippedDueToPolicy ( result ) ) { org.ovirt.engine.core.bll.FenceVdsBaseCommand.setCommandShouldBeLogged ( false ) ; } setActionReturnValue ( result ) ; setSucceeded ( result.getSucceeded ( ) ) ; }
protected java.lang.String generateVmMetadata ( org.ovirt.engine.core.common.businessentities.VM vm , java.util.ArrayList < org.ovirt.engine.core.common.businessentities.storage.DiskImage > AllVmImages ) { return ovfManager.exportVm ( vm , AllVmImages , org.ovirt.engine.core.bll.utils.ClusterUtils.getCompatibilityVersion ( vm ) ) ; }
public static void main ( java.lang.String [ ] args ) throws java.lang.Exception { org.ovirt.engine.sdk4.Connection connection = org.ovirt.engine.sdk4.ConnectionBuilder.connection ( ) . url ( "https://engine40.example.com/ovirt-engine/api" ) . user ( "admin@internal" ) . password ( "redhat123" ) . trustStoreFile ( "truststore.jks" ) . build ( ) ; org.ovirt.engine.sdk4.services.HostsService hostsService = connection.systemService ( ) . hostsService ( ) ; org.ovirt.engine.sdk4.types.Host host = hostsService.list ( ) . search ( "name=myhost" ) . send ( ) . hosts ( ) . get ( 0 ) ; org.ovirt.engine.sdk4.services.HostService hostService = hostsService.hostService ( host.id ( ) ) ; if ( ! ( host.status ( ) . state ( ) . equals ( "maitenance" ) ) ) { hostService.deactivate ( ) . send ( ) ; } hostService.remove ( ) . send ( ) ; connection.close ( ) ; }
default void inputDetail ( ) { org.ovirt.api.metamodel.language.ApiLanguage.or ( org.ovirt.api.metamodel.language.ApiLanguage.mandatory ( storageDomain ( ) . id ( ) ) , org.ovirt.api.metamodel.language.ApiLanguage.mandatory ( storageDomain ( ) . name ( ) ) ) ; org.ovirt.api.metamodel.language.ApiLanguage.optional ( storageDomain ( ) . backup ( ) ) ; }
public void onSuccess ( java.lang.Object model , java.lang.Object returnValue ) { setNumberOfVms ( ( ( java.lang.Integer ) ( ( ( org.ovirt.engine.core.common.queries.VdcQueryReturnValue ) ( returnValue ) ) . getReturnValue ( ) ) ) ) ; }
private void assertCanDoActionMessage ( org.ovirt.engine.core.common.errors.VdcBllMessages msg ) { org.junit.Assert.assertTrue ( "canDoAction failed for the wrong reason" , command.getReturnValue ( ) . getCanDoActionMessages ( ) . contains ( msg.name ( ) ) ) ; }
public org.ovirt.engine.core.compat.Guid getbookmark_id ( ) { return id ; }
public void setVmSnapshotId ( org.ovirt.engine.core.compat.Guid snapshotId ) { getImage ( ) . setSnapshotId ( ( snapshotId == null ? null : snapshotId.getValue ( ) ) ) ; }
public java.lang.String renderNullSafe ( java.lang.Object object ) { return ( ( org.ovirt.engine.core.common.businessentities.VmTemplate ) ( object ) ) . getname ( ) ; }
public void insufficientDiskSpace ( ) { final org.ovirt.engine.core.bll.exportimport.ImportVmTemplateCommand command = setupVolumeFormatAndTypeTest ( VolumeFormat.RAW , VolumeType.Preallocated , StorageType.NFS ) ; org.mockito.Mockito.doReturn ( false ) . when ( command ) . validateSpaceRequirements ( org.mockito.Matchers.anyList ( ) ) ; org.junit.Assert.assertFalse ( command.validate ( ) ) ; }
public void isISCSIConnectionAndDomain ( ) { connection.setstorage_type ( StorageType.ISCSI ) ; domain.setStorageType ( StorageType.ISCSI ) ; org.junit.Assert.assertTrue ( validator.isISCSIConnectionAndDomain ( domain ) . isValid ( ) ) ; }
public void onSuccess ( java.lang.Object model , java.lang.Object returnValue ) { context.clusterFoundByName = org.ovirt.engine.ui.uicommonweb.Linq.firstOrNull ( ( ( java.lang.Iterable < org.ovirt.engine.core.common.businessentities.Cluster > ) ( returnValue ) ) ) ; prepare2 ( ) ; }
public static org.ovirt.engine.core.common.TimeZoneType getTimeZoneByOs ( org.ovirt.engine.core.common.businessentities.VmOsType vmOsType ) { return vmOsType.isWindows ( ) ? org.ovirt.engine.core.common.TimeZoneType.WINDOWS_TIMEZONE : org.ovirt.engine.core.common.TimeZoneType.GENERAL_TIMEZONE ; }
public void addReturnsFalseWithCallToMacPoolManager ( ) { runAddAndVerify ( createNewInterface ( ) , false , org.mockito.Mockito.times ( 1 ) , false ) ; }
public java.lang.String render ( java.lang.Object object ) { org.ovirt.engine.core.common.businessentities.gluster.GlusterVolumeOptionInfo optionInfo = ( ( org.ovirt.engine.core.common.businessentities.gluster.GlusterVolumeOptionInfo ) ( object ) ) ; if ( optionInfo != null ) { return optionInfo.getKey ( ) ; } return null ; }
public org.ovirt.engine.core.bll.ValidationResult hasSpaceForSnapshots ( org.ovirt.engine.core.common.businessentities.VM vm , java.util.List < org.ovirt.engine.core.common.businessentities.Disk > plugDisks ) { return org.ovirt.engine.core.bll.ValidationResult.VALID ; }
public static boolean isSerialNumberPolicySupported ( java.lang.String version ) { return ( ( java.lang.Boolean ) ( org.ovirt.engine.ui.uicommonweb.dataprovider.AsyncDataProvider.getConfigValuePreConverted ( ConfigurationValues.SerialNumberPolicySupported , version ) ) ) ; }
public void setVmName ( java.lang.String value ) { this . vmStatic.setVmName ( value ) ; }
public org.ovirt.engine.core.common.businessentities.network.Ipv4BootProtocol getBootProtocol ( ) { return nic.getIpv4BootProtocol ( ) ; }
public void setUp ( ) { clusterId = org.ovirt.engine.core.compat.Guid.newGuid ( ) ; org.ovirt.engine.core.utils.ThreadLocalParamsContainer.setHttpSessionId ( "session" ) ; }
private void mockBackend ( ) { org.mockito.Mockito.when ( backend.runAction ( org.mockito.ArgumentMatchers.any ( org.ovirt.engine.core.common.action.ActionType.class ) , org.mockito.ArgumentMatchers.any ( org.ovirt.engine.core.common.action.CpuProfileParameters.class ) ) ) . thenReturn ( new org.ovirt.engine.core.common.action.ActionReturnValue ( ) ) ; }
private org.ovirt.engine.core.common.businessentities.storage.LunDisk createLunDisk ( org.ovirt.engine.core.common.businessentities.storage.ScsiGenericIO sgio , boolean isUsingScsiReservation ) { org.ovirt.engine.core.common.businessentities.storage.LunDisk lunDisk = org.ovirt.engine.core.bll.validator.storage.DiskValidatorTest.createLunDisk ( ) ; lunDisk.setSgio ( sgio ) ; lunDisk.setUsingScsiReservation ( isUsingScsiReservation ) ; return lunDisk ; }
public java.lang.Boolean isConsoleAddressPartiallyOverridden ( ) { return consoleAddressPartiallyOverridden ; }
public void testIsNetworkInSyncWhenNetworkQosIsNull ( ) throws java.lang.Exception { networkQos = null ; org.junit.Assert.assertThat ( createTestedInstanceWithSameNonQosValues ( ) . isNetworkInSync ( ) , org.hamcrest.CoreMatchers.is ( false ) ) ; }
protected java.lang.String extractNameFromEntity ( org.ovirt.engine.core.common.businessentities.VmTemplate entity ) { return entity.getname ( ) ; }
protected boolean canDoAction ( ) { return ( super . canDoAction ( ) ) && ( validate ( getVfsConfigValidator ( ) . labelNotInVfsConfig ( getLabel ( ) ) ) ) ; }
protected void initLinked ( ) { if ( hotUpdateSupported ) { getLinked ( ) . setEntity ( getNic ( ) . isLinked ( ) ) ; } else { getLinked ( ) . setEntity ( true ) ; getLinked ( ) . setIsAvailable ( false ) ; } }
public java.lang.String renderNullSafe ( org.ovirt.engine.core.common.businessentities.Role object ) { return object.getname ( ) ; }
public void onSuccess ( java.lang.Object target , java.lang.Object returnValue ) { getConnectivityTimeout ( ) . setEntity ( returnValue ) ; postOnSetupNetworks ( ) ; }
public void update ( int index , org.ovirt.engine.ui.uicommonweb.models.EntityModel model , java.lang.Boolean value ) { org.ovirt.engine.ui.uicommonweb.models.providers.ExternalNetwork externalNetwork = ( ( org.ovirt.engine.ui.uicommonweb.models.providers.ExternalNetwork ) ( model ) ) ; externalNetwork.setPublicUse ( value ) ; refreshImportedNetworks ( ) ; }
protected java.util.List < org.ovirt.engine.core.common.businessentities.DiskImage > getAllImageSnapshots ( org.ovirt.engine.core.common.businessentities.DiskImage diskImage ) { return org.ovirt.engine.core.bll.ImagesHandler.getAllImageSnapshots ( diskImage.getImageId ( ) , diskImage.getImageTemplateId ( ) ) ; }
protected org.ovirt.engine.core.common.businessentities.vm_pools getVmPool ( ) { if ( ( ( mVmPool ) == null ) && ( ( getVmPoolId ( ) ) != null ) ) { mVmPool = org.ovirt.engine.core.dal.dbbroker.DbFacade.getInstance ( ) . getVmPoolDAO ( ) . get ( getVmPoolId ( ) ) ; } return mVmPool ; }
